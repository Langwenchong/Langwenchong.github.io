<!DOCTYPE html>
<html lang='zh-CN'>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fc63ac4843a697431e3d43c4d48b99de";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://fastly.jsdelivr.net'>
  <link rel="preconnect" href="https://fastly.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>vuexä»å…¥é—¨åˆ°å®æˆ˜ - é›¨ä¸­â€¢å­¦åœƒå ‚</title>

  
    <meta name="description" content="vuexæ˜¯ä¸€æ¬¾é’ˆå¯¹vue.jsä¸­å¤æ‚çš„é€šä¿¡åœºæ™¯ä¸‹è¡ç”Ÿçš„æŠ€æœ¯æ’ä»¶ï¼Œä»–å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©æˆ‘ä»¬è½»æ¾å®Œæˆå¤§èŒƒå›´å†…çš„ç»„ä»¶é€šä¿¡ï¼Œè¿˜ä¸å¿«è¿›æ¥å­¦ä¹ ğŸ˜‹ï¼Ÿ">
<meta property="og:type" content="article">
<meta property="og:title" content="vuexä»å…¥é—¨åˆ°å®æˆ˜">
<meta property="og:url" content="https://scholar.coolchong.cn/2021/12/12/vuex/index.html">
<meta property="og:site_name" content="é›¨ä¸­â€¢å­¦åœƒå ‚">
<meta property="og:description" content="vuexæ˜¯ä¸€æ¬¾é’ˆå¯¹vue.jsä¸­å¤æ‚çš„é€šä¿¡åœºæ™¯ä¸‹è¡ç”Ÿçš„æŠ€æœ¯æ’ä»¶ï¼Œä»–å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©æˆ‘ä»¬è½»æ¾å®Œæˆå¤§èŒƒå›´å†…çš„ç»„ä»¶é€šä¿¡ï¼Œè¿˜ä¸å¿«è¿›æ¥å­¦ä¹ ğŸ˜‹ï¼Ÿ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212153218.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212153828.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212154714.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212155115.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212155701.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212162744.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212195342.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212201139.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212202617.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212204709.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212205839.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212215043.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211212215538.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211217091206.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211217093610.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211217094144.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211213135123.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211213141247.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20211213145428.png">
<meta property="article:published_time" content="2021-12-12T06:26:45.000Z">
<meta property="article:modified_time" content="2023-01-29T10:27:41.746Z">
<meta property="article:author" content="Wenchong Lang">
<meta property="article:tag" content="vue">
<meta property="article:tag" content="vuex">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://langwenchong.gitee.io/figure-bed/20211212153218.png">
  
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="é›¨ä¸­â€¢å­¦åœƒå ‚" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://cdn.coolchong.cn/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/langwenchong.png">
  

  
    
<link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/highlightjs/cdn-release@11.7.0/build/styles/github.min.css">

  

  
    <link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    <script defer src="https://fastly.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" ></script>
    <script defer src="https://fastly.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
  


  
    
      <link href="https://fonts.font.im/css?family=Dancing+Script" rel="stylesheet">
    
      <link href="https://fastly.jsdelivr.net/gh/volantis-x/cdn-fontawesome-pro@master/css/all.min.css" rel="stylesheet">
    
      <link href="https://gcore.jsdelivr.net/gh/highlightjs/cdn-release@11.5.0/build/styles/github-dark.min.css">
    
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='post'>
    

  

<header class="header"><div class="logo-wrap"><a class="avatar" target="_blank" rel="noopener" href="https://blog.coolchong.cn/about.html"><div class="bg" style="opacity:0;background-image:url(https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/avatar/round/rainbow64@3x.webp);"></div><img no-lazy class="avatar" src="http://cdn.coolchong.cn/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/langwenchong.png" onerror="javascript:this.classList.add('error');this.src='https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/image/2659360.svg';"></a><a class="title" href="/"><div class="main" ff="title">é›¨ä¸­â€¢å­¦åœƒå ‚</div><div class="sub normal cap">çºµæœ‰ç–¾é£èµ·ï¼Œäººç”Ÿä¸è¨€å¼ƒğŸ‘Š</div><div class="sub hover cap" style="opacity:0"> åˆ«å†å­¦ä¹ å•¦ï¼Œäººå®¶éƒ½å›°äº†ğŸ¥±</div></a></div>

<nav class="menu dis-select"><a class="nav-item active" href="/">ä¸»é¡µ</a><a class="nav-item" href="/wiki/">ç¬”è®°</a><a class="nav-item" href="/notes/">ä¾¿ç¬º</a></nav>
</header>


<div class="widgets">
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" placeholder="æƒ³æ‰¾ç‚¹ä»€ä¹ˆï¼Ÿ"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">å¥½åƒå¹¶æœªæ‰¾åˆ°ä»€ä¹ˆï¼</div></div></div></widget>

<widget class="widget-wrapper ghrepo"><div class="widget-body"><div class="items stellar-ghinfo-api" api="https://api.github.com/repos/Langwenchong/vuex-demo"><a class="repo" href="https://github.com/Langwenchong/vuex-demo" target="_blank" rel="external nofollow noopener noreferrer"><div class="repo-name flex-row"><svg aria-hidden="true" role="img" class="color-icon-primary" viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor" style="user-select:none;overflow:visible"><path fill-rule="evenodd" d="M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z"></path></svg>Langwenchong/vuex-demo</div><div class="repo-desc"><span type="text" id="description">&nbsp;</span></div><div class="grid"><div class="flex-row"><svg aria-hidden="true" role="img" class="color-icon-primary" viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor" style="user-select:none;overflow:visible"><path fill-rule="evenodd" d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z"></path></svg><span type="text" id="stargazers_count"></span></div><div class="flex-row"><svg aria-hidden="true" role="img" class="color-icon-primary" viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor" style="user-select:none;overflow:visible"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z"></path></svg><span type="text" id="forks_count"></span></div><div class="flex-row stellar-ghinfo-api" index="0" api="https://api.github.com/repos/Langwenchong/vuex-demo/tags"><svg aria-hidden="true" role="img" class="color-icon-primary" viewBox="0 0 16 16" width="1em" height="1em" fill="currentColor" style="user-select:none;overflow:visible"><path fill-rule="evenodd" d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z"></path></svg><span type="text" id="latest-tag-name">0</span></div></div></a></div></div></widget>


<widget class="widget-wrapper toc single" id="data-toc"><div class="widget-header cap dis-select"><span class="name">vuexä»å…¥é—¨åˆ°å®æˆ˜</span></div><div class="widget-body fs14"><div class="doc-tree active"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex%E7%AE%80%E4%BB%8B"><span class="toc-text"> vuexç®€ä»‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BC%A0%E7%BB%9F%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-text"> ä¼ ç»Ÿç»„ä»¶é€šä¿¡æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E4%B8%8A%E9%9D%A2%E7%9A%84%E4%BE%8B%E5%AD%90%E4%B8%AD%E7%88%B6%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-text"> æ€è€ƒï¼šä¸Šé¢çš„ä¾‹å­ä¸­çˆ¶ç»„ä»¶çš„ä½œç”¨ï¼Ÿ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text"> vuexå·¥ä½œæµç¨‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vuex%E5%BA%94%E7%94%A8"><span class="toc-text"> Vuexåº”ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E5%AE%89%E8%A3%85"><span class="toc-text"> vuexå®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#state%E4%BD%BF%E7%94%A8"><span class="toc-text"> stateä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-text"> æ–¹æ³•ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text"> æ–¹æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mutations%E4%BD%BF%E7%94%A8"><span class="toc-text"> mutationsä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-2"><span class="toc-text"> æ–¹æ³•ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C-2"><span class="toc-text"> æ–¹æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#getters%E4%BD%BF%E7%94%A8"><span class="toc-text"> gettersä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-3"><span class="toc-text"> æ–¹æ³•ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C-3"><span class="toc-text"> æ–¹æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#actions%E4%BD%BF%E7%94%A8"><span class="toc-text"> actionsä½¿ç”¨</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80-4"><span class="toc-text"> æ–¹æ³•ä¸€</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C-4"><span class="toc-text"> æ–¹æ³•äºŒ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E5%AE%9E%E6%88%98"><span class="toc-text"> åº”ç”¨å®æˆ˜</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%BC%82%E6%AD%A5%E6%89%A7%E8%A1%8C%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-text"> å…³äºå¼‚æ­¥æ‰§è¡Œçš„é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84%E6%95%B4%E7%90%86"><span class="toc-text"> æ–‡ä»¶ç»“æ„æ•´ç†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#modules%E4%BD%BF%E7%94%A8"><span class="toc-text"> modulesä½¿ç”¨</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-text"> æ€»ç»“</span></a></li></ol></div></div></widget>
</div>
<footer class="footer dis-select"><div class="social-wrap"><a class="social" href="http://github.com/langwenchong" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/08a41b181ce68.svg"/></a><a class="social" href="mailto:1422257646@qq.com" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.3/social/a1b00e20f425d.svg"/></a><a class="social" href="http://wpa.qq.com/msgrd?v=3&uin=1422257646&site=qq&menu=yes" target="_blank" rel="external nofollow noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/942ebbf1a4b91.svg"/></a><a class="social" href="/atom.xml" rel="noopener noreferrer"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.3/social/25678f144c438.svg"/></a></div></footer>

    </aside>
    <div class='l_main'>
      

      <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fc63ac4843a697431e3d43c4d48b99de";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>




<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" href="/">ä¸»é¡µ</a><span class="sep"></span><a class="cap breadcrumb" href="/">æ–‡ç« </a><span class="sep"></span><a class="cap breadcrumb-link" href="/categories/%E5%BC%80%E5%8F%91%E6%8A%80%E8%83%BD/">å¼€å‘æŠ€èƒ½</a></div><div id="post-meta">å‘å¸ƒäº&nbsp;<time datetime="2021-12-12T06:26:45.000Z">2021-12-12</time></div></div>

<article class='md-text content post reveal'>
<h1 class="article-title"><span>vuexä»å…¥é—¨åˆ°å®æˆ˜</span></h1>
<p>vuexæ˜¯ä¸€æ¬¾é’ˆå¯¹vue.jsä¸­å¤æ‚çš„é€šä¿¡åœºæ™¯ä¸‹è¡ç”Ÿçš„æŠ€æœ¯æ’ä»¶ï¼Œä»–å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©æˆ‘ä»¬è½»æ¾å®Œæˆå¤§èŒƒå›´å†…çš„ç»„ä»¶é€šä¿¡ï¼Œè¿˜ä¸å¿«è¿›æ¥å­¦ä¹ ğŸ˜‹ï¼Ÿ</p>
<span id="more"></span>
<h3 id="vuexç®€ä»‹"><a class="markdownIt-Anchor" href="#vuexç®€ä»‹"></a> vuexç®€ä»‹</h3>
<p>ä»€ä¹ˆæ˜¯ <code>vuex</code>ï¼Ÿè¿™æ˜¯æ¯ä¸€ä¸ªæ–°æ‰‹å°ç™½éƒ½å¾ˆå¥½å¥‡çš„é—®é¢˜ï¼Œæˆ‘ä»¬è¦çŸ¥é“ä»»ä½•ä¸€ç§æ–°æŠ€æœ¯çš„äº§ç”Ÿè‚¯å®šéƒ½æ˜¯ä¸ºäº†è§£å†³æŸç§å¤æ‚çš„é—®é¢˜ï¼Œè€Œvuexå°±æ˜¯ä¸ºäº†è§£å†³å¤§èŒƒå›´å†…vueç»„ä»¶ä¸­é€šä¿¡é—®é¢˜çš„ã€‚è¿™é‡Œæˆ‘ä»¬ä»ç»„ä»¶çš„é€šä¿¡æ–¹å¼å…¥æ‰‹æ¥é€æ­¥äº†è§£vuexäº§ç”Ÿçš„ç¼˜ç”±ä»¥åŠä»–çš„ä½œç”¨ã€‚</p>
<h4 id="ä¼ ç»Ÿç»„ä»¶é€šä¿¡æ–¹å¼"><a class="markdownIt-Anchor" href="#ä¼ ç»Ÿç»„ä»¶é€šä¿¡æ–¹å¼"></a> ä¼ ç»Ÿç»„ä»¶é€šä¿¡æ–¹å¼</h4>
<p>æˆ‘ä»¬å›å¿†ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰å­¦ä¹ çš„ç»„ä»¶é€šä¿¡çš„æ–¹å¼ï¼Œå¸¸ç”¨çš„æ˜¯çˆ¶å­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæ­¤æ—¶çˆ¶ç»„ä»¶é€šè¿‡ <code>:bind</code>ç»‘å®šä¸€ä¸ªå€¼ç»™å­ç»„ä»¶ï¼Œç„¶åå­ç»„ä»¶é€šè¿‡ <code>props</code>æ¥æ”¶è¿™ä¸ªå€¼ï¼Œæ­¤æ—¶è¿™ä¸ªä»çˆ¶ç»„ä»¶æ‹¿åˆ°çš„å€¼æ˜¯å“åº”å¼çš„ï¼Œä½†æ˜¯ä»…ä»…æ˜¯å•å‘æ›´æ–°ï¼Œå³å­ç»„ä»¶åªèƒ½æ¥å—åˆ°çˆ¶ç»„ä»¶æ›´æ–°çš„è¿™ä¸ªå€¼ï¼Œè€Œå­ç»„ä»¶æ˜¯ä¸èƒ½ä¿®æ”¹çˆ¶ç»„ä»¶ä¸­çš„å€¼çš„ï¼Œä¸ºäº†èƒ½å®ç°å­ç»„ä»¶å‘çˆ¶ç»„ä»¶æ›´æ–°è¿™ä¸ªå€¼ï¼Œå­ç»„ä»¶éœ€è¦é€šè¿‡ <code>$emit</code>è§¦å‘çˆ¶ç»„ä»¶æå‰ä¸ºå­ç»„ä»¶åˆ†é…å¹¶ç»‘å®šæ–¹æ³•å®ç°æ›´æ–°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºæ˜¯ä¸€ä¸ªç®€å•çš„çˆ¶å­ç»„ä»¶é€šä¿¡demo:</p>
<div class="tag-plugin tabs"id="tab_2"><div class="nav-tabs"><div class="tab active"><a href="#tab_2-1">Tab/index.vue</a></div><div class="tab"><a href="#tab_2-2">App.vue</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_2-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(1)&quot;<br>      :class=&quot;[&#123; current: curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(2)&quot;<br>      :class=&quot;[&#123; current: curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(3)&quot;<br>      :class=&quot;[&#123; current: curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(4)&quot;<br>      :class=&quot;[&#123; current: curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  props: &#123;<br>    curIdx: Number,<br>  &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br>    changeTab(i) &#123;<br>      this.$emit(&quot;changeTab&quot;, i);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_2-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- ä¼ é€’ç»™å­ç»„ä»¶Tabçš„å€¼ä»¥åŠä¸ºä»–ç»‘å®šä¸€ä¸ªæ–¹æ³•ç”¨æ¥é€šçŸ¥çˆ¶ç»„ä»¶æ›´æ–°å€¼ --&gt;<br>    &lt;Tab :curIdx=&quot;curIdx&quot; @changeTab=&quot;changeTab&quot; /&gt;<br>    &lt;!-- &lt;Page :curIdx=&quot;curIdx&quot;&gt;&lt;/Page&gt; --&gt;<br>    &lt;!-- &lt;img src=&quot;./assets/logo.png&quot;&gt; --&gt;<br>    &lt;!-- &lt;router-view/&gt; --&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Tab from &quot;@/components/Tab&quot;;<br>// import Page from &quot;@/components/Page&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Tab,<br>    // Page,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      curIdx: 0,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    changeTab(i) &#123;<br>      this.curIdx = i;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#app &#123;<br>  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;<br>  -webkit-font-smoothing: antialiased;<br>  -moz-osx-font-smoothing: grayscale;<br>  /* text-align: center; */<br>  color: #2c3e50;<br>  margin-top: 60px;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212153218.png" alt="" /></p>
<p>æ­¤æ—¶æˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªå¦‚ä¸Šå›¾ç®€å•çš„çˆ¶å­ç»„ä»¶é€šä¿¡çš„å°demoï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»ä¸åŒçš„é“¾æ¥æŒ‰é’®ï¼Œç„¶åé“¾æ¥æŒ‰é’®è¢«ç‚¹å‡»åä¼šå˜æˆé»‘è‰²ä¸”æ— ä¸‹åˆ’çº¿ï¼Œè¿™æ˜¯é€šè¿‡çˆ¶ç»„ä»¶æ“æ§å­ç»„ä»¶ä¸­çš„curIdxåŠ¨æ€çš„ä¸ºå­ç»„ä»¶ä¸­çš„å››ä¸ªaæ ‡ç­¾ç»‘å®š <code>current</code>ç±»å®ç°çš„ï¼ŒåŒæ—¶æˆ‘ä»¬åœ¨ç‚¹å‡»å­ç»„ä»¶Tabä¸­ä¸åŒçš„aæ ‡ç­¾åä¼šè§¦å‘ <code>changeTab</code>æ–¹æ³•æ¥æ›´æ–°çˆ¶ç»„ä»¶ä¸­çš„curIdxå€¼ï¼Œè¿›ä¸€æ­¥å­ç»„ä»¶åœ¨é€šè¿‡propæ›´æ–°è‡ªå·±çš„curIdxå®ç°çš„åŠ¨æ€ç»‘å®šcurrentç±»åˆ°å¯¹åº”è¢«ç‚¹å‡»çš„aæ ‡ç­¾çš„ã€‚å¦‚æœä½ å¯¹è¿™ä¸ªç®€å•çš„å°demoè¿˜æ— æ³•ç†è§£çš„è¯è¯·å…ˆæŸ¥çœ‹æ­¤ç¯‡æ•™ç¨‹ï¼š</p>
<div class="tag-plugin link dis-select"><a class="link-card plain" title="çˆ¶å­ç»„ä»¶é€šä¿¡" href="https://www.cnblogs.com/HouJiao/p/12421851.html" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">çˆ¶å­ç»„ä»¶é€šä¿¡</span><span class="cap link fs12">https://www.cnblogs.com/HouJiao/p/12421851.html</span></div><div class="right"><div class="lazy img" data-bg="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/link/8f277b4ee0ecd.svg"></div></div></a></div>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†å°è¯•åŠ å…¥ä¸€ä¸ªå…„å¼Ÿç»„ä»¶é€šä¿¡çš„åœºæ™¯ï¼Œå‡è®¾æ­¤æ—¶æˆ‘ä»¬ä¸ä»…ä»…éœ€è¦é€šè¿‡curIdxæ¥å®æ—¶æ›´æ–°æ¸²æŸ“Tabå­ç»„ä»¶ä¸­çš„è¢«é€‰ä¸­aæ ‡ç­¾ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜å¸Œæœ›å¯ä»¥é€šè¿‡curIdxå®æ—¶åˆ·æ–°æ˜¾ç¤ºTabæ ä¸‹æ–¹çš„ <code>Content</code>é¡µé¢ä¸­çš„å†…å®¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å†æ–°å»ºä¸€ä¸ªç»„ä»¶PageåŒæ—¶åœ¨App.vueä¸­å¼•å…¥å¹¶ä½¿ç”¨è¿™ä¸ªå­ç»„ä»¶å¦‚ä¸‹</p>
<div class="tag-plugin tabs"id="tab_3"><div class="nav-tabs"><div class="tab active"><a href="#tab_3-1">Page/index.vue</a></div><div class="tab"><a href="#tab_3-2">App.vue</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_3-1"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;&#123;&#123; content[curIdx - 1] &#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Page&quot;,<br>  props: &#123;<br>    curIdx: Number,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>        // æ ¹æ®propæ¥æ”¶çš„curIdxåŠ¨æ€æ˜¾ç¤ºå†…å®¹<br>      content: [&quot;é¡µé¢1&quot;, &quot;é¡µé¢2&quot;, &quot;é¡µé¢3&quot;, &quot;é¡µé¢4&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_3-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- ä¼ é€’ç»™å­ç»„ä»¶Tabçš„å€¼ä»¥åŠä¸ºä»–ç»‘å®šä¸€ä¸ªæ–¹æ³•ç”¨æ¥é€šçŸ¥çˆ¶ç»„ä»¶æ›´æ–°å€¼ --&gt;<br>    &lt;Tab :curIdx=&quot;curIdx&quot; @changeTab=&quot;changeTab&quot; /&gt;<br>    &lt;!-- Pageç»„ä»¶ä¹Ÿæ¥å—è¿™ä¸ªcurIdxå€¼ --&gt;<br>    &lt;Page :curIdx=&quot;curIdx&quot;&gt;&lt;/Page&gt;<br>    &lt;!-- &lt;img src=&quot;./assets/logo.png&quot;&gt; --&gt;<br>    &lt;!-- &lt;router-view/&gt; --&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Tab from &quot;@/components/Tab&quot;;<br>import Page from &quot;@/components/Page&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Tab,<br>    Page,<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      curIdx: 0,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    changeTab(i) &#123;<br>      this.curIdx = i;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#app &#123;<br>  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;<br>  -webkit-font-smoothing: antialiased;<br>  -moz-osx-font-smoothing: grayscale;<br>  /* text-align: center; */<br>  color: #2c3e50;<br>  margin-top: 60px;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212153828.png" alt="" /></p>
<p>æ­¤æ—¶æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªæœ€ç»å…¸çš„vueå…„å¼Ÿç»„ä»¶ä¼ å€¼çš„demo,å³Tabæ ä¸­çš„aæ ‡ç­¾è¢«ç‚¹å‡»åä¼šé€šè¿‡ <code>$emit</code>è§¦å‘changeTabå‡½æ•°æ¥æ›´æ–°çˆ¶ç»„ä»¶ä¸­çš„curIdxå€¼ï¼Œç„¶åPageç»„ä»¶æ¥æ”¶åˆ°è¿™ä¸ªæ–°æ›´æ–°çš„curIdxå€¼æ¥åŠ¨æ€æ˜¾ç¤ºå†…å®¹ï¼Œè¿™æ ·å°±å®ç°äº†ç‚¹å‡»ä¸åŒçš„æ ‡ç­¾æ˜¾ç¤ºå¯¹åº”ä¸åŒçš„å†…å®¹ã€‚</p>
<h5 id="æ€è€ƒä¸Šé¢çš„ä¾‹å­ä¸­çˆ¶ç»„ä»¶çš„ä½œç”¨"><a class="markdownIt-Anchor" href="#æ€è€ƒä¸Šé¢çš„ä¾‹å­ä¸­çˆ¶ç»„ä»¶çš„ä½œç”¨"></a> æ€è€ƒï¼šä¸Šé¢çš„ä¾‹å­ä¸­çˆ¶ç»„ä»¶çš„ä½œç”¨ï¼Ÿ</h5>
<p>æˆ‘ä»¬è€ƒè™‘ä¸€ä¸‹ä¸Šé¢çš„å®ä¾‹ä»£ç å³æœ€ä¼ ç»Ÿçš„å…„å¼Ÿç»„ä»¶çš„é€šä¿¡æ–¹å¼æœ‰æ²¡æœ‰ä»€ä¹ˆå¼Šç«¯ã€‚æˆ‘ä»¬å‘ç°çˆ¶ç»„ä»¶å®Œå…¨å°±æ˜¯æ‰¿æ‹…äº†è¿ä¸ªå…„å¼Ÿç»„ä»¶ä¸­çš„æ¡¥æ¢ä½œç”¨ï¼Œçˆ¶ç»„ä»¶è‡ªå·±å¹¶ä¸éœ€è¦ä½¿ç”¨curIdxå€¼å’ŒchangeTabæ–¹æ³•ï¼Œä½†æ˜¯ä¸ºäº†èƒ½å¤Ÿè®©Tabå’ŒPageä¸¤ä¸ªå…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œåˆä¸å¾—ä¸åŠ å…¥è¿™äº›å†…å®¹ï¼Œæ˜¾ç„¶è¿™ç§å®ç°é€»è¾‘å¾ˆå¥‡æ€ªï¼Œä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥è®©ä¸¤ä¸ªå…„å¼Ÿç»„ä»¶ç›´æ¥é€šä¿¡å‘¢ï¼Ÿè¿›ä¸€æ­¥è€ƒè™‘ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªæœ‰å…±åŒç¥–å…ˆçš„å…„å¼Ÿç»„ä»¶é€šä¿¡å¯å°±ä¸ä»…ä»…æ˜¯éœ€è¦çˆ¶ç»„ä»¶æ‰¿æ‹…æ¡¥æ¢èº«ä»½è¿™ä¹ˆç®€å•äº†ï¼Œå¯èƒ½ä¼šæ¶‰åŠåˆ°æ›´å¤šçš„ç¥–å…ˆç»„ä»¶åŠ å…¥è®¸å¤šæ²¡ç”¨çš„ä¸œè¥¿ï¼Œå³å¦‚ä¸‹å›¾æ‰€ç¤ºçš„åœºæ™¯ï¼š</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212154714.png" alt="" /></p>
<p>å¾ˆæ˜¾ç„¶è¿™ç§æ–¹å¼çš„é€šä¿¡ä¸€æ—¦é¢å¯¹è¾ƒä¸ºåºå¤§ä¸”å¤æ‚çš„åº”ç”¨åœºæ™¯æ•ˆç‡ä¼šæä½ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¬¬ä¸‰æ–¹æ’ä»¶èƒ½å¤Ÿä¸“ä¸šçš„æ‰¿æ‹…è¿™ä¸ªæ¡¥æ¢çš„ä½œç”¨ï¼ŒåŒæ—¶å®ƒä¸ä»…ä»…èƒ½å¤Ÿå®ç°ç®€å•çš„æ‹¥æœ‰å…±åŒçˆ¶ç¥–å…ˆå­ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç”šè‡³å¯ä»¥å®ç°ä»»æ„å¤šä¸ªç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ä¼šç”¨åˆ° <code>vuex</code>äº†ï¼å®ƒæä¾›äº†ä¸€ä¸ªstoreä»“åº“ç”¨æ¥ç»´æŠ¤æ‰€æœ‰ç»„ä»¶éœ€è¦é€šä¿¡æ—¶ç”¨åˆ°çš„æ•°æ®ï¼Œå¹¶æä¾›å¯¹åº”çš„æ–¹æ³•æ¥ä¸ºé€šä¿¡çš„ç»„ä»¶å®æ—¶æ›´æ–°å€¼ï¼Œè¿™å°±æ˜¯vuexçš„ç”±æ¥ï¼Œå¦‚ä¸‹å›¾å°±æ˜¯å®ƒå·¥ä½œçš„åŸç†ï¼š</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212155115.png" alt="" /></p>
<p>æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„çœ‹å‡ºä½¿ç”¨ <code>vuex</code>çš„ä¼˜åŠ¿ï¼š</p>
<ol>
<li>èƒ½å¤Ÿåœ¨vuexä¸­é›†ä¸­ç®¡ç†å…±äº«çš„æ•°æ®ï¼Œæ˜“äºå¼€å‘å’ŒåæœŸç»´æŠ¤</li>
<li>èƒ½å¤Ÿé«˜æ•ˆåœ°å®ç°ç»„ä»¶ä¹‹é—´çš„æ•°æ®å…±äº«ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
<li>å­˜å‚¨åœ¨vuexä¸­çš„æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ï¼Œèƒ½å¤Ÿå®æ—¶ä¿æŒæ•°æ®ä¸é¡µé¢çš„åŒæ­¥</li>
</ol>
<p>æ—¢ç„¶vuexçš„å¥½å¤„é‚£ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥å­¦ä¹ ä½¿ç”¨vuexå§ğŸ˜€ï¼</p>
<h4 id="vuexå·¥ä½œæµç¨‹"><a class="markdownIt-Anchor" href="#vuexå·¥ä½œæµç¨‹"></a> vuexå·¥ä½œæµç¨‹</h4>
<p>é¦–å…ˆæˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸‹vuexä¸­çš„å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼Œå¦‚ä¸‹å›¾æ˜¯vuexçš„ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼š</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212155701.png" alt="" /></p>
<ul>
<li>VueComponentsï¼šéœ€è¦è¿›è¡Œé€šä¿¡çš„vueç»„ä»¶ï¼Œä¸åœ¨vuexAPIèŒƒå›´ä¹‹å†…</li>
<li>Stateï¼šä¸€ä¸ªå¯¹è±¡ï¼Œç±»ä¼¼äºdataå¯¹è±¡ç”¨æ¥å­˜å‚¨ç»´æŠ¤é€šä¿¡éœ€è¦ä½¿ç”¨åˆ°çš„æ‰€æœ‰æ•°æ®</li>
<li>Mutationsï¼šä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç±»ä¼¼äºmethodså­˜å‚¨äº†æ›´æ–°Stateæ•°æ®çš„æ–¹æ³•ï¼Œ<strong>åªæœ‰Mutationsä¸­çš„æ–¹æ³•å¯ä»¥æ›´æ–°Stateä¸­çš„æ•°æ®</strong></li>
<li>Actionsï¼šå¦‚æœéœ€è¦å¼‚æ­¥è°ƒç”¨Mutationsæ–¹æ³•ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å¼‚æ­¥æ“ä½œéƒ½è¦åœ¨Actionsä¸­å®Œæˆ</li>
<li>Devtoolsï¼šçƒ­åŠ è½½æ’ä»¶ï¼Œä¸ç”¨ç®¡</li>
<li>Gettersï¼šé™¤äº†ä¸Šå›¾ä¸­è¿™äº›æ¦‚å¿µï¼Œè¿˜æœ‰ä¸€ä¸ªGettersï¼Œä»–æ˜¯ç±»ä¼¼äºcomputedå¯ä»¥æ ¹æ®Stateä¸­çš„å€¼è¿›ä¸€æ­¥å°è£…æ“ä½œå¾—åˆ°ä¸€ä¸ªæ–°æ•°æ®å¹¶è¿”è¿˜</li>
<li>Modulesï¼šå¦‚æœæ˜¯é’ˆå¯¹äºä¼ä¸šçº§é¡¹ç›®ï¼Œè¿˜æœ‰ä¸€ä¸ªModuleså±æ€§ç”¨æ¥åˆ†æ¨¡å—å¼•å…¥å¹¶åº”ç”¨vuexï¼Œåé¢æˆ‘ä»¬ä¹Ÿä¼šå­¦ä¹ åˆ°ã€‚</li>
</ul>
<div class="tag-plugin note" color="cyan"><div class="title">è¦æ³¨æ„é™¤äº†</div><div class="body"><p><code>State</code>å‰©ä¸‹çš„éƒ½æ˜¯å¤æ•°å½¢å¼è¿™æ˜¯å› ä¸ºå®ƒå¯ä»¥å­˜å‚¨å¤šä¸ªæ–¹æ³•æˆ–è€…æ•°æ®ï¼Œå› æ­¤æ˜¯Mutationsã€Actionsã€Gettersã€Modulesã€‚</p></div></div>
<h3 id="vuexåº”ç”¨"><a class="markdownIt-Anchor" href="#vuexåº”ç”¨"></a> Vuexåº”ç”¨</h3>
<h4 id="vuexå®‰è£…"><a class="markdownIt-Anchor" href="#vuexå®‰è£…"></a> vuexå®‰è£…</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å°è¯•å°†ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨ <code>vuex</code>æ¥å®ç°ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…vuex,åªéœ€è¦åœ¨ç»ˆç«¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install vuex --save<br></code></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆä»¥åä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæˆ‘ä»¬åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ä¸ºstoreå¹¶åœ¨å…¶ä¸‹æ–°å»ºä¸€ä¸ªå…¥å£æ–‡ä»¶index.jså¦‚ä¸‹å›¾ï¼š</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212162744.png" alt="" /></p>
<p>å¹¶åœ¨index.jsä¸­åŠ å…¥å¦‚ä¸‹å†…å®¹ç”¨æ¥å¼•å…¥å¹¶æŒ‚åœ¨vuexï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬å°±æ¥ä½¿ç”¨vuexæ›´æ”¹åˆšåˆšçš„ä»£ç ã€‚</p>
<h4 id="stateä½¿ç”¨"><a class="markdownIt-Anchor" href="#stateä½¿ç”¨"></a> stateä½¿ç”¨</h4>
<p>ç”±äºæˆ‘ä»¬ä¹‹å‰ä½¿ç”¨çš„æ˜¯curIdxæ¥è¿›è¡Œçš„å…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œå› æ­¤å¾ˆæ˜¾ç„¶è¿™ä¸ªcurIdxå°±æ˜¯ä¸€ä¸ªéœ€è¦vuexç»´æŠ¤çš„å€¼ï¼Œæˆ‘ä»¬å°†å…¶å®šä¹‰åˆ°vuexçš„stateä¸­è€Œä¸å†åœ¨çˆ¶ç»„ä»¶app.vueä¸­å®šä¹‰ã€‚åŒæ—¶åœ¨Tabä¸­å’ŒPageä¸­æˆ‘ä»¬ä¹Ÿæ— éœ€åœ¨é€šè¿‡propæ¥æ¥æ”¶è¿™ä¸ªcurIdxå€¼äº†ï¼Œè€Œæ˜¯æ”¹ç”¨vuexçš„stateæ¥è·å–è¿™ä¸ªå€¼ï¼Œå¦‚ä¸‹å›¾æ˜¯ä¸¤ç§ä¸åŒçš„å†™æ³•ã€‚</p>
<p>é¦–å…ˆæ— è®ºæ˜¯å“ªç§å†™æ³•æˆ‘ä»¬éƒ½éœ€è¦åœ¨store/index.jsä¸­å£°æ˜å®šä¹‰è¿™ä¸ªcurIdxå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>    <span class="hljs-attr">curIdx</span>: <span class="hljs-number">0</span>,<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬å–æ¶ˆçˆ¶ç»„ä»¶ä¸­æ‰€æœ‰çš„æœ‰å…³ä¼ å€¼æ•°æ®ï¼Œå¦‚ä¸‹å›¾çˆ¶ç»„ä»¶ä¸å†éœ€è¦å®šä¹‰curIdxäº†å¹¶ä¸”å¼•ç”¨å­ç»„ä»¶æ—¶ä¹Ÿæ— éœ€åœ¨ä¸ºä»–ä»¬ä¼ é€’ä¸€ä¸ªcurIdxäº†å³ä»çˆ¶ç»„ä»¶çš„è§’åº¦æ¥çœ‹ä»–æ ¹æœ¬å°±ä¸çŸ¥åˆ°curIdxçš„å­˜åœ¨ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- ä¼ é€’ç»™å­ç»„ä»¶Tabçš„å€¼ä»¥åŠä¸ºä»–ç»‘å®šä¸€ä¸ªæ–¹æ³•ç”¨æ¥é€šçŸ¥çˆ¶ç»„ä»¶æ›´æ–°å€¼ --&gt;<br>    &lt;!-- &lt;Tab :curIdx=&quot;curIdx&quot; @changeTab=&quot;changeTab&quot; /&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>     &lt;Tab @changeTab=&quot;changeTab&quot; /&gt;<br>    &lt;!-- Pageç»„ä»¶ä¹Ÿæ¥å—è¿™ä¸ªcurIdxå€¼ --&gt;<br>    &lt;!-- &lt;Page :curIdx=&quot;curIdx&quot;&gt;&lt;/Page&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>    &lt;Page &gt;&lt;/Page&gt;<br>    &lt;!-- &lt;img src=&quot;./assets/logo.png&quot;&gt; --&gt;<br>    &lt;!-- &lt;router-view/&gt; --&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Tab from &quot;@/components/Tab&quot;;<br>import Page from &quot;@/components/Page&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Tab,<br>    Page,<br>  &#125;,<br>  // æ— éœ€åœ¨å®šä¹‰curIdxäº†<br>  // data() &#123;<br>  //   return &#123;<br>  //     curIdx: 0,<br>  //   &#125;;<br>  // &#125;,<br>  methods: &#123;<br>    changeTab(i) &#123;<br>      this.curIdx = i;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#app &#123;<br>  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;<br>  -webkit-font-smoothing: antialiased;<br>  -moz-osx-font-smoothing: grayscale;<br>  /* text-align: center; */<br>  color: #2c3e50;<br>  margin-top: 60px;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹ç»„ä»¶Tabå’ŒPageçš„ä»£ç å»è·å–vuexä¸­çš„curIdx,è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ç§å®ç°æ–¹æ³•ï¼š</p>
<h5 id="æ–¹æ³•ä¸€"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€"></a> æ–¹æ³•ä¸€</h5>
<p>é¦–å…ˆæˆ‘ä»¬ä¸ºäº†èƒ½å¤Ÿä¿è¯å…¨å±€ç»„ä»¶ä¸­thisä¸­å«æœ‰ <code>$store</code>è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦å…¨å±€æŒ‚è½½ä¸€ä¸‹storeï¼Œåªéœ€è¦åœ¨main.jsä¸­åŠ å…¥å¦‚ä¸‹ä»£ç å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// The Vue build version to load with the `import` command</span><br><span class="hljs-comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-comment">// é¦–å…ˆä»storeæ–‡ä»¶å¤¹ä¸‹å¼•å…¥store(é»˜è®¤å›å»index.jsä¸­è·å–)</span><br><span class="hljs-comment">// å› æ­¤è¿™é‡Œè·¯å¾„å†™é“æ–‡ä»¶å¤¹å³å¯</span><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../store&#x27;</span><br><br><span class="hljs-comment">/* eslint-disable no-new */</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>  router,<br>  <span class="hljs-attr">components</span>: &#123; <span class="hljs-title class_">App</span> &#125;,<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;App/&gt;&#x27;</span>,<br>  <span class="hljs-comment">// åœ¨è¿™é‡ŒæŒ‚åœ¨storeå¯¹è±¡</span><br>  store<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>è¿™é‡Œä»¥Tabä½œä¸ºç¤ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ <code>this.$store.state.curIdx</code>å³å¯è·å–åˆ°è¿™ä¸ªå€¼ï¼Œå› æ­¤Tabä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- ä¸åœ¨ä½¿ç”¨propè€Œæ˜¯ä½¿ç”¨this.$store.state.curIdxè·å– --&gt;<br>    &lt;!-- ç”±äºvueä¸­templateæ— éœ€ä½¿ç”¨this --&gt;<br>    &lt;!-- å› æ­¤ç›´æ¥ä½¿ç”¨$store.state.curIdxå³å¯ --&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(1)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(2)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(3)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;changeTab(4)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br>    changeTab(i) &#123;<br>      this.$emit(&quot;changeTab&quot;, i);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬å°±è·å–åˆ°äº†vuex.storeå¯¹è±¡ä¸­çš„stateå¯¹è±¡å†…å­˜å‚¨çš„curIdxå€¼äº†ï¼Œå¹¶ä¸”è¿™ä¸ªå€¼ä¹Ÿæ˜¯åŠ¨æ€å“åº”å˜åŒ–çš„ï¼Œå¯ä»¥å®æ—¶æ›´æ–°ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼šå‘ç°è¿™æ ·å†™æœ‰ä¸€ä¸ªå°ç‘•ç–µå°±æ˜¯æ¯ä¸€æ¬¡ä¹¦å†™éƒ½è¦åŠ ä¸Š <code>this.$store.state</code>å¤ªéº»çƒ¦äº†ï¼Œå› æ­¤å‡ºç°äº†æ–¹æ³•äºŒã€‚</p>
<h5 id="æ–¹æ³•äºŒ"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ"></a> æ–¹æ³•äºŒ</h5>
<p>è¿™é‡Œæˆ‘ä»¬ä»¥Pageä¸ºä¾‹ï¼Œæ–¹æ³•äºŒä½¿ç”¨äº† <code>mapState</code>è¾…åŠ©å‡½æ•°ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªmapå¯¹è±¡ï¼Œè¾“å…¥éœ€è¦çš„å˜é‡åå³å¯è·å–åˆ°è¿™ä¸ªstateä¸­å­˜å‚¨çš„å€¼ï¼Œæˆ‘ä»¬å°†å…¶æ˜ å°„åˆ°æˆ‘ä»¬è‡ªå·±çš„ç»„ä»¶ä¸Šï¼Œç”±äºè¿™ä¸ªå€¼æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†ä»–æ”¾åˆ° <code>coputed</code>ä¸‹å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;&#123;&#123; content[curIdx - 1] &#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123;mapState&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>  name: &quot;Page&quot;,<br>  // ä¸åœ¨éœ€è¦ä½¿ç”¨propæ¥å—å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  computed:&#123;<br>    //è¦æ³¨æ„å…¶æœ¬èº«æ˜¯ä¸€ä¸ªè®¡ç®—å‡½æ•°ï¼Œå› æ­¤å¤–éƒ¨æœ‰ä¸€ä¸ªæ‹¬å·åŒ…è£¹<br>    ...mapState(&#123;<br>      // ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ<br>      curIdx:state=&gt;state.curIdx,<br>      // ä¸‹é¢è¿™ç§ä¹¦å†™ä¹Ÿå¯ä»¥<br>      // curIdx:&#x27;curIdx&#x27;,<br><br>    &#125;),<br>    // å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„<br>    // ...mapState([&#x27;curIdx&#x27;])<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>        // æ ¹æ®propæ¥æ”¶çš„curIdxåŠ¨æ€æ˜¾ç¤ºå†…å®¹<br>      content: [&quot;é¡µé¢1&quot;, &quot;é¡µé¢2&quot;, &quot;é¡µé¢3&quot;, &quot;é¡µé¢4&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<div class="tag-plugin note" color="cyan"><div class="title">æ³¨æ„å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨è·å–åˆ°è¿™ä¸ªstateä¸­çš„å€¼ä»¥åè¿›ä¸€æ­¥å’Œdataä¸­çš„å€¼è¿›è¡ŒåŠ å·¥ï¼Œé‚£ä¹ˆæ­¤æ—¶éœ€è¦ä½¿ç”¨åˆ°thisæ¥æ‰§è¡Œå½“å‰çš„vueå®ä¾‹ï¼Œä¸ºäº†èƒ½å¤Ÿæ­£ç¡®åªæƒ³ï¼Œæ­¤æ—¶å°±ä¸èƒ½åœ¨ä½¿ç”¨ç®­å¤´å‡½æ•°äº†æ¯”å¦‚ï¼š</div><div class="body"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨ `this` è·å–å±€éƒ¨çŠ¶æ€ï¼Œå¿…é¡»ä½¿ç”¨å¸¸è§„å‡½æ•°</span><br>   countPlusLocalState (state) &#123;<br>     <span class="hljs-keyword">return</span> state.<span class="hljs-property">count</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">localCount</span><br>   &#125;<br> &#125;)<br></code></pre></td></tr></table></figure></div></div>
<h4 id="mutationsä½¿ç”¨"><a class="markdownIt-Anchor" href="#mutationsä½¿ç”¨"></a> mutationsä½¿ç”¨</h4>
<p>æ­¤æ—¶æˆ‘ä»¬åªæ˜¯å®Œæˆäº†å­ç»„ä»¶ä½¿ç”¨vuexä¸­çš„curIdx,ä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦æ›´æ–°è¿™ä¸ªcurIdxï¼Œå› æ­¤æ­¤æ—¶æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥æ›´æ–°å®ƒï¼Œæ­¤æ—¶å°±ä¼šç”¨åˆ°mutationsï¼Œæˆ‘ä»¬åœ¨mutationsä¸­å®šä¹‰ä¸€ä¸ªæ–°çš„æ–¹æ³•setCurIdxï¼Œè¦æ³¨æ„æˆ‘ä»¬mutationsä¸­å®šä¹‰çš„æ–¹æ³•é»˜è®¤çš„ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯stateæŒ‡å‘stateè¿™æ ·æˆ‘ä»¬æ‰èƒ½ä¿®æ”¹stateä¸­çš„å€¼ï¼Œå› æ­¤åŠ å…¥setCurIdxåstore/index.jsä»£ç å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>    <span class="hljs-attr">curIdx</span>: <span class="hljs-number">1</span>,<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>    <span class="hljs-comment">// ç”¨æ¥ä¿®æ”¹stateä¸­çš„curIdx</span><br>    <span class="hljs-comment">// é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯state</span><br>    <span class="hljs-title function_">setCurIdx</span>(<span class="hljs-params">state, idx</span>) &#123;<br>      state.<span class="hljs-property">curIdx</span> = idx;<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>åŒæ ·çš„å­ç»„ä»¶è°ƒç”¨mutationsä¸­å‡½æ•°çš„æ–¹å¼ä¹Ÿæœ‰ä¸¤ç§å¦‚ä¸‹æ‰€ç¤º</p>
<h5 id="æ–¹æ³•ä¸€-2"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€-2"></a> æ–¹æ³•ä¸€</h5>
<p>æˆ‘ä»¬å¯ä»¥åœ¨methodsä¸­å®šä¹‰ä¸€ä¸ªæ–°æ–¹æ³•ï¼Œç„¶åé€šè¿‡å¦‚ä¸‹æŒ‡ä»¤è§¦å‘è°ƒç”¨mutationsä¸­çš„æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//commitçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦è§¦å‘è°ƒç”¨çš„å‡½æ•°åï¼Œç¬¬äºŒä¸ªæ˜¯ä¼ é€’çš„å‚æ•°</span><br><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>,idx)<br></code></pre></td></tr></table></figure>
<p>æ­¤æ—¶Tabçš„ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- ä¸åœ¨ä½¿ç”¨propè€Œæ˜¯ä½¿ç”¨this.$store.state.curIdxè·å– --&gt;<br>    &lt;!-- ç”±äºvueä¸­templateæ— éœ€ä½¿ç”¨this --&gt;<br>    &lt;!-- å› æ­¤ç›´æ¥ä½¿ç”¨$store.state.curIdxå³å¯ --&gt;<br>    &lt;!-- ç”±äºsetCurIdxå·²ç»æ˜ å°„ä¸ºäº†è‡ªå·±çš„æ–¹æ³•å› æ­¤ç›´æ¥è°ƒç”¨å³å¯ --&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(1)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(2)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(3)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(4)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapMutations &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br><br>    //  å½“ç„¶ä¹Ÿå¯ä»¥ä¸æ˜ å°„ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨this.$store.mutations.setCurIdx()ä¿®æ”¹<br>    setCurIdx(idx) &#123;<br>      this.$store.commit(&quot;setCurIdx&quot;, idx);<br>    &#125;,<br><br>    //ç”šè‡³å¯ä»¥<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p><strong>æ€è€ƒï¼šèƒ½å¦ä¸è°ƒç”¨mutationsä¸­çš„æ–¹æ³•è€Œæ˜¯ç›´æ¥æ“ä½œcurIdxï¼Ÿ</strong></p>
<p>è‚¯å®šä¼šæœ‰åŒå­¦æƒ³åˆ°äº†ä¸€ä¸ªç®€å•çš„æ–¹æ³•å³ä¸‹é¢ä»£ç å¯ä»¥ç›´æ¥ä¿®æ”¹stateä¸­çš„æ•°æ®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">curIdx</span>=idx;<br></code></pre></td></tr></table></figure>
<p>ä¸€å®šè¦æ³¨æ„è¿™ç§æ–¹æ³•æ˜¯ä¸‡ä¸‡ä¸å¯ä»¥çš„ï¼å› ä¸ºè™½ç„¶æ­¤æ—¶å¯ä»¥ä¿®æ”¹è¿™ä¸ªå€¼ï¼Œä½†æ˜¯å½“åº”ç”¨é€æ¸åºå¤§ä»¥åè¿™ç§ä¸é€šè¿‡mutationsä¿®æ”¹stateä¸­å€¼çš„æ“ä½œä¼šéš¾ä»¥è·Ÿè¸ªï¼Œä¸æ–¹ä¾¿åæœŸbugçš„æŸ¥æ‰¾ï¼Œå› æ­¤ä¸€å®šä¸è¦è¿™æ ·å†™ï¼</p>
<h5 id="æ–¹æ³•äºŒ-2"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ-2"></a> æ–¹æ³•äºŒ</h5>
<p>å¦ä¸€ç§æ–¹æ³•å°±æ˜¯è¿˜æ˜¯é€šè¿‡è¾…åŠ©å‡½æ•°mapMutationsæ¥è·å–åˆ°è¿™ä¸ªæ–¹æ³•å¹¶è°ƒç”¨å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- ä¸åœ¨ä½¿ç”¨propè€Œæ˜¯ä½¿ç”¨this.$store.state.curIdxè·å– --&gt;<br>    &lt;!-- ç”±äºvueä¸­templateæ— éœ€ä½¿ç”¨this --&gt;<br>    &lt;!-- å› æ­¤ç›´æ¥ä½¿ç”¨$store.state.curIdxå³å¯ --&gt;<br>    &lt;!-- ç”±äºsetCurIdxå·²ç»æ˜ å°„ä¸ºäº†è‡ªå·±çš„æ–¹æ³•å› æ­¤ç›´æ¥è°ƒç”¨å³å¯ --&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(1)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(2)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(3)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;setCurIdx(4)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapMutations &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br>    // ä½¿ç”¨æ˜ å°„çš„æ–¹æ³•è·å–setCurIdxæ–¹æ³•<br>    ...mapMutations([&#x27;setCurIdx&#x27;]),<br>    // changeTab(i) &#123;<br>    //   this.$emit(&quot;changeTab&quot;, i);<br>    // &#125;,<br><br>    //æˆ‘ä»¬ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥å°è£…å°†setCurIdxæ”¹ä¸ªåå­—<br>    // ...mapMutations([&#x27;setCurIdx&#x27;]),<br>    // changeTab(idx)&#123;<br>    //   this.setCurIdx(idx);<br>    // &#125;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p><strong>æ€è€ƒï¼šå¦‚æœéœ€è¦ä¼ é€’å¤šä¸ªå‚æ•°æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>æ­¤æ—¶å¹¶ä¸æ˜¯åœ¨commitï¼ˆï¼‰æ–¹æ³•åé¢è¿½åŠ å¤šä¸ªå‚æ•°ï¼Œè€Œæ˜¯å°†æ‰€æœ‰çš„æ•°æ®æ‰“åŒ…å°è£…æˆä¸€ä¸ªå¯¹è±¡ä¼ é€’ï¼Œè¿™ä¸ªå¯¹è±¡åˆç§°ä¸º <code>payload</code>ï¼Œå­¦å <code>æäº¤è½½è·</code>ã€‚å¦‚ä¸‹</p>
<div class="tag-plugin tabs"id="tab_4"><div class="nav-tabs"><div class="tab active"><a href="#tab_4-1">store/index.js</a></div><div class="tab"><a href="#tab_4-2">vueç»„ä»¶è°ƒç”¨</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_4-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ...</span><br><span class="hljs-attr">mutations</span>: &#123;<br>  increment (state, payload) &#123;<br>    state.<span class="hljs-property">count</span> += payload.<span class="hljs-property">amount1</span>;<br>     state.<span class="hljs-property">count</span> += payload.<span class="hljs-property">amount2</span>;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_4-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;increment&#x27;</span>, &#123;<br>  <span class="hljs-attr">amount1</span>: <span class="hljs-number">10</span>,<br>  <span class="hljs-attr">amount2</span>:<span class="hljs-number">20</span><br>&#125;)<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<div class="tag-plugin note" color="cyan"><div class="body"><p>å½“ç„¶ï¼Œå½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ç›´æ¥ä½¿ç”¨å³å¯ã€‚</p></div></div>
<p>ç°åœ¨æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹çˆ¶ç»„ä»¶App.vueçš„ä»£ç ï¼Œä¼šå‘ç°ä»–å·²ç»æ²¡æœ‰ä»»ä½•æœ‰å…³å…„å¼Ÿç»„ä»¶é€šä¿¡çš„ä»£ç äº†ï¼Œå³æ­¤æ—¶çˆ¶ç»„ä»¶æ— éœ€åœ¨æ‰¿æ‹…è¿™ä¸ªæ¡¥æ¢è€…çš„èº«ä»½äº†ï¼Œæ›´åŠ ç®€æ´ä¼˜é›…ã€‚ç¬¬ä¸‰æ–¹æ¡¥æ¢è€…èº«ä»½ç”±vuexæ¥æä¾›äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- ä¼ é€’ç»™å­ç»„ä»¶Tabçš„å€¼ä»¥åŠä¸ºä»–ç»‘å®šä¸€ä¸ªæ–¹æ³•ç”¨æ¥é€šçŸ¥çˆ¶ç»„ä»¶æ›´æ–°å€¼ --&gt;<br>    &lt;!-- &lt;Tab :curIdx=&quot;curIdx&quot; @changeTab=&quot;changeTab&quot; /&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>     &lt;!-- &lt;Tab @changeTab=&quot;changeTab&quot; /&gt; --&gt;<br>     &lt;!-- ä¹Ÿæ— éœ€åœ¨ä¸ºå­ç»„ä»¶æä¾›æ–¹æ³•äº† --&gt;<br>     &lt;Tab /&gt;<br>    &lt;!-- Pageç»„ä»¶ä¹Ÿæ¥å—è¿™ä¸ªcurIdxå€¼ --&gt;<br>    &lt;!-- &lt;Page :curIdx=&quot;curIdx&quot;&gt;&lt;/Page&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>    &lt;Page &gt;&lt;/Page&gt;<br>    &lt;!-- &lt;img src=&quot;./assets/logo.png&quot;&gt; --&gt;<br>    &lt;!-- &lt;router-view/&gt; --&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Tab from &quot;@/components/Tab&quot;;<br>import Page from &quot;@/components/Page&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Tab,<br>    Page,<br>  &#125;,<br>  // æ— éœ€åœ¨å®šä¹‰curIdxäº†<br>  // data() &#123;<br>  //   return &#123;<br>  //     curIdx: 0,<br>  //   &#125;;<br>  // &#125;,<br>  // æ— éœ€åœ¨å®šä¹‰è¿™ä¸ªæ–¹æ³•äº†<br>  // methods: &#123;<br>  //   changeTab(i) &#123;<br>  //     this.curIdx = i;<br>  //   &#125;,<br>  // &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#app &#123;<br>  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;<br>  -webkit-font-smoothing: antialiased;<br>  -moz-osx-font-smoothing: grayscale;<br>  /* text-align: center; */<br>  color: #2c3e50;<br>  margin-top: 60px;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>
<h4 id="gettersä½¿ç”¨"><a class="markdownIt-Anchor" href="#gettersä½¿ç”¨"></a> gettersä½¿ç”¨</h4>
<p>å®é™…ä¸Šgetterså¾ˆå¥½ç†è§£ï¼Œä»–å°±æ˜¯æŠŠå¯¹æ•°æ®çš„å¤šé‡æ“ä½œä¸å†åœ¨ç»„ä»¶ä¸­ä½¿ç”¨computedè¿›è¡Œå°è£…è¿”è¿˜ï¼Œè€Œæ˜¯å¯ä»¥åœ¨vuexä¸­ä½¿ç”¨getterså³å¯å¾—åˆ°ã€‚è¿˜æ˜¯ä¹‹å‰çš„é‚£ä¸ªä¾‹å­ï¼Œç°åœ¨æˆ‘å¸Œæœ›ä¸‹æ–¹çš„é¡µé¢å¯ä»¥å®æ—¶æ˜¾ç¤ºä¸€å¥è¯å³ <code>å½“å‰æ˜¾ç¤ºçš„æ—¶ç¬¬curIdxä¸ªæ ‡ç­¾å¯¹åº”çš„é¡µé¢çš„å†…å®¹</code>ã€‚è¿™å¥è¯å¾ˆæ˜æ˜¾éœ€è¦éšæ—¶è·Ÿç€curIdxå˜åŠ¨æ›´æ–°ï¼Œæˆ‘ä»¬ç¬¬ä¸€æƒ³æ³•å°±æ˜¯è·å–åˆ°è¿™ä¸ªcurIdxç„¶åå†åœ¨pageç»„ä»¶ä¸­æ–°å£°æ˜ä¸€ä¸ªè®¡ç®—å…ƒç´ æ¥ç”Ÿæˆè¿™å¥è¯ï¼Œä½†æ˜¯æˆ‘ä»¬å…¶å®å¯ä»¥å®Œå…¨åœ¨getterså°±æ˜¯å…ˆè¿™ä¸ªåŠŸèƒ½ï¼Œè¿™æ ·ç±»ä¼¼éœ€æ±‚çš„ç»„ä»¶å°±æ— éœ€å†é‡å¤å†™è¿™ç§è®¡ç®—æ–¹æ³•äº†ï¼Œè€Œæ˜¯éƒ½å¯ä»¥é€šè¿‡gettersç»Ÿä¸€æ‹¿åˆ°è¿™ä¸ªéšæ—¶å˜åŒ–çš„å­—ç¬¦ä¸²ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦åœ¨store/index.jsä¸­å£°æ˜ä¸€ä¸ªgettersæ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>    <span class="hljs-attr">curIdx</span>: <span class="hljs-number">1</span>,<br>  &#125;,<br>  <span class="hljs-attr">getters</span>:&#123;<br>    <span class="hljs-comment">//   å½¢å‚å’Œmutationsç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯state,ç¬¬äºŒä¸ªæ˜¯payload</span><br>    <span class="hljs-title function_">content</span>(<span class="hljs-params">state</span>)&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰æ˜¾ç¤ºçš„æ—¶ç¬¬<span class="hljs-subst">$&#123;state.curIdx&#125;</span>ä¸ªæ ‡ç­¾å¯¹åº”çš„é¡µé¢çš„å†…å®¹`</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>    <span class="hljs-comment">// ç”¨æ¥ä¿®æ”¹stateä¸­çš„curIdx</span><br>    <span class="hljs-comment">// é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯state</span><br>    <span class="hljs-title function_">setCurIdx</span>(<span class="hljs-params">state, idx</span>) &#123;<br>      state.<span class="hljs-property">curIdx</span> = idx;<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>ç±»ä¼¼çš„ï¼Œgettesä¸­çš„æ–¹æ³•è¿”è¿˜çš„å€¼å’Œstateä¸­çš„å€¼ä¸€æ ·ä¹Ÿæœ‰ä¸¤ç§æ¥å—æ–¹æ³•</p>
<h5 id="æ–¹æ³•ä¸€-3"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€-3"></a> æ–¹æ³•ä¸€</h5>
<p>ç¬¬ä¸€ç§å°±æ˜¯ç›´æ¥åœ¨htmlä¸­åŒæ‹¬å·ä¸­å¼•å…¥å³å¯ï¼Œç”±äºvuexä¸­çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€å“åº”çš„ï¼Œå› æ­¤ä»gettersä¸­è·å–çš„æ•°æ®ä¹Ÿæ˜¯åŠ¨æ€çš„ï¼Œå½“æºæ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œä»–ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;!-- &lt;div&gt;&#123;&#123; content[curIdx - 1] &#125;&#125;&lt;/div&gt; --&gt;<br>  &lt;div&gt;&#123;&#123; this.$store.getters.content &#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapState &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Page&quot;,<br>  // ä¸åœ¨éœ€è¦ä½¿ç”¨propæ¥å—å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  computed: &#123;<br>    //è¦æ³¨æ„å…¶æœ¬èº«æ˜¯ä¸€ä¸ªè®¡ç®—å‡½æ•°ï¼Œå› æ­¤å¤–éƒ¨æœ‰ä¸€ä¸ªæ‹¬å·åŒ…è£¹<br>    ...mapState(&#123;<br>      // ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ<br>      curIdx: (state) =&gt; state.curIdx,<br>      // ä¸‹é¢è¿™ç§ä¹¦å†™ä¹Ÿå¯ä»¥<br>      // curIdx:&#x27;curIdx&#x27;,<br>    &#125;),<br>    // å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„<br>    // ...mapState([&#x27;curIdx&#x27;])<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      // æ ¹æ®propæ¥æ”¶çš„curIdxåŠ¨æ€æ˜¾ç¤ºå†…å®¹<br>      content: [&quot;é¡µé¢1&quot;, &quot;é¡µé¢2&quot;, &quot;é¡µé¢3&quot;, &quot;é¡µé¢4&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>æœ€ç»ˆå¾—åˆ°çš„æ•ˆæœå›¾å°±æ˜¯ä¸‹æ–¹çš„å†…å®¹ä¼šå®æ—¶æ ¹æ®ä¸Šæ–¹è¢«é€‰ä¸­çš„aæ ‡ç­¾å‘ç”Ÿå˜åŒ–</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212195342.png" alt="" /></p>
<h5 id="æ–¹æ³•äºŒ-3"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ-3"></a> æ–¹æ³•äºŒ</h5>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ© <code>mapGetters</code>è¾…åŠ©å‡½æ•°ï¼ŒåŒæ ·çš„ç”±äºåŒæ—¶åŠ¨æ€å˜åŒ–çš„ï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æ˜ å°„åˆ°computedå±æ€§ä¸‹ï¼Œæ­¤æ—¶ç»„ä»¶å°±å¯ä»¥ä»»æ„ä½¿ç”¨è¿™ä¸ªå€¼äº†ã€‚å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;!-- &lt;div&gt;&#123;&#123; content[curIdx - 1] &#125;&#125;&lt;/div&gt; --&gt;<br>  &lt;!-- &lt;div&gt;&#123;&#123; this.$store.getters.content &#125;&#125;&lt;/div&gt; --&gt;<br>  &lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapState &#125; from &quot;vuex&quot;;<br>import &#123;mapGetters&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>  name: &quot;Page&quot;,<br>  // ä¸åœ¨éœ€è¦ä½¿ç”¨propæ¥å—å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  computed: &#123;<br>    //è¦æ³¨æ„å…¶æœ¬èº«æ˜¯ä¸€ä¸ªè®¡ç®—å‡½æ•°ï¼Œå› æ­¤å¤–éƒ¨æœ‰ä¸€ä¸ªæ‹¬å·åŒ…è£¹<br>    ...mapState(&#123;<br>      // ç®­å¤´å‡½æ•°å¯ä½¿ä»£ç æ›´ç®€ç»ƒ<br>      curIdx: (state) =&gt; state.curIdx,<br>      // ä¸‹é¢è¿™ç§ä¹¦å†™ä¹Ÿå¯ä»¥<br>      // curIdx:&#x27;curIdx&#x27;,<br>    &#125;),<br>    // å½“æ˜ å°„çš„è®¡ç®—å±æ€§çš„åç§°ä¸ state çš„å­èŠ‚ç‚¹åç§°ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ mapState ä¼ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„<br>    // ...mapState([&#x27;curIdx&#x27;])<br>    // ç”±äºä¸‹æ–¹å·²ç»å­˜åœ¨äº†ä¸€ä¸ªcontentæ•°ç»„ï¼Œä¸ºäº†ä¸é‡åæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸€ä¸‹è¿™ä¸ªgettersè¿”è¿˜çš„å€¼åç§°ä¸ºmsg<br>    ...mapGetters(&#123;<br>      msg:&#x27;content&#x27;<br>    &#125;)<br>  &#125;,<br>  data() &#123;<br>    return &#123;<br>      // æ ¹æ®propæ¥æ”¶çš„curIdxåŠ¨æ€æ˜¾ç¤ºå†…å®¹<br>      content: [&quot;é¡µé¢1&quot;, &quot;é¡µé¢2&quot;, &quot;é¡µé¢3&quot;, &quot;é¡µé¢4&quot;],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<h4 id="actionsä½¿ç”¨"><a class="markdownIt-Anchor" href="#actionsä½¿ç”¨"></a> actionsä½¿ç”¨</h4>
<p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“actionsçš„ä½œç”¨æ—¶ç”¨æ¥å¤„ç†å¼‚æ­¥æ“ä½œçš„ï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯å¼‚æ­¥æ“ä½œå‘¢ï¼Ÿæ‰€è°“å¼‚æ­¥å°±æ˜¯å½“æ‰§è¡Œè¿™ä¸ªä»£ç ä»¥åç¨‹åºå¹¶ä¸ä¼šç­‰å¾…å…¶æˆåŠŸç»“æŸå¹¶è¿”è¿˜ç»“æœä»¥åå†ç»§ç»­å‘ä¸‹èµ°ï¼Œè€Œæ˜¯è¿™ä¸ªå¼‚æ­¥æ“ä½œè‡ªå·±å»ä¸€è¾¹è¿è¡Œè€Œä¸»ç¨‹åºç»§ç»­å‘ä¸‹æ‰§è¡Œåé¢çš„ä»£ç ï¼Œå½“ä¹‹å‰çš„ä»£ç å®Œæˆåå†å¤„ç†è¿”è¿˜ç»“æœï¼Œè¿™å°±æ˜¯å¼‚æ­¥ï¼Œè€ŒåŒæ­¥å°±æ˜¯å¿…é¡»ç­‰å¾…ä¹‹å‰çš„ä»£ç æˆåŠŸè¿è¡Œå¹¶è¿”è¿˜ä»¥åå†å‘ä¸‹æ‰§è¡Œä»£ç ã€‚å¾ˆæ˜¾ç„¶setTimeoutä»¥åŠä¸»æµçš„æ¥å£è°ƒç”¨è·å–æ•°æ®çš„ä»£ç éƒ½æ˜¯å¼‚æ­¥æ“ä½œï¼Œè¿™æ˜¯å› ä¸ºä»¥é˜²å‡ºç°é˜»å¡ä»¥åŠé¡µé¢é•¿æ—¶é—´åŠ è½½ç©ºç™½çš„é—®é¢˜ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆè¿™äº›å¼‚æ­¥æ“ä½œè¦åœ¨actionsä¸­æ‰§è¡Œè€Œä¸èƒ½å†mutationsä¸­æ‰§è¡Œå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºvueå®˜æ–¹æ’ä»¶ä¸“é—¨æä¾›äº†ä¸€ä¸ªè°ƒè¯•åŒºåŸŸå¯ä»¥å®æ—¶è·Ÿè¸ªå¹¶æ˜¾ç¤ºvuexä¸­stateçš„å€¼ï¼Œä½†æ˜¯å¦‚æœmutationsä¸­çš„æ–¹æ³•å‡ºç°å¼‚æ­¥æ“ä½œå¯èƒ½ä¼šé€ æˆè·Ÿè¸ªå‡ºç°å¼‚å¸¸ã€‚</p>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰vuexå®˜æ–¹æ’ä»¶ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹æ–¹é“¾æ¥å‰å¾€æç®€æ’ä»¶å•†åŸä¸‹è½½</p>
<div class="tag-plugin link dis-select"><a class="link-card plain" title="vueæ’ä»¶ä¸‹è½½" href="https://chrome.zzzmh.cn/info?token=nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">vueæ’ä»¶ä¸‹è½½</span><span class="cap link fs12">https://chrome.zzzmh.cn/info?token=nhdogjmejiglipccpnnnanhbledajbpd</span></div><div class="right"><div class="lazy img" data-bg="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/link/8f277b4ee0ecd.svg"></div></div></a></div>
<p>è¿™é‡Œæˆ‘ä»¬ä¸¾ä¸€ä¸ªå°ä¾‹å­ï¼ŒåŠ å…¥ç°åœ¨æˆ‘ä»¬å¹¶ä¸åƒsetCurIdxçš„å€¼ç«‹åˆ»æ›´æ–°ï¼Œè€Œæ˜¯ç­‰å¾…1sååœ¨æ›´æ–°ã€‚ç°åœ¨æˆ‘ä»¬å°†å»¶æ—¶å‡½æ•°setTimeoutå†™åˆ°mutationså†…éƒ¨å¦‚ä¸‹</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212201139.png" alt="" /></p>
<p>å®é™…ä¸Šæ­¤æ—¶vuexå†…éƒ¨çš„curIdxå°±4ï¼Œä½†æ˜¯è¿™ä¸ªæ’ä»¶è·Ÿè¸ªå‡ºç°äº†å¼‚å¸¸ï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦å°†å¼‚æ­¥æ“ä½œæ”¾ç½®åˆ°actionsä¸­ï¼Œä½†æ˜¯actionsä¸­å¹¶ä¸èƒ½ç›´æ¥æ“ä½œstateä¸­çš„æ•°æ®ï¼Œå› æ­¤ä»–éœ€è¦ç­‰å¾…1sä»¥åè°ƒç”¨mutationsä¸­çš„æ–¹æ³•è¿›è¡Œstateä¸­curIdxå€¼çš„æ›´æ–°ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>    <span class="hljs-attr">curIdx</span>: <span class="hljs-number">1</span>,<br>  &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-comment">//   å½¢å‚å’Œmutationsç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯state,ç¬¬äºŒä¸ªæ˜¯payload</span><br>    <span class="hljs-title function_">content</span>(<span class="hljs-params">state</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰æ˜¾ç¤ºçš„æ—¶ç¬¬<span class="hljs-subst">$&#123;state.curIdx&#125;</span>ä¸ªæ ‡ç­¾å¯¹åº”çš„é¡µé¢çš„å†…å®¹`</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>    <span class="hljs-comment">// ç”¨æ¥ä¿®æ”¹stateä¸­çš„curIdx</span><br>    <span class="hljs-comment">// é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯state</span><br>    <span class="hljs-title function_">setCurIdx</span>(<span class="hljs-params">state, idx</span>) &#123;<br>      state.<span class="hljs-property">curIdx</span> = idx;<br>      <span class="hljs-comment">//   zè¿™ç§å¼‚æ­¥æ“ä½œåœ¨mutationsä¸­è¦é¿å…</span><br>      <span class="hljs-comment">//   setTimeout(()=&gt;&#123;</span><br>      <span class="hljs-comment">//     state.curIdx = idx;</span><br>      <span class="hljs-comment">//   &#125;, 1000)</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>    <span class="hljs-comment">// æ³¨æ„ç¬¬ä¸€ä¸ªå½¢å‚ä¸æ˜¯stateè€Œæ˜¯contextå³this.$storeå› æ­¤åé¢å¯ä»¥è·Ÿcommitè°ƒç”¨mutattionsä¸­çš„å‡½æ•°</span><br>    <span class="hljs-title function_">updateCurIdx</span>(<span class="hljs-params">context, idx</span>) &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>, idx);<br>      &#125;,<span class="hljs-number">1000</span>)<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬è¿˜éœ€è¦æ›´æ”¹Tabä¸­çš„ä»£ç è®©å…¶ä¸å†ç›´æ¥è°ƒç”¨setCurIdx()è€Œæ˜¯è°ƒç”¨updateCurIdx()ï¼Œè¿™é‡ŒåŒæ ·æœ‰ä¸¤ç§æ–¹æ³•ã€‚</p>
<h5 id="æ–¹æ³•ä¸€-4"><a class="markdownIt-Anchor" href="#æ–¹æ³•ä¸€-4"></a> æ–¹æ³•ä¸€</h5>
<p>ç›´æ¥é€šè¿‡ <code>this.$store.dispatch.updateCurIdx()</code>å®ç°ï¼Œè¿™é‡Œçš„dispatchä½œç”¨å’Œmutationsä¸­çš„commitç±»ä¼¼ï¼Œæ„ä¸ºè°ƒç”¨è§¦å‘vuexä¸­æŒ‡å®šçš„æ–¹æ³•ï¼Œå› æ­¤åŒæ ·ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–¹æ³•åï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ å€¼å¯¹è±¡payloadã€‚æ­¤æ—¶Tabç»„ä»¶ä»£ç ä¿®æ”¹ä¸º</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212202617.png" alt="" /></p>
<h5 id="æ–¹æ³•äºŒ-4"><a class="markdownIt-Anchor" href="#æ–¹æ³•äºŒ-4"></a> æ–¹æ³•äºŒ</h5>
<p>ç±»ä¼¼çš„å°±æ˜¯å€Ÿç”¨ <code>mapActions</code>è¾…åŠ©å‡½æ•°å•¦ï¼Œå¦‚ä¸‹æ˜ å°„åˆ°methodså³å¯äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- ä¸åœ¨ä½¿ç”¨propè€Œæ˜¯ä½¿ç”¨this.$store.state.curIdxè·å– --&gt;<br>    &lt;!-- ç”±äºvueä¸­templateæ— éœ€ä½¿ç”¨this --&gt;<br>    &lt;!-- å› æ­¤ç›´æ¥ä½¿ç”¨$store.state.curIdxå³å¯ --&gt;<br>    &lt;!-- ç”±äºsetCurIdxå·²ç»æ˜ å°„ä¸ºäº†è‡ªå·±çš„æ–¹æ³•å› æ­¤ç›´æ¥è°ƒç”¨å³å¯ --&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(1)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(2)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(3)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(4)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapMutations &#125; from &quot;vuex&quot;;<br>import &#123;mapActions&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br>    // ä½¿ç”¨æ˜ å°„çš„æ–¹æ³•è·å–setCurIdxæ–¹æ³•<br>    ...mapMutations([&quot;setCurIdx&quot;]),<br>    // æ˜ å°„å¼•å…¥actions<br>    ...mapActions([&#x27;updateCurIdx&#x27;]),<br>    // changeTab(i) &#123;<br>    //   this.$emit(&quot;changeTab&quot;, i);<br>    // &#125;,<br><br>    //  å½“ç„¶ä¹Ÿå¯ä»¥ä¸æ˜ å°„ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨this.$store.mutations.setCurIdx()ä¿®æ”¹<br>    // setCurIdx(idx) &#123;<br>    //   this.$store.commit(&quot;setCurIdx&quot;, idx);<br>    // &#125;,<br><br>    //æˆ‘ä»¬ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥å°è£…å°†setCurIdxæ”¹ä¸ªåå­—<br>    // ...mapMutations([&#x27;setCurIdx&#x27;]),<br>    // changeTab(idx)&#123;<br>    //   this.setCurIdx(idx);<br>    // &#125;<br><br>    // updateCurIdx(idx) &#123;<br>    //   this.$store.dispatch(&quot;updateCurIdx&quot;, idx);<br>    // &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<h5 id="åº”ç”¨å®æˆ˜"><a class="markdownIt-Anchor" href="#åº”ç”¨å®æˆ˜"></a> åº”ç”¨å®æˆ˜</h5>
<p>ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å¤§éƒ¨åˆ†åœºæ™¯ç”¨ä¸åˆ°setTimeoutå¼‚æ­¥å‡½æ•°æ¥æ“ä½œvuexä¸­çš„æ•°æ®ï¼Œæ›´å¸¸è§çš„æ˜¯é€šè¿‡fetchã€ajaxæˆ–è€…axiosæ‹¿å»æ•°æ®æ¥ä¸ºvuexä¸­çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œç”±äºè¿™äº›æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨actionsä¸­æ‰§è¡Œè¿™äº›è¯·æ±‚æ“ä½œï¼Œè·å–åˆ°å“åº”è¯·æ±‚æ•°æ®åå†é€šè¿‡è°ƒç”¨mutationsä¸­çš„æ–¹æ³•æ¥ä¸ºstateä¸­çš„å€¼è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ã€‚ç°åœ¨æˆ‘ä»¬å‡è®¾ä¸€å¼€å§‹å¹¶ä¸çŸ¥é“å“ªä¸€ä¸ªaæ ‡ç­¾è¢«é€‰ä¸­ï¼Œå³curIdxå€¼å¹¶ä¸ç¡®å®šï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªapiä»åå°å»è·å–è¿™ä¸ªåˆå§‹å€¼ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ä¼šç”¨åˆ°å¼‚æ­¥è¯·æ±‚å‡½æ•°ï¼Œå‡è®¾curIdxåˆå§‹å€¼æ˜¯3ï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦è°ƒç”¨æ¥å£ <code>/init</code>æ¥è·å–åˆ°è¿™ä¸ªåˆå§‹curIdxå€¼ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰åå°ï¼Œå› æ­¤ä½¿ç”¨axios+mock.jsçš„æ–¹å¼æ¥æ¼”ç¤ºï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…axios</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install axios --save<br></code></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬åœ¨main.jsä¸­å…¨å±€å¼•å…¥axioså¹¶æŒ‚è½½åˆ°vueçš„åŸå‹ä¸Šï¼Œè¿™æ ·æˆ‘ä»¬åœ¨ä»»æ„ä½ç½®å¤„éƒ½å¯ä»¥ä½¿ç”¨axiosè¯·æ±‚å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¼•å…¥axios</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>;<br><span class="hljs-comment">// æŒ‚è½½åˆ°vueåŸå‹é“¾ä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">axios</span> = axios;<br></code></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬å†åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªaxiosæ–‡ä»¶å¤¹å¹¶ä¸”åœ¨æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºindex.jsç”¨æ¥è¿”è¿˜ä½¿ç”¨æ¥å£è¯·æ±‚å‡½æ•°åŒæ—¶åˆ›å»ºä¸€ä¸ªapi.jsç”¨æ¥å­˜æ”¾å…·ä½“çš„è¯·æ±‚å‡½æ•°å†…å®¹å¦‚ä¸‹å›¾</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212204709.png" alt="" /></p>
<p>ç„¶åæˆ‘ä»¬åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç æ¥å‘å¤–æš´éœ²ä¸€ä¸ªè¯·æ±‚æ•°æ®çš„æ–¹æ³•è¿™æ ·å­å†™çš„å¥½å¤„æ˜¯å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œè®¸å¤šæ•°æ®çš„è¯·æ±‚æ—¶éƒ½åªéœ€è¦åœ¨è¿™é‡Œå®šä¹‰å¥½è¯·æ±‚æ–¹æ³•ï¼Œç„¶åç»„ä»¶ä¸€è¡Œè°ƒç”¨è¿™ä¸ªå‘å¤–æš´éœ²çš„æ–¹æ³•å³å¯ï¼Œæ—¢ä¿è¯äº†ç»„ä»¶å†…éƒ¨æ²¡æœ‰å…·ä½“çš„è¯·æ±‚å‡½æ•°å†…å®¹ï¼Œç®€æ´ä¼˜é›…ï¼ŒåŒæ—¶æ‰€æœ‰çš„å…·ä½“è¯·æ±‚å†…å®¹éƒ½æ”¾ç½®åˆ°äº†api.jsä¸­æ–¹ä¾¿åæœŸç»´æŠ¤ï¼ˆä»æ­¤ä¸å†éœ€è¦å»ç»„ä»¶ä¸­çš„å„ä¸ªä½ç½®å»ä¿®æ”¹è¯·æ±‚ä»£ç äº†ğŸ˜ï¼‰</p>
<div class="tag-plugin tabs"id="tab_5"><div class="nav-tabs"><div class="tab active"><a href="#tab_5-1">index.js</a></div><div class="tab"><a href="#tab_5-2">api.js</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_5-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è¯»å–api.jså†…éƒ¨å®šä¹‰çš„è¯·æ±‚æ–¹æ³•</span><br><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> apis <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./api.js&#x27;</span><br><span class="hljs-comment">// æš´éœ²ç»™å¤–éƒ¨ä»¥ä¾¿è°ƒç”¨ï¼Œæ­¤æ—¶æ‰€æœ‰çš„apiæ–¹æ³•æ•´åˆåˆ°äº†ä¸€èµ·å½¢æˆä¸€ä¸ªå¯¹è±¡å‘½åä¸ºapis</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> apis<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_5-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span><br> <br><span class="hljs-comment">// é»˜è®¤æ¥å£å¤´éƒ¨å…¬æœ‰çš„ipåœ°å€ï¼Œç”±äºè¿™é‡Œæ˜¯æœ¬æœºå‡è¯·æ±‚å¹¶ä½¿ç”¨mock.jsæ‹¦æˆªè¿”è¿˜</span><br><span class="hljs-comment">// å› æ­¤ä½¿ç”¨æœ¬åœ°å›ç¯åœ°å€127.0.0.1åŒæ—¶é»˜è®¤æ˜¯80ç«¯å£</span><br>axios.<span class="hljs-property">defaults</span>.<span class="hljs-property">baseURL</span> = <span class="hljs-string">&#x27;http://127.0.0.1:80&#x27;</span>;<br><span class="hljs-comment">//è¯¥åœ°å€å°±å«URLï¼ˆUniform Resource Locator,ç»Ÿä¸€èµ„æºå®šä½å™¨ï¼‰</span><br><span class="hljs-comment">//Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚</span><br><span class="hljs-comment">//APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºæ¥å£ï¼‰</span><br><br><span class="hljs-comment">// æ²¡æœ‰ä¼ é€’çš„å‚æ•°</span><br><span class="hljs-comment">// ä½¿ç”¨geiæˆ–è€…postéƒ½å¯ä»¥ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨getè¯·æ±‚</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">initData</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/initData&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>ç„¶åæˆ‘ä»¬å†å®‰è£…mock.jså’Œ<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?from=pc_blog_highlight&amp;q=axios">axios</a>-mock-adapter</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">npm install mockjs --save<br><span class="hljs-comment">//ç”¨æ¥æ¨¡æ‹Ÿä»¿çœŸè¯·æ±‚è¿”å›ï¼Œå¯ä»¥æ‹¦æˆªå¹¶è§£æå¾—åˆ°å»é™¤ipåçš„è·¯å¾„</span><br>npm install axios-mock-adapter --save-dev         <span class="hljs-comment">//å¼€å‘ç¯å¢ƒä¾èµ–</span><br></code></pre></td></tr></table></figure>
<p>ç„¶åä¸ºäº†æ–¹ä¾¿ç®¡ç†æˆ‘ä»¬å†åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªmockæ–‡ä»¶å¤¹å¹¶æ–°å»ºindex.jsç”¨æ¥å­˜æ”¾æ‰€æœ‰çš„mockæ‹¦æˆªå‡½æ•°ï¼Œç„¶åæˆ‘ä»¬å†åœ¨mockæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºä¸€ä¸ªdataæ–‡ä»¶å¤¹ï¼Œå…¶å†…éƒ¨å†åˆ›å»ºä¸€ä¸ªdata.jsç”¨æ¥å­˜å‚¨å…·ä½“çš„åˆå§‹åŒ–æ•°æ®å¦‚ä¸‹å›¾ï¼š</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212205839.png" alt="" /></p>
<p>æˆ‘ä»¬åˆ†åˆ«åœ¨å„ä¸ªæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç </p>
<div class="tag-plugin tabs"id="tab_6"><div class="nav-tabs"><div class="tab active"><a href="#tab_6-1">index.js</a></div><div class="tab"><a href="#tab_6-2">data/data.js</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_6-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// é€šè¿‡axios-mock-adapterç”Ÿæˆä»£ç†apiåœ°å€ï¼Œå¯ä»¥æ¨¡æ‹Ÿåå°çš„æ•°æ®è¿”è¿˜</span><br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MockAdapter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios-mock-adapter&quot;</span>;<br><br><span class="hljs-keyword">import</span> &#123;<br>  initData<br>&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./data/data.js&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ç¬¬ä¸€ä¸ªæ‹¦æˆªè¿”è¿˜å‡½æ•°</span><br>  <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// æ–°å»ºä¸€ä¸ªæ‹¦æˆªå¯¹è±¡</span><br>    <span class="hljs-keyword">let</span> mock = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MockAdapter</span>(axios);<br>    mock.<span class="hljs-title function_">onGet</span>(<span class="hljs-string">&#x27;/initData&#x27;</span>).<span class="hljs-title function_">reply</span>(<br>      <span class="hljs-comment">// æ— ä¼ è¿›æ¥çš„å‚æ•°ï¼Œå› æ­¤æ˜¯æ— å‚ç®­å¤´å‡½æ•°</span><br>      <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">//   å¦‚æœæ—¶æœ‰å‚æ•°çš„è¯·æ±‚ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œè§£æ</span><br>        <span class="hljs-comment">// è¿”è¿˜ä¸€ä¸ªPromiseå¯¹è±¡</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> &#123;<br>          <span class="hljs-comment">//   resolveè¡¨ç¤ºæˆåŠŸè¿”è¿˜</span><br>          <span class="hljs-comment">//   æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ª200æ˜¯è¿”è¿˜æ•°æ®çš„å¤´éƒ¨ä¿¡æ¯çŠ¶æ€code</span><br>          <span class="hljs-title function_">resolve</span>([<span class="hljs-number">200</span>, &#123;<br>            <span class="hljs-comment">//   è¿™é‡Œä¾›å¼€å‘è€…ä½¿ç”¨</span><br>            <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>,<br>            <span class="hljs-comment">// é‡ç‚¹æ˜¯è¦å°†åˆå§‹çš„æ•°æ®æ‹¿è¿‡æ¥</span><br>            initData,<br>          &#125;]);<br>        &#125;)<br>      &#125;<br>    )<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_6-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è®¾ç½®ä¸ºå¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹</span><br><span class="hljs-keyword">const</span> initData=&#123;<br>    <span class="hljs-attr">curIdx</span>:<span class="hljs-number">3</span><br>&#125;<br><span class="hljs-comment">// å‘å¤–æš´éœ²</span><br><span class="hljs-keyword">export</span> &#123;initData&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>æ‹¦æˆªå‡½æ•°å®Œæˆä»¥åæˆ‘ä»¬åŒæ ·åœ¨main.jsä¸­å¼•å…¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å¼•å…¥è¿™ä¸ªå¯¹è±¡</span><br><span class="hljs-comment">//é»˜è®¤å¼•å…¥mockæ–‡ä»¶å¤¹ä¸‹å…¥å£jsæ–‡ä»¶index.jsè¿”è¿˜çš„å¯¹è±¡</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Mock</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../mock&#x27;</span><br><span class="hljs-comment">// åŠ å…¥initæ‹¦æˆªå‡½æ•°</span><br><span class="hljs-title class_">Mock</span>.<span class="hljs-title function_">init</span>();<br></code></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬å·²ç»å®Œæˆäº†è¯·æ±‚axioså’Œæ‹¦æˆªå“åº”æ¨¡å—çš„å‡†å¤‡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¿›è¡Œæ¼”ç¤ºï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦è‡ªå®šä¹‰ä¸€ä¸ªæ–°çš„actionså‡½æ•°åŒæ—¶ä»–ä¼šè°ƒç”¨axioså‘å¤–æš´éœ²çš„è¯·æ±‚å‡½æ•°initDataï¼Œå½“è¯·æ±‚æˆåŠŸå‘é€åä¼šè¢«mock.jsæ‹¦æˆªç„¶åè¿”è¿˜å“åº”ï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥å…ˆæ‰“å°ä¸€ä¸‹è¿”è¿˜ä¿¡æ¯reså¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-comment">//é»˜è®¤å¼•å…¥index.jsä¸‹çš„å‘å¤–æš´éœ²çš„apiså¯¹è±¡</span><br><span class="hljs-comment">// å¼•å…¥è¿™ä¸ªè¿™ä¸ªåŒ…å«äº†æ‰€æœ‰è¯·æ±‚å‡½æ•°çš„å¯¹è±¡</span><br><span class="hljs-keyword">import</span> apis <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../axios&#x27;</span><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>    <span class="hljs-attr">curIdx</span>: <span class="hljs-number">1</span>,<br>  &#125;,<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-comment">//   å½¢å‚å’Œmutationsç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯state,ç¬¬äºŒä¸ªæ˜¯payload</span><br>    <span class="hljs-title function_">content</span>(<span class="hljs-params">state</span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰æ˜¾ç¤ºçš„æ—¶ç¬¬<span class="hljs-subst">$&#123;state.curIdx&#125;</span>ä¸ªæ ‡ç­¾å¯¹åº”çš„é¡µé¢çš„å†…å®¹`</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>    <span class="hljs-comment">// ç”¨æ¥ä¿®æ”¹stateä¸­çš„curIdx</span><br>    <span class="hljs-comment">// é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯state</span><br>    <span class="hljs-title function_">setCurIdx</span>(<span class="hljs-params">state, idx</span>) &#123;<br>      state.<span class="hljs-property">curIdx</span> = idx;<br>      <span class="hljs-comment">//   zè¿™ç§å¼‚æ­¥æ“ä½œåœ¨mutationsä¸­è¦é¿å…</span><br>      <span class="hljs-comment">//   setTimeout(()=&gt;&#123;</span><br>      <span class="hljs-comment">//     state.curIdx = idx;</span><br>      <span class="hljs-comment">//   &#125;, 1000)</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>    <span class="hljs-comment">// æ³¨æ„ç¬¬ä¸€ä¸ªå½¢å‚ä¸æ˜¯stateè€Œæ˜¯contextå³this.$storeå› æ­¤åé¢å¯ä»¥è·Ÿcommitè°ƒç”¨mutattionsä¸­çš„å‡½æ•°</span><br>    <span class="hljs-title function_">updateCurIdx</span>(<span class="hljs-params">context, idx</span>) &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>, idx);<br>      &#125;, <span class="hljs-number">1000</span>)<br>    &#125;,<br>    <span class="hljs-title function_">init</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-comment">// è°ƒç”¨å®ƒçš„initData()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span><br>      apis.<span class="hljs-title function_">initData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)<br>      &#125;);<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>ç„¶åæˆ‘ä»¬åœ¨Tabç»„ä»¶ä¸­çš„createdé’©å­å‡½æ•°ä¸‹è§¦å‘è¿™ä¸ªactionså‡½æ•°ï¼Œå¦‚æœèƒ½å¤ŸæˆåŠŸè¢«æ‹¦æˆªé‚£ä¹ˆæ§åˆ¶å°å°†ä¼šæ‰“å°è¿”è¿˜ä¿¡æ¯å¦‚ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;!-- ä¸åœ¨ä½¿ç”¨propè€Œæ˜¯ä½¿ç”¨this.$store.state.curIdxè·å– --&gt;<br>    &lt;!-- ç”±äºvueä¸­templateæ— éœ€ä½¿ç”¨this --&gt;<br>    &lt;!-- å› æ­¤ç›´æ¥ä½¿ç”¨$store.state.curIdxå³å¯ --&gt;<br>    &lt;!-- ç”±äºsetCurIdxå·²ç»æ˜ å°„ä¸ºäº†è‡ªå·±çš„æ–¹æ³•å› æ­¤ç›´æ¥è°ƒç”¨å³å¯ --&gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(1)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 1 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹1&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(2)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 2 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹2&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(3)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 3 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹3&lt;/a<br>    &gt;<br>    &lt;a<br>      href=&quot;javascript:;&quot;<br>      @click=&quot;updateCurIdx(4)&quot;<br>      :class=&quot;[&#123; current: $store.state.curIdx === 4 &#125;]&quot;<br>    &gt;<br>      é€‰é¡¹4&lt;/a<br>    &gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script&gt;<br>import &#123; mapMutations &#125; from &quot;vuex&quot;;<br>import &#123;mapActions&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>  name: &quot;Tab&quot;,<br>  //è°ƒç”¨actionsè¿›è¡ŒcurIndexçš„åˆå§‹åŒ–<br>  created() &#123;<br>    this.$store.dispatch(&quot;init&quot;);<br>  &#125;,<br>  //æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’è¿›æ¥çš„curIdxçš„å€¼<br>  // props: &#123;<br>  //   curIdx: Number,<br>  // &#125;,<br>  //ç‚¹å‡»è§¦å‘çˆ¶ç»„ä»¶æ›´æ–°curIdxå€¼<br>  methods: &#123;<br>    // ä½¿ç”¨æ˜ å°„çš„æ–¹æ³•è·å–setCurIdxæ–¹æ³•<br>    ...mapMutations([&quot;setCurIdx&quot;]),<br>    // æ˜ å°„å¼•å…¥actions<br>    ...mapActions([&#x27;updateCurIdx&#x27;]),<br>    // changeTab(i) &#123;<br>    //   this.$emit(&quot;changeTab&quot;, i);<br>    // &#125;,<br><br>    //  å½“ç„¶ä¹Ÿå¯ä»¥ä¸æ˜ å°„ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨this.$store.mutations.setCurIdx()ä¿®æ”¹<br>    // setCurIdx(idx) &#123;<br>    //   this.$store.commit(&quot;setCurIdx&quot;, idx);<br>    // &#125;,<br><br>    //æˆ‘ä»¬ç”šè‡³å¯ä»¥è¿›ä¸€æ­¥å°è£…å°†setCurIdxæ”¹ä¸ªåå­—<br>    // ...mapMutations([&#x27;setCurIdx&#x27;]),<br>    // changeTab(idx)&#123;<br>    //   this.setCurIdx(idx);<br>    // &#125;<br><br>    // updateCurIdx(idx) &#123;<br>    //   this.$store.dispatch(&quot;updateCurIdx&quot;, idx);<br>    // &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>a &#123;<br>  margin-right: 10px;<br>&#125;<br>.current &#123;<br>  color: #000;<br>  text-decoration: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>æ§åˆ¶å°å‡ºç°ä¸‹å›¾å³è¯´æ˜æˆåŠŸï¼</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212215043.png" alt="" /></p>
<p>å¾ˆæ˜æ˜¾dataä¸­æ˜¯æˆ‘ä»¬éœ€è¦çš„æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬åœ¨actionsä¸­çš„initå‡½æ•°ä¸­è¿›è¡Œè§£æç„¶åè°ƒç”¨setCurIdxè¿›è¡Œstateä¸­çš„curIdxèµ‹å€¼å°±è¡Œäº†ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">init</span>(<span class="hljs-params">context</span>) &#123;<br>      <span class="hljs-comment">// è°ƒç”¨å®ƒçš„initData()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span><br>      apis.<span class="hljs-title function_">initData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)<br>        context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>,res.<span class="hljs-property">data</span>.<span class="hljs-property">initData</span>.<span class="hljs-property">curIdx</span>)<br>      &#125;);<br>    &#125;<br></code></pre></td></tr></table></figure>
<p>è‡ªæ­¤æˆ‘ä»¬å°±å®Œæˆäº†vuexä¸­curIdxçš„å¼‚æ­¥è°ƒç”¨è¯·æ±‚æ¥å£è¿›è¡Œåˆå§‹åŒ–çš„å·¥ä½œï¼Œæˆ‘ä»¬ä¼šå‘ç°åˆ·æ–°é¡µé¢ä»¥åé»˜è®¤è¢«é€‰ä¸­çš„æ ‡ç­¾å°±æ˜¯ç¬¬ä¸‰ä¸ªåŒæ—¶ä¸‹æ–¹çš„å†…å®¹ä¹Ÿæ˜¯ç¬¬ä¸‰ä¸ªå†…å®¹</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211212215538.png" alt="" /></p>
<p>è¿™å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å¼‚æ­¥è¯·æ±‚æ•°æ®å¹¶åˆå§‹åŒ–çš„æµç¨‹ï¼ŒåŒæ—¶æˆ‘ä»¬è¿˜ç†Ÿæ‚‰äº†æ ‡å‡†çš„axioså’Œmock.jsçš„ä½¿ç”¨ã€‚</p>
<h5 id="å…³äºå¼‚æ­¥æ‰§è¡Œçš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºå¼‚æ­¥æ‰§è¡Œçš„é—®é¢˜"></a> å…³äºå¼‚æ­¥æ‰§è¡Œçš„é—®é¢˜</h5>
<p>æˆ‘ä»¬çŸ¥é“jsåœ¨æ‰§è¡Œå‡½æ•°æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œå³è§£é‡Šå™¨åœ¨æ‰§è¡Œè§¦å‘å‡½æ•°çš„ä»£ç ä»¥åå¹¶ä¸ä¼šåƒcä¸€æ ·ç­‰å¤§å‡½æ•°æ‰§è¡Œå®Œæ¯•å¹¶è¿”è¿˜ç»“æœå†æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç ï¼Œè€Œæ˜¯è®©å‡½æ•°å…ˆæ‰§è¡Œï¼Œè‡ªå·±ç»§ç»­è¿›è¡Œä¸‹é¢ä»£ç çš„è§£é‡Šå’Œè¿è¡Œï¼Œå³ <code>å¼‚æ­¥æ‰§è¡Œ</code>ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨Tabä¸­createdå£°æ˜é’©å­å‡½æ•°ä¸­è°ƒç”¨çš„dispatchè§¦å‘helloè¿™ä¸ªactionå¼‚æ­¥å‡½æ•°ä»¥åå¯ä»¥ç­‰å¾…å‡½æ•°æ‰§è¡Œå®Œæ¯•åè¿”è¿˜trueå¹¶ç»™sucèµ‹å€¼ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„ä»£ç å°±æ˜¯ï¼š</p>
<div class="tag-plugin tabs"id="tab_7"><div class="nav-tabs"><div class="tab active"><a href="#tab_7-1">store/actions.js</a></div><div class="tab"><a href="#tab_7-2">Tab/index.vue</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_7-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">// 1sä»¥åæ‰§è¡Œæ‰“å°æ“ä½œï¼Œç„¶åè¿”è¿˜trueç»™sucèµ‹å€¼</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`hello`</span>);<br>      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;,<span class="hljs-number">1000</span>);<br>  &#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_7-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;init&quot;</span>);<br>    <span class="hljs-keyword">var</span> suc = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;hello&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(suc);<br>  &#125;,<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>æˆ‘ä»¬ä¼šå‘ç°ä»–è¿”è¿˜ç»™sucæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œä½†æ˜¯è¿™æ ·å¹¶æ²¡æœ‰èƒ½å¤ŸæˆåŠŸç»™sucèµ‹å€¼true</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211217091206.png" alt="" /></p>
<p>sucè¢«åˆå§‹åŒ–èµ‹å€¼æˆäº†ä¸€ä¸ªPromiseå¯¹è±¡äº†ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬çš„é¢„æœŸæ•ˆæœï¼ˆæˆ‘ä»¬æ˜¯å¸Œæœ›ä»–å˜ä¸ºå¸ƒå°”ç±»å‹çš„trueå€¼ï¼‰ã€‚å¯æ˜¯æˆ‘ä»¬ä»ä¸­å¯ä»¥å‘ç°actionså‡½æ•°è§¦å‘æ‰§è¡Œå®Œä»£ç ä»¥åä¼šè¿”è¿˜ä¸€ä¸ªPrimiseå¯¹è±¡,è¿™æ ·çš„è¯æˆ‘ä»¬æ˜¯å¦å¯ä»¥ç›´æ¥è°ƒç”¨thenæ¥è¿›è¡ŒåŒæ­¥ç­‰å¾…åçš„èµ‹å€¼å‘¢ï¼Ÿå¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;init&quot;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;hello&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>      <span class="hljs-keyword">var</span> suc=<span class="hljs-literal">true</span>;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(suc)<br>    &#125;)<br>  &#125;,<br></code></pre></td></tr></table></figure>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211217093610.png" alt="" /></p>
<p>æˆ‘ä»¬å¾—åˆ°äº†é¢„æœŸçš„æ•ˆæœï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨Promiseå¯¹è±¡çš„ç‰¹ç‚¹åœ¨æ‰§è¡Œå®Œæˆä»¥ååœ¨æ‰§è¡Œthenåé¢çš„å‡½æ•°è¿›è¡Œèµ‹å€¼ï¼Œå³åŒæ­¥ç­‰å¾…å‰é¢çš„å‡½æ•°æ‰§è¡Œå®Œæˆä»¥åæˆ‘ä»¬å†è¿›è¡Œåé¢çš„ä»£ç ã€‚ä½†æ˜¯æ­¤æ—¶æˆ‘ä»¬å¹¶ä¸èƒ½æ¥æ”¶åˆ°helloå‡½æ•°è¿”è¿˜çš„å‚æ•°ï¼ŒåŠ å…¥æˆ‘ä»¬ç°åœ¨å¸Œæœ›helloåœ¨è¿”è¿˜â€™successâ€™å­—ç¬¦ä¸²ä»¥åæ‰èƒ½ç»™sucèµ‹å€¼true,é‚£ä¹ˆæ­¤æ—¶æˆ‘ä»¬ä»…ä»…ä½¿ç”¨actionsé»˜è®¤è¿”è¿˜çš„Promiseå¯¹è±¡æ˜æ˜¾åšä¸åˆ°äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªPromiseè¿”è¿˜å¯¹è±¡å¹¶ä¸”ä½¿ç”¨resolve()å‡½æ•°ä¼ é€’æˆ‘ä»¬è¦è¿”è¿˜çš„å€¼ä»£ç å¦‚ä¸‹ï¼š</p>
<div class="tag-plugin tabs"id="tab_8"><div class="nav-tabs"><div class="tab active"><a href="#tab_8-1"> store/actions.js</a></div><div class="tab"><a href="#tab_8-2">Tab/index.vue</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_8-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">hello</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//åµŒå¥—åœ¨æœ€å¤–é¢</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-comment">// 1sä»¥åæ‰§è¡Œæ‰“å°æ“ä½œï¼Œç„¶åè¿”è¿˜successç»™sucèµ‹å€¼</span><br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`hello`</span>);<br>        <span class="hljs-comment">//æ‰‹åŠ¨åŠ å…¥æ‰§è¡Œå®Œæˆåçš„resolveå‡½æ•°</span><br>        <span class="hljs-comment">// è¿™æ ·åé¢çš„thenå¯ä»¥æ•æ‰åˆ°ç»§ç»­æ‰§è¡Œå‡½æ•°</span><br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;success&quot;</span>);<br>      &#125;, <span class="hljs-number">1000</span>);<br>    &#125;)<br>  &#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_8-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;init&quot;</span>);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&quot;hello&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">if</span> (data === <span class="hljs-string">`success`</span>) &#123;<br>        <span class="hljs-keyword">var</span> suc = <span class="hljs-literal">true</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(suc);<br>      &#125;<br>    &#125;);<br>  &#125;,<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211217094144.png" alt="" /></p>
<p>æ­¤æ—¶æˆ‘ä»¬ä»…åœ¨helloæ–¹æ³•è¿”è¿˜successå­—ç¬¦ä¸²å˜é‡ä»¥åæ‰ä¼šå¯¹sucèµ‹å€¼ä¸ºtrue,è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®ä¸åŒçš„è¿”è¿˜å€¼æ‰§è¡Œä¸åŒçš„æ“ä½œäº†ã€‚</p>
<div class="tag-plugin note" color="cyan"><div class="body"><p>è¦æ³¨æ„dispatché»˜è®¤è¿”è¿˜çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥é“¾å¼æ‰§è¡Œï¼ŒåŒæ—¶å¯ä»¥å’Œ<code>async/await</code>ç»“åˆä½¿ç”¨æ¥ç­‰å¾…æ‰€æœ‰çš„å¼‚æ­¥æ“ä½œå®Œæˆä»¥åå†è¿”è¿˜Promiseå¯¹è±¡ã€‚</p></div></div>
<p>æˆ‘ä»¬çŸ¥é“asyncæ˜¯å£°æ˜ä¸€ä¸ªå‡½æ•°fä¸ºå¼‚æ­¥å‡½æ•°ï¼Œé‚£ä¹ˆæ­¤æ—¶fçš„è¿”å›å€¼å°†æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œå› æ­¤åé¢å¯ä»¥æ¥f.then()æ¥è¿›è¡Œé“¾å¼æ“ä½œå¹¶ä¸”åœ¨é‡Œé¢è¿›è¡ŒåŒæ­¥ç­‰å¾…åçš„æ•°æ®å¤„ç†æ“ä½œã€‚åŒæ—¶awaitå°±æ˜¯<code>async await</code>çš„ç®€å†™ï¼Œä»–ä¼šé˜»å¡ç­‰å¾…åé¢æ‰€æ¥çš„å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œresolveåè·å–resolveè¿”è¿˜å€¼æ‰ç»§ç»­æ‰§è¡Œä¸‹é¢çš„ä»£ç ï¼Œå³<code>åŒæ­¥ç­‰å¾…</code>ã€‚è¦æ³¨æ„<strong>awaitåªèƒ½æ”¾åœ¨asyncå‡½æ•°å†…éƒ¨ä½¿ç”¨</strong></p>
<h6 id="æ€è€ƒawaitå’Œthenéƒ½å¯ä»¥å®ŒæˆåŒæ­¥ç­‰å¾…æ‰§è¡Œåé¢çš„ä»£ç æ“ä½œé‚£ä¹ˆä¸¤è€…æœ‰ä½•åŒºåˆ«"><a class="markdownIt-Anchor" href="#æ€è€ƒawaitå’Œthenéƒ½å¯ä»¥å®ŒæˆåŒæ­¥ç­‰å¾…æ‰§è¡Œåé¢çš„ä»£ç æ“ä½œé‚£ä¹ˆä¸¤è€…æœ‰ä½•åŒºåˆ«"></a> æ€è€ƒï¼šawaitå’Œ.thenéƒ½å¯ä»¥å®ŒæˆåŒæ­¥ç­‰å¾…æ‰§è¡Œåé¢çš„ä»£ç æ“ä½œï¼Œé‚£ä¹ˆä¸¤è€…æœ‰ä½•åŒºåˆ«ï¼Ÿ</h6>
<p>awaitå¯ä»¥å®ç°æ­£å¸¸çš„è¡¨è¾¾å¼èµ‹å€¼ï¼Œå¦‚ä¸‹ä¸¤è€…æ˜¯ç­‰ä»·çš„</p>
<div class="tag-plugin tabs"id="tab_9"><div class="nav-tabs"><div class="tab active"><a href="#tab_9-1">.thenå®ç°</a></div><div class="tab"><a href="#tab_9-2">awaitå®ç°</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_9-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//fä¼šè¿”è¿˜Promiseå¯¹è±¡ï¼Œå¼‚æ­¥å‡½æ•°</span><br><span class="hljs-keyword">async</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>)&#123;<br>    ...<br>    <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>)<br>&#125;<br><span class="hljs-title function_">test</span>(<span class="hljs-params"></span>)&#123;<br>    f.<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">//æ¥ä¸‹æ¥ç»™sucèµ‹å€¼true</span><br>        <span class="hljs-keyword">var</span> suc=data<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_9-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"></span>)&#123;<br>    ...<br>     <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">true</span>)<br>&#125;<br><span class="hljs-comment">//æ³¨æ„æ­¤æ—¶testéœ€è¦å£°æ˜ä¸ºasyncï¼Œè¿™æ ·å…¶å†…éƒ¨æ‰èƒ½ä½¿ç”¨await</span><br><span class="hljs-keyword">async</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//åŒæ ·å®ç°äº†ç»™sucèµ‹å€¼true</span><br>    <span class="hljs-keyword">var</span> suc=<span class="hljs-keyword">await</span> <span class="hljs-title function_">f</span>();<br>&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>é‚£ä¹ˆæˆ‘ä»¬åœ¨å¤šé‡actionsæ–¹æ³•è°ƒç”¨çš„æƒ…å†µä¸‹ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªå…³é”®å­—å®Œæˆ<code>ç­‰å¾…æ‰€æœ‰çš„å¼‚æ­¥å‡½æ•°æ‰§è¡Œå®Œæˆåè¿”è¿˜Promiseçš„æ“ä½œ</code>å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å‡è®¾ getData() å’Œ getOtherData() è¿”å›çš„æ˜¯ Promise</span><br><br><span class="hljs-attr">actions</span>: &#123;<br>  <span class="hljs-comment">//actions Aä¼šç­‰å¾…getDataè¿™ä¸ªå¼‚æ­¥å‡½æ•°resolve()åå†è¿”è¿˜Promise</span><br>  <span class="hljs-keyword">async</span> actionA (&#123; commit &#125;) &#123;<br>    <span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;gotData&#x27;</span>, <span class="hljs-keyword">await</span> <span class="hljs-title function_">getData</span>())<br>  &#125;,<br>  <span class="hljs-keyword">async</span> actionB (&#123; dispatch, commit &#125;) &#123;<br>    <span class="hljs-keyword">await</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&#x27;actionA&#x27;</span>) <span class="hljs-comment">// ç­‰å¾… actionA å®Œæˆè¿”è¿˜Promise</span><br>    <span class="hljs-comment">//åŒæ—¶è¿˜è¦ç­‰å¾…getOtherData()æ–¹æ³•ä¹Ÿresolve()è¿”è¿˜Promise</span><br>    <span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;gotOtherData&#x27;</span>, <span class="hljs-keyword">await</span> <span class="hljs-title function_">getOtherData</span>())<br>    <span class="hljs-comment">//åªæœ‰å¦‚ä¸Šçš„æ‰€æœ‰ç­‰å¾…å¼‚æ­¥å‡½æ•°å…¨éƒ¨è¿”è¿˜åactionBæ‰ä¼šè¿”è¿˜Promise</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬å°±å®ç°äº†actionBåŒæ­¥ç­‰å¾…å‡½æ•°å†…éƒ¨çš„ä¸¤è¡Œä»£ç å‡ºå‘çš„æ‰€æœ‰å¼‚æ­¥å‡½æ•°å…¨éƒ¨æ‰§è¡Œå®Œæˆä»¥åå†è¿”è¿˜Promiseçš„æ“ä½œäº†ã€‚</p>
<h4 id="æ–‡ä»¶ç»“æ„æ•´ç†"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç»“æ„æ•´ç†"></a> æ–‡ä»¶ç»“æ„æ•´ç†</h4>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»æŒæ¡äº†vuexçš„åŸºç¡€æ“ä½œï¼Œä½†æ˜¯æ­¤æ—¶çš„æ‰€æœ‰æœ‰å…³vuexçš„å±æ€§å…¨éƒ¨éƒ½æ˜¯å­˜å‚¨éƒ½ä¸€ä¸ªstore/index.jsæ–‡ä»¶ä¸‹ï¼Œè¿™æ ·å­çš„ç›®å½•ç»“æ„å¾ˆä¸åˆç†ï¼Œåªèƒ½é€‚ç”¨äºç®€å•çš„é¡¹ç›®ä¸­ï¼Œä¸ºäº†èƒ½å¤Ÿæ–¹ä¾¿ç®¡ç†ï¼Œå¹¶ä¸”åœ¨é¡¹ç›®åæœŸè§„æ¨¡æ—¥æ¸åºå¤§çš„æƒ…å†µä¸‹æ˜“äºç»´æŠ¤ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå°†è¿™å‡ ä¸ªå±æ€§åˆ†åˆ«ä½¿ç”¨ä¸€ä¸ªjsæ–‡ä»¶æ¥å­˜å‚¨ï¼Œç„¶åç»Ÿä¸€å¼•å…¥åˆ°index.jsä¸­ã€‚è¿™æ ·æˆ‘ä»¬å°±éœ€è¦åˆ›å»ºå‡ ä¸ªæ–°çš„jsæ–‡ä»¶åˆ†åˆ«æ˜¯state.jsã€mutations.jsã€getters.jsã€actions.js(å½“ç„¶modulesä¹Ÿå¯ä»¥ç‹¬ç«‹å­˜å‚¨åˆ°ä¸€ä¸ªmodules.jsä¸­)å¦‚ä¸‹æ‰€ç¤º</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211213135123.png" alt="" /></p>
<div class="tag-plugin tabs"id="tab_10"><div class="nav-tabs"><div class="tab active"><a href="#tab_10-1">index.js</a></div><div class="tab"><a href="#tab_10-2">state.js</a></div><div class="tab"><a href="#tab_10-3">getters.js</a></div><div class="tab"><a href="#tab_10-4">mutations.js</a></div><div class="tab"><a href="#tab_10-5">actions.js</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_10-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// å¼•å…¥å„ä¸ªå±æ€§å¯¹è±¡</span><br><span class="hljs-keyword">import</span> state <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./state&#x27;</span>;<br><span class="hljs-keyword">import</span> getters <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./getters&#x27;</span><br><span class="hljs-keyword">import</span> mutations <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./mutations&#x27;</span><br><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./actions&#x27;</span><br><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: state,<br>  <span class="hljs-attr">getters</span>: getters,<br>  <span class="hljs-attr">mutations</span>: mutations,<br>  <span class="hljs-attr">actions</span>: actions,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_10-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ç”¨æ¥ç»´æŠ¤é€šä¿¡ä½¿ç”¨çš„æ•°æ®</span><br>  <span class="hljs-attr">curIdx</span>: <span class="hljs-number">1</span>,<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_10-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//   å½¢å‚å’Œmutationsç±»ä¼¼ï¼Œç¬¬ä¸€ä¸ªæ°¸è¿œæ˜¯state,ç¬¬äºŒä¸ªæ˜¯payload</span><br>  <span class="hljs-title function_">content</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">`å½“å‰æ˜¾ç¤ºçš„æ—¶ç¬¬<span class="hljs-subst">$&#123;state.curIdx&#125;</span>ä¸ªæ ‡ç­¾å¯¹åº”çš„é¡µé¢çš„å†…å®¹`</span><br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_10-4"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// ç”¨æ¥å®šä¹‰ä¿®æ”¹stateä¸­æ•°æ®çš„æ–¹æ³•</span><br>  <span class="hljs-comment">// ç”¨æ¥ä¿®æ”¹stateä¸­çš„curIdx</span><br>  <span class="hljs-comment">// é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯state</span><br>  <span class="hljs-title function_">setCurIdx</span>(<span class="hljs-params">state, idx</span>) &#123;<br>    state.<span class="hljs-property">curIdx</span> = idx;<br>    <span class="hljs-comment">//   zè¿™ç§å¼‚æ­¥æ“ä½œåœ¨mutationsä¸­è¦é¿å…</span><br>    <span class="hljs-comment">//   setTimeout(()=&gt;&#123;</span><br>    <span class="hljs-comment">//     state.curIdx = idx;</span><br>    <span class="hljs-comment">//   &#125;, 1000)</span><br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_10-5"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//é»˜è®¤å¼•å…¥index.jsä¸‹çš„å‘å¤–æš´éœ²çš„apiså¯¹è±¡</span><br><span class="hljs-comment">// å¼•å…¥è¿™ä¸ªè¿™ä¸ªåŒ…å«äº†æ‰€æœ‰è¯·æ±‚å‡½æ•°çš„å¯¹è±¡</span><br><span class="hljs-keyword">import</span> apis <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;../axios&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">// å¼‚æ­¥æ“ä½œ</span><br>  <span class="hljs-comment">// æ³¨æ„ç¬¬ä¸€ä¸ªå½¢å‚ä¸æ˜¯stateè€Œæ˜¯contextå³this.$storeå› æ­¤åé¢å¯ä»¥è·Ÿcommitè°ƒç”¨mutattionsä¸­çš„å‡½æ•°</span><br>  <span class="hljs-title function_">updateCurIdx</span>(<span class="hljs-params">context, idx</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>, idx);<br>    &#125;, <span class="hljs-number">1000</span>)<br>  &#125;,<br>  <span class="hljs-title function_">init</span>(<span class="hljs-params">context</span>) &#123;<br>    <span class="hljs-comment">// è°ƒç”¨å®ƒçš„initData()æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</span><br>    apis.<span class="hljs-title function_">initData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res)<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;setCurIdx&#x27;</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">initData</span>.<span class="hljs-property">curIdx</span>)<br>    &#125;);<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>æŒ‰ç…§å¦‚ä¸Šçš„æ–‡ä»¶ç»“æ„æ¥å­˜å‚¨å¯ä»¥æ–¹ä¾¿ç®¡ç†ï¼Œå› ä¸ºä¼´éšç€é¡¹ç›®çš„å¼€å‘ï¼Œæ¯ä¸€ä¸ªå±æ€§ä¸‹é¢éƒ½ä¼šå­˜åœ¨å¤§é‡çš„æ•°æ®ã€æ–¹æ³•ã€‚</p>
<h4 id="modulesä½¿ç”¨"><a class="markdownIt-Anchor" href="#modulesä½¿ç”¨"></a> modulesä½¿ç”¨</h4>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å†å­¦ä¹ ä¸€ä¸‹moduleså±æ€§ï¼Œå®ƒé€šå¸¸ä¼šåœ¨å¤šäººåˆä½œçš„ä¼ä¸šé¡¹ç›®ä¸­ä½¿ç”¨ã€‚æˆ‘ä»¬ç°åœ¨è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼ŒæŸä¸€ä¸ªé¡¹ç›®ä¼šæ ¹æ®åŠŸèƒ½æ¨¡å—è¿›è¡Œåˆ’åˆ†ï¼Œç„¶åæ¯ä¸€ä¸ªå¼€å‘äººå‘˜è´Ÿè´£ä¸€ä¸ªæ¨¡å—çš„åˆ’åˆ†ï¼Œæ­¤æ—¶æ¯‹åº¸ç½®ç–‘å‡ ä¸ªæ¨¡å—æ˜¯å¹¶è¡Œå¼€å‘çš„ï¼Œæœ€åå†åˆå¹¶åˆ†æ”¯å½¢æˆå®Œæ•´çš„é¡¹ç›®ã€‚é‚£ä¹ˆåœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¯ä¸€ä¸ªå¼€å‘äººå‘˜éƒ½è‚¯å®šä¼šç”¨åˆ°vuexï¼Œæ­¤æ—¶å¯èƒ½å¼€å‘äººå‘˜å°æ˜ä½¿ç”¨äº†ä¸€ä¸ªcountå˜é‡ï¼Œå¹¶ä¸”è¿˜å®šä¹‰äº†setCountæ–¹æ³•ï¼Œè€Œå¼€å‘äººå‘˜å°çº¢ä¹Ÿè‡ªå·±å®šä¹‰äº†ä¸€ä¸ªcountå˜é‡ï¼Œå¹¶ä¸”ä¹Ÿå®šä¹‰äº†setCountæ–¹æ³•ï¼Œé‚£ä¹ˆåˆå¹¶ä»¥åå¾ˆæ˜æ˜¾ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå³countåˆ°åº•å±äºå“ªä¸€ä¸ªåŠŸèƒ½æ¨¡å—ï¼Ÿå› æ­¤åœ¨åˆä½œå¼€å‘ä¸­ä¸ºäº†é¿å…å¤šä¸ªäººä½¿ç”¨çš„vuexå­˜åœ¨å¤§é‡é‡åå˜é‡è€Œä¸çŸ¥é“å½’å±çš„æƒ…å†µå°±å¼•å…¥äº†modulesæ¦‚å¿µã€‚å®ƒå¾ˆå¥½ç†è§£ï¼Œè§£å†³çš„åŠæ³•ç±»ä¼¼äºvueä¸­ç»„ä»¶çš„ä½¿ç”¨ï¼Œæ¯ä¸€ä¸ªäººçš„vuexéƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„æ–‡ä»¶å¤¹å­˜å‚¨è‡ªå·±éœ€è¦çš„ä¸œè¥¿ï¼Œç„¶åæˆ‘ä»¬æŒ‰ç…§æ¨¡å—å¯¼å…¥ä½¿ç”¨å³å¯ï¼Œé‚£ä¹ˆä¸ºäº†åŒºåˆ†ä¸åŒvuexæ¨¡å—ä¸­çš„åŒåå˜é‡å’ŒåŒåæ–¹æ³•å¾ˆæ˜æ˜¾æˆ‘ä»¬éœ€è¦ä¸ºæ¯ä¸€ä¸ªæ¨¡å—éƒ½èµ·ä¸€ä¸ªç‹¬ç‰¹çš„åå­—å³ <code>å‘½åç©ºé—´</code>ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬ä»¥ä¸€ä¸ªä¾‹å­æ¥è®²è§£å¦‚ä½•ä½¿ç”¨modulesï¼Œå‡è®¾ç°åœ¨æˆ‘ä»¬æœ‰ä¸¤ä¸ªåŠ æ³•å™¨ç»„ä»¶counter1å’Œcounter2ï¼Œä»–ä»¬éƒ½ä½¿ç”¨äº†æ¨¡å—å¯¹åº”çš„vuexä¸­çš„countå˜é‡ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨è‡ªå·±å¯¹åº”çš„vuexä¸­mutationså­˜å‚¨çš„addCountæ–¹æ³•è¿›è¡ŒåŠ æ“ä½œï¼Œæ­¤æ—¶å¾ˆæ˜¾ç„¶æˆ‘ä»¬å¸Œæœ›ä¸¤ä¸ªåŠ æ³•å™¨çš„countå’ŒsetCountäº’ä¸å¹²æ‰°ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨moduleså±æ€§äº†ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å»ºç«‹ä¸¤ä¸ªæ–°çš„vuexæ¨¡å—ï¼Œåªéœ€è¦åœ¨storeæ–‡ä»¶å¤¹ä¸‹å»ºç«‹ä¸¤ä¸ªæ–°æ–‡ä»¶å¤¹counter1å’Œcounter2åŒæ—¶è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹éƒ½æœ‰å®Œæ•´çš„vuexç»“æ„å¦‚ä¸‹</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211213141247.png" alt="" /></p>
<p>é¦–å…ˆç»™å‡ºcounter1æ¨¡å—ä¸‹çš„ä»£ç </p>
<div class="tag-plugin tabs"id="tab_11"><div class="nav-tabs"><div class="tab active"><a href="#tab_11-1">counter1/index.js</a></div><div class="tab"><a href="#tab_11-2">counter1/state.js</a></div><div class="tab"><a href="#tab_11-3">counter1/mutations.js</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_11-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> mutations <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./mutations&quot;</span>;<br><span class="hljs-keyword">import</span> state <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./state&quot;</span>;<br><br><span class="hljs-comment">// è¦æ³¨æ„è¿”è¿˜ä»…ä»…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯new Vuex.store</span><br><span class="hljs-comment">// Vuex.storeåªä¼šæœ‰ä¸€ä¸ª</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//å¼€å¯å‘½åç©ºé—´ã€‚é‚£ä¹ˆè°ƒç”¨å®ƒçš„å±æ€§æ—¶éœ€è¦åŠ ä¸Šåå­—å‰ç¼€counter1</span><br>  <span class="hljs-attr">namespaced</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">state</span>: state,<br>  <span class="hljs-attr">mutations</span>: mutations,<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_11-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-attr">count</span>:<span class="hljs-number">0</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_11-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-title function_">setCount</span>(<span class="hljs-params">state, num</span>) &#123;<br>    state.<span class="hljs-property">count</span> += num;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>ç„¶åæˆ‘ä»¬å†ç»™å‡ºcounter2æ¨¡å—ä¸‹çš„ä»£ç </p>
<div class="tag-plugin tabs"id="tab_12"><div class="nav-tabs"><div class="tab active"><a href="#tab_12-1">counter2/index.js</a></div><div class="tab"><a href="#tab_12-2">counter2/state.js</a></div><div class="tab"><a href="#tab_12-3">counter2/mutations.js</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_12-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> mutations <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./mutations&quot;</span>;<br><span class="hljs-keyword">import</span> state <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./state&quot;</span>;<br><br><span class="hljs-comment">// è¦æ³¨æ„è¿”è¿˜ä»…ä»…æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯new Vuex.store</span><br><span class="hljs-comment">// Vuex.storeåªä¼šæœ‰ä¸€ä¸ª</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-comment">//å¼€å¯å‘½åç©ºé—´ã€‚é‚£ä¹ˆè°ƒç”¨å®ƒçš„å±æ€§æ—¶éœ€è¦åŠ ä¸Šåå­—å‰ç¼€counter2</span><br>  <span class="hljs-attr">namespaced</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-attr">state</span>: state,<br>  <span class="hljs-attr">mutations</span>: mutations,<br>&#125;<br><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_12-2"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-attr">count</span>:<span class="hljs-number">2</span>,<br>&#125;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_12-3"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-title function_">setCount</span>(<span class="hljs-params">state, num</span>) &#123;<br>      state.<span class="hljs-property">count</span> += num;<br>    &#125;<br>  &#125;<br>  <br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<div class="tag-plugin note" color="cyan"><div class="title">é¦–å…ˆè¦æ³¨æ„æ¨¡å—çš„index.jsè¿”è¿˜çš„ä»…ä»…æ˜¯ä¸ªå¯¹è±¡è€Œä¸æ˜¯storeå¯¹è±¡ï¼ŒåŒæ—¶å‘½åç©ºé—´å±æ€§æ˜¯</div><div class="body"><p><code>namespaced</code>è¦è®¾ç½®ä¸ºtrue</p></div></div>
<p>æˆ‘ä»¬ä¼šå‘ç°è¿™ä¸¤ä¸ªæ¨¡å—çš„æ•°æ®å’Œæ–¹æ³•åç§°æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯æˆ‘ä»¬ä¸ºè¿™ä¸¤ä¸ªæ¨¡å—çš„counterè®¾ç½®çš„åˆå§‹å€¼ç•¥æœ‰ä¸åŒã€‚ç„¶åæˆ‘ä»¬å°†è¿™ä¸¤ä¸ªæ¨¡å—å¼•å…¥åˆ°vuexä¸­ï¼Œåªéœ€è¦å†store/index.jsä¸­å¼•å…¥è¿™ä¸¤ä¸ªmoduleså³å¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;axios&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><br><span class="hljs-comment">// ç”±äºæ˜¯æ’ä»¶ï¼Œå› æ­¤éœ€è¦å°†å…¶æŒ‚è½½åˆ°vueä¸Š</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)<br><br><span class="hljs-comment">// å¼•å…¥å„ä¸ªå±æ€§å¯¹è±¡</span><br><span class="hljs-keyword">import</span> state <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./state&#x27;</span>;<br><span class="hljs-keyword">import</span> getters <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./getters&#x27;</span><br><span class="hljs-keyword">import</span> mutations <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./mutations&#x27;</span><br><span class="hljs-keyword">import</span> actions <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./actions&#x27;</span><br><span class="hljs-comment">// å¼•å…¥counter1å’Œcounter2ä¸¤ä¸ªæ¨¡å—</span><br><span class="hljs-keyword">import</span> counter1 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./counter1&#x27;</span><br><span class="hljs-keyword">import</span> counter2 <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./counter2&#x27;</span><br><span class="hljs-comment">// æ³¨æ„è¿”è¿˜çš„æ˜¯ä¸€ä¸ªvuexçš„ä»“åº“å¯¹è±¡</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// é‡Œé¢åŒ…å«ä¹‹å‰ä»‹ç»çš„å‡ ä¸ªå±æ€§</span><br>  <span class="hljs-attr">state</span>: state,<br>  <span class="hljs-attr">getters</span>: getters,<br>  <span class="hljs-attr">mutations</span>: mutations,<br>  <span class="hljs-attr">actions</span>: actions,<br>  <span class="hljs-attr">modules</span>: &#123;<br>    <span class="hljs-comment">// åˆ†æ¨¡å—å¼•å…¥</span><br>    counter1,<br>    counter2,<br>  &#125;<br>&#125;)<br><br></code></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘ä»¬å†æ¥ç¼–å†™ä¸¤ä¸ªåŠ æ³•å™¨Counter1å’ŒCounter2ä»–ä»¬åˆ†åˆ«ä½¿ç”¨å¯¹åº”vuexæ¨¡å—ä¸‹çš„å˜é‡å’Œæ–¹æ³•ã€‚</p>
<div class="tag-plugin tabs"id="tab_13"><div class="nav-tabs"><div class="tab active"><a href="#tab_13-1">Counter1/index.vue</a></div><div class="tab"><a href="#tab_13-2">Counter2/index.vue</a></div></div><div class="tab-content"><div class="tab-pane active" id="tab_13-1"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br>  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Counter1<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Counter1:&#123;&#123; count &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;setCount(1)&quot;</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123; mapState, mapMutations &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;Counter1&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">computed</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">//   æ³¨æ„ï¼Œæ­¤æ—¶è¦é¢å¤–å†ä¼ ä¸€ä¸ªå‚æ•°å³å‘½åç©ºé—´è¿™é‡Œæ˜¯counter1</span></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-comment">// åé¢çš„å†™æ³•æ˜¯ä¸€æ ·çš„ï¼Œæ•°ç»„æˆ–è€…å¯¹è±¡å½¢å¼éƒ½å¯ä»¥</span></span></span><br><span class="language-javascript"><span class="language-xml">    ...<span class="hljs-title function_">mapState</span>(<span class="hljs-string">&quot;counter1&quot;</span>, [<span class="hljs-string">&quot;count&quot;</span>]),</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    ...<span class="hljs-title function_">mapMutations</span>(<span class="hljs-string">&quot;counter1&quot;</span>, [<span class="hljs-string">&quot;setCount&quot;</span>]),</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">&#125;;</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>
<!-- endtab --></div><div class="tab-pane" id="tab_13-2"><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h2&gt;Counter2&lt;/h2&gt;<br>    &lt;div&gt;counter1:&#123;&#123; count &#125;&#125;&lt;/div&gt;<br>    &lt;button @click=&quot;setCount(2)&quot;&gt;add&lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; mapState, mapMutations &#125; from &quot;vuex&quot;;<br>export default &#123;<br>  name: &quot;Counter2&quot;,<br>  computed: &#123;<br>    //   æ³¨æ„ï¼Œæ­¤æ—¶è¦é¢å¤–å†ä¼ ä¸€ä¸ªå‚æ•°å³å‘½åç©ºé—´è¿™é‡Œæ˜¯counter1<br>    // åé¢çš„å†™æ³•æ˜¯ä¸€æ ·çš„ï¼Œæ•°ç»„æˆ–è€…å¯¹è±¡å½¢å¼éƒ½å¯ä»¥<br>    ...mapState(&quot;counter2&quot;, [&quot;count&quot;]),<br>  &#125;,<br>  methods: &#123;<br>    ...mapMutations(&quot;counter2&quot;, [&quot;setCount&quot;]),<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<!-- endtab --></div></div></div>
<p>è¿™é‡Œçš„ä¸¤ä¸ªåŠ æ³•å™¨ä¹ŸåŸºæœ¬ä¸€æ ·ï¼Œä½†æ˜¯è¦æ³¨æ„ä»–ä»¬çš„æ˜ å°„è¾…åŠ©å‡½æ•°ä¼ è¿›å»çš„å‘½åç©ºé—´æ˜¯ä¸åŒçš„ï¼ŒåŒæ—¶æˆ‘ä»¬è§„å®šåŠ æ³•å™¨1æ¯æ¬¡æŒ‰æŒ‰é’®åªè¿›è¡ŒåŠ ä¸€ï¼Œè€ŒåŠ æ³•å™¨2æ¯ä¸€æ¬¡æŒ‰æŒ‰é’®æ˜¯åŠ äºŒã€‚ç„¶åæˆ‘ä»¬å†åœ¨App.vueä¸­å¼•å…¥å¹¶ä½¿ç”¨è¿™ä¸¤ä¸ªåŠ æ³•å™¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;app&quot;&gt;<br>    &lt;!-- ä¼ é€’ç»™å­ç»„ä»¶Tabçš„å€¼ä»¥åŠä¸ºä»–ç»‘å®šä¸€ä¸ªæ–¹æ³•ç”¨æ¥é€šçŸ¥çˆ¶ç»„ä»¶æ›´æ–°å€¼ --&gt;<br>    &lt;!-- &lt;Tab :curIdx=&quot;curIdx&quot; @changeTab=&quot;changeTab&quot; /&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>    &lt;!-- &lt;Tab @changeTab=&quot;changeTab&quot; /&gt; --&gt;<br>    &lt;!-- ä¹Ÿæ— éœ€åœ¨ä¸ºå­ç»„ä»¶æä¾›æ–¹æ³•äº† --&gt;<br>    &lt;Tab /&gt;<br>    &lt;!-- Pageç»„ä»¶ä¹Ÿæ¥å—è¿™ä¸ªcurIdxå€¼ --&gt;<br>    &lt;!-- &lt;Page :curIdx=&quot;curIdx&quot;&gt;&lt;/Page&gt; --&gt;<br>    &lt;!-- ä¸åœ¨éœ€è¦ä¼ é€’curIdxäº† --&gt;<br>    &lt;Page&gt;&lt;/Page&gt;<br>    &lt;!-- &lt;img src=&quot;./assets/logo.png&quot;&gt; --&gt;<br>    &lt;!-- &lt;router-view/&gt; --&gt;<br>    &lt;Counter1&gt;&lt;/Counter1&gt;<br>    &lt;Counter2&gt;&lt;/Counter2&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import Tab from &quot;@/components/Tab&quot;;<br>import Page from &quot;@/components/Page&quot;;<br>// å¼•å…¥ä¸¤ä¸ªåŠ æ³•å™¨<br>import Counter1 from &quot;@/components/Counter1&quot;;<br>import Counter2 from &quot;@/components/Counter2&quot;;<br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123;<br>    Tab,<br>    Page,<br>    Counter1,<br>    Counter2,<br>  &#125;,<br>  // æ— éœ€åœ¨å®šä¹‰curIdxäº†<br>  // data() &#123;<br>  //   return &#123;<br>  //     curIdx: 0,<br>  //   &#125;;<br>  // &#125;,<br>  // æ— éœ€åœ¨å®šä¹‰è¿™ä¸ªæ–¹æ³•äº†<br>  // methods: &#123;<br>  //   changeTab(i) &#123;<br>  //     this.curIdx = i;<br>  //   &#125;,<br>  // &#125;,<br>&#125;;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>#app &#123;<br>  font-family: &quot;Avenir&quot;, Helvetica, Arial, sans-serif;<br>  -webkit-font-smoothing: antialiased;<br>  -moz-osx-font-smoothing: grayscale;<br>  /* text-align: center; */<br>  color: #2c3e50;<br>  margin-top: 60px;<br>&#125;<br>&lt;/style&gt;<br><br></code></pre></td></tr></table></figure>
<p>æœ€åæˆ‘ä»¬å³å¯å¾—åˆ°å¦‚ä¸‹æ•ˆæœå›¾ï¼Œä¼šå‘ç°ä¸Šä¸‹ä¸¤ä¸ªåŠ æ³•å™¨ä¹‹é—´æ•°æ®äº’ä¸å¹²æ‰°</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20211213145428.png" alt="" /></p>
<h3 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h3>
<p>è‡ªæ­¤æˆ‘ä»¬åŸºæœ¬ä¸Šå°±æŒæ¡äº†å¤§éƒ¨åˆ†çš„vuexæŠ€èƒ½ï¼ŒåŒæ—¶ç”¨demoå­¦ä¹ å®æˆ˜äº†å¦‚ä½•è¿›è¡Œvuexåˆ†æ¨¡å—çš„æ“ä½œã€‚æœ€åå¼ºçƒˆå»ºè®®è™½ç„¶æ˜ å°„çš„å†™æ³•æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œä½†æ˜¯ç†è§£åä½¿ç”¨æ˜ å°„çš„æ–¹æ³•æ›´åŠ ä¼˜é›…ä¸”æ˜“äºç»´æŠ¤ï¼Œå†çœŸæ­£çš„å¤§å‹é¡¹ç›®ä¸­å¼ºæ¨åˆ†æ¨¡å—ä½¿ç”¨vuexï¼</p>
<p>å¦‚æœæ‚¨è¿˜æœ‰ä»»ä½•ç–‘æƒ‘å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£</p>
<div class="tag-plugin link dis-select"><a class="link-card plain" title="vuexæ–‡æ¡£" href="https://vuex.vuejs.org/zh/#%E4%BB%80%E4%B9%88%E6%98%AF-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F" target="_blank" rel="external nofollow noopener noreferrer" cardlink autofill="icon"><div class="left"><span class="title">vuexæ–‡æ¡£</span><span class="cap link fs12">https://vuex.vuejs.org/zh/#%E4%BB%80%E4%B9%88%E6%98%AF-%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86%E6%A8%A1%E5%BC%8F</span></div><div class="right"><div class="lazy img" data-bg="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/link/8f277b4ee0ecd.svg"></div></div></a></div>
<p>åŒæ—¶è¿™é‡Œå·¦ä¸Šæ–¹ç»™å‡ºäº†ä¸Šé¢åšå®¢æ¼”ç¤ºæ—¶ä½¿ç”¨çš„ä»£ç ï¼Œæ•´ç†ä¸æ˜“ï¼Œå¦‚æœå–œæ¬¢è¿˜è¯·è½¬è½½æ—¶å¸¦ä¸Šç½²åğŸ˜£</p>


<div class="article-footer reveal fs14"><section id="license"><div class="header"><span>è®¸å¯åè®®</span></div><div class="body"><p>æœ¬æ–‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
</div></section><section id="share"><div class="header"><span>åˆ†äº«æ–‡ç« </span></div><div class="body"><div class="link"><input class="copy-area" readonly="true" id="copy-link" value="https://scholar.coolchong.cn/2021/12/12/vuex/" /></div><div class="social-wrap dis-select"><a class="social share-item wechat" onclick="util.toggle(&quot;qrcode-wechat&quot)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/b32ef3da1162a.svg"/></a><a class="social share-item weibo" target="_blank" rel="external nofollow noopener noreferrer" href="https://service.weibo.com/share/share.php?url=https://scholar.coolchong.cn/2021/12/12/vuex/&title=vuexä»å…¥é—¨åˆ°å®æˆ˜ - é›¨ä¸­â€¢å­¦åœƒå ‚&pics=https://langwenchong.gitee.io/figure-bed/20211213152705.png&summary=vuexæ˜¯ä¸€æ¬¾é’ˆå¯¹vue.jsä¸­å¤æ‚çš„é€šä¿¡åœºæ™¯ä¸‹è¡ç”Ÿçš„æŠ€æœ¯æ’ä»¶ï¼Œä»–å¯ä»¥æœ‰æ•ˆçš„å¸®åŠ©æˆ‘ä»¬è½»æ¾å®Œæˆå¤§èŒƒå›´å†…çš„ç»„ä»¶é€šä¿¡ï¼Œè¿˜ä¸å¿«è¿›æ¥å­¦ä¹ ğŸ˜‹ï¼Ÿ"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/80c07e4dbb303.svg"/></a><a class="social share-item email" href="mailto:?subject=vuexä»å…¥é—¨åˆ°å®æˆ˜ - é›¨ä¸­â€¢å­¦åœƒå ‚&amp;body=https://scholar.coolchong.cn/2021/12/12/vuex/"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/a1b00e20f425d.svg"/></a><a class="social share-item link" onclick="util.copy(&quot;copy-link&quot;, &quot;å¤åˆ¶æˆåŠŸ&quot;)"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://fastly.jsdelivr.net/gh/cdn-x/placeholder@1.0.4/social/8411ed322ced6.svg"/></a></div><div class="qrcode" id="qrcode-wechat" style="visibility:hidden;height:0"><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://api.qrserver.com/v1/create-qr-code/?size=256x256&data=https://scholar.coolchong.cn/2021/12/12/vuex/index.html"/></div></div></section></div>

</article>

<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">å›é¡¾ä¸Šä¸€ç¯‡</div><a href="/2022/01/11/cross-origin/">å‰åç«¯è·¨åŸŸè¯·æ±‚è§£å†³ç­–ç•¥</a></div><div class="item" id="next"><div class="note">æ¥ä¸‹æ¥é˜…è¯»</div><a href="/2021/10/18/nginx-web/">æµ…è°ˆvueé¡¹ç›®éƒ¨ç½²åˆ°nginx</a></div></section></div>


<div class="related-wrap reveal" id="related-posts">
    <section class='header'>
      <div class='title cap theme'>æ‚¨å¯èƒ½æ„Ÿå…´è¶£çš„æ–‡ç« </div>
    </section>
    <section class='body'>
    <div class="related-posts"><a class="item" href="\2021\10\18\nginx-web\" title="æµ…è°ˆvueé¡¹ç›®éƒ¨ç½²åˆ°nginx"><span class="title">æµ…è°ˆvueé¡¹ç›®éƒ¨ç½²åˆ°nginx</span><span class="excerpt">é’ˆå¯¹å°ç™½çš„å¿«é€Ÿå‰ç«¯vueé¡¹ç›®æ‰“åŒ…éƒ¨ç½²æ•™ç¨‹ï¼ŒåŒ…å«äºŒçº§åŸŸåè§£æé…ç½®ä»¥åŠhttpsè®¤è¯ç­‰ï¼Œè¿˜ä¸èµ¶å¿«è¿›æ¥çœ‹çœ‹ğŸ‘€ï¼Ÿ</span></a><a class="item" href="\2022\01\11\cross-origin\" title="å‰åç«¯è·¨åŸŸè¯·æ±‚è§£å†³ç­–ç•¥"><span class="title">å‰åç«¯è·¨åŸŸè¯·æ±‚è§£å†³ç­–ç•¥</span><span class="excerpt">åœ¨å‰åç«¯åˆ†ç¦»å¼€å‘çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯ä¼šé‡åˆ°è¯·æ±‚è·¨åŸŸçš„é—®é¢˜ï¼Œæ¯ä¸€æ¬¡éƒ½é¿å…ä¸äº†å¼€å‘äººå‘˜ä¹‹é—´çš„å¯¹çº¿ï¼Œä¸ºäº†ç¼“è§£åŒäº‹å‹è°Šï¼Œç¿€ç¿€ç‰¹æ­¤æä¾›ä¸€ç¯‡å®Œç¾è§£å†³å‰åç«¯è·¨åŸŸè¯·æ±‚çš„æ”»ç•¥ğŸ˜‰~</span></a></div></section></div>



  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      å¿«æ¥å‚ä¸è®¨è®ºå§
    </section>
    <section class='body cmt-body waline'>
      

<div id="waline_container" class="waline_thread"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </section>
  </div>



      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">åšå®¢</span><a href="/">éšæƒ³å½•</a><a href="/intro">è¨€å ‚åº</a><a href="/archives">å½’æ¡£å†Œ</a></div><div class="sitemap-group"><span class="fs14">ç¬”è®°</span><a href="/wiki/tags/%E7%AC%AC%E4%B9%9D%E8%89%BA%E6%9C%AF">ç¬¬ä¹è‰ºæœ¯</a><a href="/wiki/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80">è®¡ç®—åŸºç¡€</a><a href="/wiki/tags/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80">è¯­è¨€åŸºç¡€</a><a href="/wiki/tags/%E8%BF%9B%E9%98%B6%E6%8A%80%E8%83%BD">è¿›é˜¶æŠ€èƒ½</a></div><div class="sitemap-group"><span class="fs14">ä¾¿ç¬º</span><a href="/notes/%E7%A7%91%E7%A0%94%E5%AD%A6%E4%B9%A0">ç§‘ç ”å­¦ä¹ </a><a href="/notes/%E5%BB%BA%E7%AB%99%E5%BF%85%E5%A4%87">å»ºç«™å¿…å¤‡</a><a href="/notes/%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7">å»ºç«™å¿…å¤‡</a></div><div class="sitemap-group"><span class="fs14">æ›´å¤š</span><a target="_blank" rel="noopener" href="https://coolchong.cn">ä¸ªäººä¸»é¡µ</a><a target="_blank" rel="noopener" href="https://blog.coolchong.cn/friends.html">å‹æƒ…é“¾æ¥</a></div></div><div class="text"><div class="github-badge">
  <a style="color: #fff"  href="https://coolchong.cn/" target="_blank" title="ç”± Langwenchong æ­å»ºè¿è¥">
    <span class="badge-subject">Built</span><span class="badge-value bg-blue">é›¨ä¸­ @2022-2023</span>
  </a>
  <a style="color: #fff" href="https://www.qiniu.com//" target="_blank" title="é™æ€èµ„æºæ‰˜ç®¡äº ä¸ƒç‰›äº‘" >
    <span class="badge-subject">Powered</span><span class="badge-value bg-orange">ä¸ƒç‰›äº‘</span>
  </a>
  <a style="color: #fff" href="https://xaoxuu.com/wiki/stellar/" target="_blank" title="ç«™ç‚¹ä½¿ç”¨ Stellar ä¸»é¢˜" >
    <span class="badge-subject">Theme</span><span class="badge-value bg-brightgreen">Stellar</span>
  </a>
  <a style="color: #fff" href="https://beian.miit.gov.cn/)" target="_blank" title="ç½‘ç«™å·²å¤‡æ¡ˆæˆæƒå¼€æ”¾">
    <span class="badge-subject">Record</span><span class="badge-value bg-red">æ´¥ICPå¤‡2021009044</span>
  </a>
</div>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // æ‡’åŠ è½½ css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // ä» butterfly å’Œ volantis è·å¾—çµæ„Ÿ
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // é»˜è®¤å¼‚æ­¥ï¼Œå¦‚æœéœ€è¦åŒæ­¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ {} å³å¯
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: 'åˆšåˆš',
      min: 'åˆ†é’Ÿå‰',
      hour: 'å°æ—¶å‰',
      day: 'å¤©å‰',
      month: 'ä¸ªæœˆå‰',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://fastly.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://fastly.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://fastly.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://fastly.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function load_comment(){
    if(!document.getElementById("waline_container"))return;
    stellar.loadCSS('https://unpkg.com/@waline/client@2.14.1/dist/waline.css');
    stellar.loadScript('https://unpkg.com/@waline/client@2.14.1/dist/waline.js', {defer:true}).then(function () {
      const el = document.getElementById("waline_container");
      var path = el.getAttribute('comment_id');
      if (!path) {
        path = decodeURI(window.location.pathname);
      }
      Waline.init(Object.assign({"js":"https://unpkg.com/@waline/client@2.14.1/dist/waline.js","css":"https://unpkg.com/@waline/client@2.14.1/dist/waline.css","serverURL":"https://waline.coolchong.cn","commentCount":true,"pageview":false,"emoji":["https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/","https://unpkg.com/@waline/emojis@1.1.0/tw-emoji","https://unpkg.com/@waline/emojis@1.1.0/bilibili","https://unpkg.com/@waline/emojis@1.1.0/alus","https://unpkg.com/@waline/emojis@1.1.0/bmoji"],"locale":{"reactionTitle":null,"placeholder":"ä»»ä½•æƒ³æ³•ç•…æ‰€æ¬²è¨€ï¼Œè®°å¾—å¡«å†™é‚®ç®±æ–¹ä¾¿åŠæ—¶æ”¶åˆ°å›å¤å“¦~"},"reaction":["https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatheart.png","https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatattentionreverse.png","https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png","https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatwave.png","https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/blobcatalt.png","https://fastly.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/blobcatscared.png"]}, {
        el: '#waline_container',
        path: path,
      }));
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    load_comment();
  });

</script>




<!-- inject -->


  </div>
</body>
</html>
