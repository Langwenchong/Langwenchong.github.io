<!DOCTYPE html>
<html lang='zh-CN'>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fc63ac4843a697431e3d43c4d48b99de";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<head>
  <meta name="generator" content="Hexo 6.3.0">
  <meta name="hexo-theme" content="https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5">
  <meta charset="utf-8">
  

  <meta http-equiv='x-dns-prefetch-control' content='on' />
  <link rel='dns-prefetch' href='https://gcore.jsdelivr.net'>
  <link rel="preconnect" href="https://gcore.jsdelivr.net" crossorigin>
  <link rel='dns-prefetch' href='//unpkg.com'>

  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#f8f8f8">
  
  <title>Python：函数基础 - 雨中•学圃堂</title>

  
    <meta name="description" content="Python函数用法详解函数就是将一个复杂的需要多次调用的步骤进行封装以便后期复用，在Python中除了可以使用内置函数以外，我们还可以自定义函数，将一段有规律的、可重复使用的代码定义成函数，从而达到一次编写、多次调用的目的。 123456789101112#自定义 len() 函数def my_len(str):    length &#x3D; 0    for c in str:       leng">
<meta property="og:type" content="website">
<meta property="og:title" content="函数基础">
<meta property="og:url" content="https://scholar.coolchong.cn/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="雨中•学圃堂">
<meta property="og:description" content="Python函数用法详解函数就是将一个复杂的需要多次调用的步骤进行封装以便后期复用，在Python中除了可以使用内置函数以外，我们还可以自定义函数，将一段有规律的、可重复使用的代码定义成函数，从而达到一次编写、多次调用的目的。 123456789101112#自定义 len() 函数def my_len(str):    length &#x3D; 0    for c in str:       leng">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119144126.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119144317.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119144738.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119145406.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119145658.png">
<meta property="og:image" content="https://langwenchong.gitee.io/figure-bed/20220119150411.png">
<meta property="article:published_time" content="2023-01-27T13:13:54.456Z">
<meta property="article:modified_time" content="2023-01-27T13:13:54.456Z">
<meta property="article:author" content="Wenchong Lang">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://langwenchong.gitee.io/figure-bed/20220119144126.png">
  
  

  <!-- feed -->
  
    <link rel="alternate" href="/atom.xml" title="雨中•学圃堂" type="application/atom+xml">
  

  
    
<link rel="stylesheet" href="/css/main.css">

  

  
    <link rel="shortcut icon" href="https://cdn.coolchong.cn/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/langwenchong.png">
  

  

  
    <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css">
    <script defer src="https://gcore.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" ></script>
    <script defer src="https://gcore.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body);"></script>
  


  
    
      <link href="https://fonts.font.im/css?family=Dancing+Script" rel="stylesheet">
    
      <link href="https://fastly.jsdelivr.net/gh/volantis-x/cdn-fontawesome-pro@master/css/all.min.css" rel="stylesheet">
    
  
</head>

<body>
  




  <div class='l_body' id='start'>
    <aside class='l_left' layout='wiki'>
    

  




<div class="widgets"><widget class="widget-wrapper logo-wrap wiki"><div class="widget-body"><a style="filter: grayscale(100%)" class="wiki-home cap" href="/wiki"><svg aria-hidden="true" viewBox="0 0 16 16" width="1rem" height="1rem" fill="currentColor"><path fill-rule="evenodd" d="M7.78 12.53a.75.75 0 01-1.06 0L2.47 8.28a.75.75 0 010-1.06l4.25-4.25a.75.75 0 011.06 1.06L4.81 7h7.44a.75.75 0 010 1.5H4.81l2.97 2.97a.75.75 0 010 1.06z"></path></svg>所有笔记</a><a class="title" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/index.html"><div class="main" ff="title">Python</div><div class="sub cap">python是世界上最好的语言</div></a></div></widget>
<widget class="widget-wrapper search"><div class="widget-body"><div class="search-wrapper" id="search"><form class="search-form"><input type="text" class="search-input" id="search-input" data-filter="/wiki/Python学习笔记/" placeholder="想找点什么？"><svg t="1670596976048" class="icon search-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2676" width="200" height="200"><path d="M938.2 832.6L723.8 618.1c-2.5-2.5-5.3-4.4-7.9-6.4 36.2-55.6 57.3-121.8 57.3-193.1C773.3 222.8 614.6 64 418.7 64S64 222.8 64 418.6c0 195.9 158.8 354.6 354.6 354.6 71.3 0 137.5-21.2 193.2-57.4 2 2.7 3.9 5.4 6.3 7.8L832.5 938c14.6 14.6 33.7 21.9 52.8 21.9 19.1 0 38.2-7.3 52.8-21.8 29.2-29.1 29.2-76.4 0.1-105.5M418.7 661.3C284.9 661.3 176 552.4 176 418.6 176 284.9 284.9 176 418.7 176c133.8 0 242.6 108.9 242.6 242.7 0 133.7-108.9 242.6-242.6 242.6" p-id="2677"></path></svg></form><div id="search-result"></div><div class="search-no-result">好像并未找到什么！</div></div></div></widget>




<widget class="widget-wrapper toc multi" id="data-toc"><div class="widget-header cap dis-select"><span class="name">语法基础</span></div><div class="widget-body fs14"><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/index.html#start"><span class="toc-text">变量类型和运算符</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%88%97%E8%A1%A8/index.html"><span class="toc-text">列表</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%85%83%E7%BB%84%E3%80%81%E5%AD%97%E5%85%B8%E4%B8%8E%E9%9B%86%E5%90%88/index.html"><span class="toc-text">元组、字典与集合</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/index.html"><span class="toc-text">字符串</span></a></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/index.html"><span class="toc-text">流程控制</span></a></div><div class="doc-tree active"><a class="doc-tree-link active" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0%E5%9F%BA%E7%A1%80/index.html"><span class="toc-text">函数基础</span></a><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E7%94%A8%E6%B3%95%E8%AF%A6%E8%A7%A3"><span class="toc-text">Python函数用法详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="toc-text">Python函数的定义</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E7%9A%84%E8%B0%83%E7%94%A8"><span class="toc-text">Python函数的调用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BA%E5%87%BD%E6%95%B0%E6%8F%90%E4%BE%9B%E8%AF%B4%E6%98%8E%E6%96%87%E6%A1%A3"><span class="toc-text">为函数提供说明文档</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E5%80%BC%E4%BC%A0%E9%80%92%E5%92%8C%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92"><span class="toc-text">Python函数值传递和引用传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%BA%95%E5%B1%82%E4%BA%86%E8%A7%A3%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6"><span class="toc-text">Python底层了解函数参数传递机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%80%BC%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6"><span class="toc-text">Python函数参数的值传递机制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92"><span class="toc-text">Python函数参数的引用传递</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-text">Python位置参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E5%8F%82%E5%92%8C%E5%BD%A2%E5%8F%82%E6%95%B0%E9%87%8F%E5%BF%85%E9%A1%BB%E4%B8%80%E8%87%B4"><span class="toc-text">实参和形参数量必须一致</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E5%8F%82%E5%92%8C%E5%BD%A2%E5%8F%82%E4%BD%8D%E7%BD%AE%E5%BF%85%E9%A1%BB%E4%B8%80%E8%87%B4"><span class="toc-text">实参和形参位置必须一致</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA-TypeError-%E5%BC%82%E5%B8%B8"><span class="toc-text">抛出 TypeError 异常</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%A7%E7%94%9F%E7%9A%84%E7%BB%93%E6%9E%9C%E5%92%8C%E9%A2%84%E6%9C%9F%E4%B8%8D%E7%AC%A6"><span class="toc-text">产生的结果和预期不符</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0%E5%8F%8A%E7%94%A8%E6%B3%95"><span class="toc-text">Python函数关键字参数及用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E9%BB%98%E8%AE%A4%E5%8F%82%E6%95%B0%E8%AE%BE%E7%BD%AE"><span class="toc-text">Python函数默认参数设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E4%BC%A0%E5%85%A5%E4%BB%BB%E6%84%8F%E4%B8%AA%E5%8F%82%E6%95%B0-%E8%BF%9B%E9%98%B6"><span class="toc-text">Python函数传入任意个参数(进阶)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#args%E6%8E%A5%E6%94%B6%E4%BB%BB%E6%84%8F%E4%B8%AA%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="toc-text">*args接收任意个位置参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kw%E6%8E%A5%E6%94%B6%E4%BB%BB%E6%84%8F%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-text">**kw接收任意个关键字参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-text">命名关键字参数</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E4%B8%8B%E9%9D%A2%E8%BF%99%E6%A0%B7%E7%9A%84%E5%86%99%E6%B3%95%E9%94%99%E5%9C%A8%E4%BA%86%E5%93%AA%E9%87%8C%EF%BC%9F"><span class="toc-text">思考：下面这样的写法错在了哪里？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E5%A6%82%E6%9E%9C%E5%8F%AF%E5%8F%98%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0-args%E5%86%99%E5%9C%A8%E5%85%B3%E9%94%AE%E5%AD%97%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E5%89%8D%E9%9D%A2%E4%BC%9A%E6%80%8E%E6%A0%B7%EF%BC%9F"><span class="toc-text">思考：如果可变位置参数*args写在关键字命名参数前面会怎样？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E4%B8%BA%E4%BB%80%E4%B9%88-args%E5%9C%A8%E5%91%BD%E5%90%8D%E5%85%B3%E9%94%AE%E5%AD%97%E5%89%8D%E9%9D%A2%E6%97%B6%E5%B0%B1%E6%97%A0%E9%9C%80%E5%86%8D%E4%BD%BF%E7%94%A8-%E7%89%B9%E6%AE%8A%E5%88%86%E9%9A%94%E7%AC%A6%E5%8F%B7%E4%BA%86%EF%BC%9F"><span class="toc-text">思考：为什么*args在命名关键字前面时就无需再使用*特殊分隔符号了？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%80%9D%E8%80%83%EF%BC%9A%E4%B8%8B%E9%9D%A2%E8%BF%99%E6%A0%B7%E7%9A%84%E5%86%99%E6%B3%95%E9%94%99%E5%9C%A8%E4%BA%86%E5%93%AA%E9%87%8C%EF%BC%9F-1"><span class="toc-text">思考：下面这样的写法错在了哪里？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python-None-%E7%A9%BA%E5%80%BC"><span class="toc-text">Python None(空值)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Python%E5%87%BD%E6%95%B0%E8%BF%94%E5%9B%9E%E5%A4%9A%E4%B8%AA%E5%80%BC"><span class="toc-text">Python函数返回多个值</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AF%B9%E8%B1%A1%E8%BF%94%E5%9B%9E"><span class="toc-text">使用对象返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%88%97%E8%A1%A8%E8%BF%94%E5%9B%9E"><span class="toc-text">使用列表返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%85%83%E7%BB%84%E8%BF%94%E5%9B%9E"><span class="toc-text">使用元组返回</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E5%85%B8%E8%BF%94%E5%9B%9E"><span class="toc-text">使用字典返回</span></a></li></ol></li></ol></div><div class="doc-tree"><a class="doc-tree-link" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6/index.html"><span class="toc-text">函数进阶</span></a></div></div></widget>




</div>


    </aside>
    <div class='l_main'>
      

      <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?fc63ac4843a697431e3d43c4d48b99de";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script>



  
  
<div class="bread-nav fs12"><div id="breadcrumb"><a class="cap breadcrumb" id="home" href="/">主页</a><span class="sep"></span><a class="cap breadcrumb" id="menu" href="/wiki/">笔记</a><span class="sep"></span><a class="cap breadcrumb" id="proj" href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B%E5%92%8C%E8%BF%90%E7%AE%97%E7%AC%A6/index.html">Python</a></div><div id="post-meta">更新于&nbsp;<time datetime="2023-01-27T13:13:54.456Z">2023-01-27</time></div></div>

  <article class='md-text content wiki reveal'>
  <h1 class="article-title"><span>函数基础</span></h1>
  <h3 id="Python函数用法详解"><a href="#Python函数用法详解" class="headerlink" title="Python函数用法详解"></a>Python函数用法详解</h3><p>函数就是将一个复杂的需要多次调用的步骤进行封装以便后期复用，在Python中除了可以使用内置函数以外，我们还可以自定义函数，将一段有规律的、可重复使用的代码定义成函数，从而达到一次编写、多次调用的目的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自定义 len() 函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_len</span>(<span class="params"><span class="built_in">str</span></span>):</span><br><span class="line">    length = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">       length = length + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> length</span><br><span class="line"><span class="comment">#调用自定义的 my_len() 函数</span></span><br><span class="line">length = my_len(<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(length)</span><br><span class="line"><span class="comment">#再次调用 my_len() 函数</span></span><br><span class="line">length = my_len(<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(length)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">30</span></span><br><span class="line"><span class="number">29</span></span><br></pre></td></tr></table></figure>
<div class="tag-plugin note" color="yellow"><div class="body"><p>注意，Python中的函数既可以接收多个(&gt;=0)参数，还可以返还多个(&gt;=0)返回值。</p></div></div>
<h4 id="Python函数的定义"><a href="#Python函数的定义" class="headerlink" title="Python函数的定义"></a>Python函数的定义</h4><p>Python中使用<code>def</code>关键字实现对一个自定义函数的声明，具体格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">参数列表</span>):</span><br><span class="line">    //实现特定功能的多行代码</span><br><span class="line">    [<span class="keyword">return</span> [返回值]]</span><br></pre></td></tr></table></figure>
<p>其中，用 [] 括起来的为可选择部分，即可以使用，也可以省略。<strong>当不设置返回值时，默认返回None。注意，在创建函数时即使不需要参数，也必须保留一对空的”()”</strong>，否则Python解释器将提示”invalid syntax”错误。同时如果想要定义一个没有任何功能的空函数，可以使用pass语句作为占位符。</p>
<p>另外值得一提的是，函数中的 return 语句可以直接返回一个表达式的值：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">str_max</span>(<span class="params">str1,str2</span>):</span><br><span class="line">    <span class="keyword">return</span> str1 <span class="keyword">if</span> str1 &gt; str2 <span class="keyword">else</span> str2</span><br></pre></td></tr></table></figure>
<h4 id="Python函数的调用"><a href="#Python函数的调用" class="headerlink" title="Python函数的调用"></a>Python函数的调用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[返回值] = 函数名([形参值])</span><br></pre></td></tr></table></figure>
<p>要注意创建的函数有多少个形参，那么调用时即需要传入多少个值，并且顺序必须和创建函数时一致，即使该函数没有参数，函数名后面的小括号也不能省略。</p>
<h4 id="为函数提供说明文档"><a href="#为函数提供说明文档" class="headerlink" title="为函数提供说明文档"></a>为函数提供说明文档</h4><p>我们通过调用Python的help()内置函数或者__doc__属性，就可以查看到某个函数的使用说明文档。无论是Python提供给我们的函数，还是自定义的函数，其说明文档都需要设计该函数的程序猿自己编写。</p>
<p>本质上，函数的说明文档就是一段字符串，只不过作为说明文档。字符串的放置位置是有讲究的，函数的说明文档通常位于函数内部、所有代码的最前面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义一个比较字符串大小的函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">str_max</span>(<span class="params">str1,str2</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    比较 2 个字符串的大小</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="built_in">str</span> = str1 <span class="keyword">if</span> str1 &gt; str2 <span class="keyword">else</span> str2</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span></span><br><span class="line"><span class="built_in">help</span>(str_max)</span><br><span class="line"><span class="comment">#print(str_max.__doc__)</span></span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Help on function str_max <span class="keyword">in</span> module __main__:</span><br><span class="line"></span><br><span class="line">str_max(str1, str2)</span><br><span class="line">    比较 <span class="number">2</span> 个字符串的大小</span><br></pre></td></tr></table></figure>
<h3 id="Python函数值传递和引用传递"><a href="#Python函数值传递和引用传递" class="headerlink" title="Python函数值传递和引用传递"></a>Python函数值传递和引用传递</h3><p>在Python中，根据实际参数的类型不同，函数传递的方式有两种，分别为值传递和引用传递(地址传递)。</p>
<ol>
<li>值传递：适用于实参类型为不可变类型（字符串、数字、元组）；</li>
<li>引用（地址）传递：适用于实参类型为可变类型（列表，字典）；</li>
</ol>
<p>值传递和应用传递的特点是，函数参数进行值传递以后，如果形参的值发生改变，不会影响实参的值。而函数参数继续使用引用传递以后，改变形参的值，实参的值也会一同发生改变。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">demo</span>(<span class="params">obj</span>) :</span><br><span class="line">    obj += obj</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;形参值为：&quot;</span>,obj)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-------值传递-----&quot;</span>)</span><br><span class="line">a = <span class="string">&quot;C语言中文网&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a的值为：&quot;</span>,a)</span><br><span class="line">demo(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;实参值为：&quot;</span>,a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;-----引用传递-----&quot;</span>)</span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a的值为：&quot;</span>,a)</span><br><span class="line">demo(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;实参值为：&quot;</span>,a)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-------值传递-----</span><br><span class="line">a的值为： C语言中文网</span><br><span class="line">形参值为： C语言中文网C语言中文网</span><br><span class="line">实参值为： C语言中文网</span><br><span class="line">-----引用传递-----</span><br><span class="line">a的值为： [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">形参值为： [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">实参值为： [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<h3 id="Python底层了解函数参数传递机制"><a href="#Python底层了解函数参数传递机制" class="headerlink" title="Python底层了解函数参数传递机制"></a>Python底层了解函数参数传递机制</h3><h4 id="Python函数参数的值传递机制"><a href="#Python函数参数的值传递机制" class="headerlink" title="Python函数参数的值传递机制"></a>Python函数参数的值传递机制</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">swap</span>(<span class="params">a , b</span>) :</span><br><span class="line">    <span class="comment"># 下面代码实现a、b变量的值交换</span></span><br><span class="line">    a, b = b, a</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;swap函数里，a的值是&quot;</span>, \</span><br><span class="line">        a, <span class="string">&quot;；b的值是&quot;</span>, b)</span><br><span class="line">a = <span class="number">6</span></span><br><span class="line">b = <span class="number">9</span></span><br><span class="line">swap(a , b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;交换结束后，变量a的值是&quot;</span>, \</span><br><span class="line">    a , <span class="string">&quot;；变量b的值是&quot;</span>, b)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swap函数里，a的值是 <span class="number">9</span> ；b的值是 <span class="number">6</span></span><br><span class="line">交换结束后，变量a的值是 <span class="number">6</span> ；变量b的值是 <span class="number">9</span></span><br></pre></td></tr></table></figure>
<p>如上所示，在swap()函数中，a和b的值分别是9,6，交换结果后，变量a和b的值依然是6和9，从这个运行结果可以看出，程序中实际定义的变量a和b，并不是swap()函数中的a和b。因为swap()函数中的a和b只是主程序变量a和b的复制品，如下图所示：</p>
<p>上面程序开始定义了 a、b 两个局部变量，这两个变量在内存中的存储示意图如图 1 所示。</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119144126.png" alt=""></p>
<p>当程序执行swap()函数时，系统进入swap()函数，并且将主程序的a、b变量作为参数传入swap()函数，但是传入swap()函数的只是a、b的副本，而不是a、b本身。进入swap()函数以后，系统中产生了4个变量，这4个变量在内存中的存储示意图如图2所示：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119144317.png" alt=""></p>
<p>当在主程序中调用swap()函数时，系统分别为主程序和swap()函数分配两块栈区，用于保存他们的局部变量。将主程序中的a、b变量作为参数值传入swap()函数，实际上是在swap()函数栈区中重新生成了两个变量a、b，并且将主程序栈区中a、b变量的值分别赋值给swap()函数栈区中的a、b参数（就是对swap()函数中的a、b两个变量进行初始化）。此时，系统存在两个a变量、两个b变量，只是存在与不同的栈区中而已。</p>
<p>程序在swap()函数中交换a、b两个变量的值，实际上是对图2中灰色区域中的a、b变量进行交换。交换结束以后，输出swap()函数中a、b变量的值，可以看到a的值为9，b的值为6,此时在内存中的存储示意图如图3所示：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119144738.png" alt=""></p>
<p>对比图3和图1，可以看到两个示意图中主程序栈区中a、b的值并未有任何变化，程序改变的仅仅是swap()函数栈区中a、b的值。这既是值传递的实质，当程序开始执行函数时，系统对形参进行初始化，就是把实参变量的值赋给函数的形参变量，在函数中操作的并不是实际上的实参变量。</p>
<h4 id="Python函数参数的引用传递"><a href="#Python函数参数的引用传递" class="headerlink" title="Python函数参数的引用传递"></a>Python函数参数的引用传递</h4><p>如果实际参数的数据类型是可变对象（列表、字典），则函数参数的传递方式将采用引用传递方式，需要注意的是，<strong>引用传递方式的底层实现，采用的依然是值传递的方式</strong>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">swap</span>(<span class="params">dw</span>):</span><br><span class="line">    <span class="comment"># 下面代码实现dw的a、b两个元素的值交换</span></span><br><span class="line">    dw[<span class="string">&#x27;a&#x27;</span>], dw[<span class="string">&#x27;b&#x27;</span>] = dw[<span class="string">&#x27;b&#x27;</span>], dw[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;swap函数里，a元素的值是&quot;</span>,\</span><br><span class="line">        dw[<span class="string">&#x27;a&#x27;</span>], <span class="string">&quot;；b元素的值是&quot;</span>, dw[<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">dw = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">9</span>&#125;</span><br><span class="line">swap(dw)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;交换结束后，a元素的值是&quot;</span>,\</span><br><span class="line">    dw[<span class="string">&#x27;a&#x27;</span>], <span class="string">&quot;；b元素的值是&quot;</span>, dw[<span class="string">&#x27;b&#x27;</span>])</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swap函数里，a元素的值是 <span class="number">9</span> ；b元素的值是 <span class="number">6</span></span><br><span class="line">交换结束后，a元素的值是 <span class="number">9</span> ；b元素的值是 <span class="number">6</span></span><br></pre></td></tr></table></figure>
<p>如上所示，在swap()函数中，dw字典的a,b两个元素的值被交换成功，不仅如此，当swap()函数执行结束后，主程序中dw字典的a、b两个元素的值被交换了，这很容易造成一种错觉，即在调用swap()函数时，传入swap()函数的就是dw字典本身，而不是它的复制品。但这是一种错觉，下面我们还是结合示意图来说明程序的执行过程。</p>
<p>程序开始创建了一个字典对象，并且定义了一个dw引用变量（其实就是一个指针），指向字典变量，这意味着此时内存中有两个东西，对象本身和指向该对象的引用变量。此时系统内存中的存储示意图如下所示：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119145406.png" alt=""></p>
<p>接下来当主程序开始调用swap()函数时，dw变量作为参数传入swap()函数，这里依然采用值传递方式，把主程序中dw变量的值赋给swap()函数的dw形参，从而完成swap()函数的dw参数的初始化。值的指出的是，主程序中的dw是一个引用变量（也就是一个指针），他保存了字典对象的地址值，当把dw的值赋给swap()函数的dw参数后，就是让swap()函数也保存这个地址值，即也会引用到同一个字典对象，图5显示了dw字典传入swap()函数后的存储示意图。</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119145658.png" alt=""></p>
<p>从图5来看，这种参数传递方式是不折不扣的值传递方式，系统一样复制了dw的副本到swap()函数，但由于dw只是一个引用变量，因此系统复制的是dw变量，并未复制字典本身。</p>
<p>当程序在swap()函数中操作dw参数时，由于dw只是一个引用变量，故实际操作的还是字典对象。此时，不管是操作主函数中的dw变量，还是操作swap()函数里的dw参数，其实操作的都是他们共同引用的字典对象，他们引用的是同一个字典对象。因此，当在swap()函数中交换dw参数所引用字典对象的a,b两个元素的值后，可以看到在主程序中dw变量所引用字典对象的a、b两个元素的值也被交换了。</p>
<p>为了更好地证明主程序中的dw和swap()函数中的dw是两个变量，在swap()函数的最后一行增加如下代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#把dw 直接赋值为None，让它不再指向任何对象</span></span><br><span class="line">dw = <span class="literal">None</span></span><br></pre></td></tr></table></figure>
<p>运行上面代码，结果是swap()函数中的dw变量不再指向任何对象，程序其他地方没有任何变化。主程序调用swap()函数后，再次访问dw变量的两个元素，依然可以输出9、6。可见，主程序的dw变量并没有受到任何影响。实际上，当在sawp()函数中增加<code>dw=None</code>代码后，在内存中的存储示意图如下所示：</p>
<p><img class="lazy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAAaADAAQAAAABAAAAAQAAAADa6r/EAAAAC0lEQVQIHWNgAAIAAAUAAY27m/MAAAAASUVORK5CYII=" data-src="https://langwenchong.gitee.io/figure-bed/20220119150411.png" alt=""></p>
<p>我们可以看出，把swap()函数中的dw赋值为None后，在swap()函数中失去了对字典对象的引用，不可再访问该字典对象，但是主程序中的dw变量不受任何影响，依然可以使用该字典对象，所以依然输出字典对象的a、b元素的值。</p>
<p>我们通过上面的学习，可以得到如下两个结论：</p>
<ol>
<li>不管什么类型的参数，在 Python 函数中对参数直接使用“=”符号赋值是没用的，直接使用“=”符号赋值并不能改变参数。</li>
<li>如果需要让函数修改某些数据，则可以通过把这些数据包装成列表、字典等可变对象，然后把列表、字典等可变对象作为参数传入函数，在函数中通过列表、字典的方法修改它们，这样才能改变这些数据。</li>
</ol>
<h3 id="Python位置参数"><a href="#Python位置参数" class="headerlink" title="Python位置参数"></a>Python位置参数</h3><h4 id="实参和形参数量必须一致"><a href="#实参和形参数量必须一致" class="headerlink" title="实参和形参数量必须一致"></a>实参和形参数量必须一致</h4><p>位置参数，有时也被称为必备参数，指的是必须按照正确的顺序将实际参数传到函数中，换句话说，调用参数时传入实际参数的数量和位置必须和定义函数时保持一致。</p>
<p>在调用函数，指定的实际参数的数量，必须和形式参数的数量一致（传多传少都不行）。否则Python解释器会抛出TypeError异常，并提示缺少必要的位置参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">girth</span>(<span class="params">width , height</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * (width + height)</span><br><span class="line"><span class="comment">#调用函数时，必须传递 2 个参数，否则会引发错误</span></span><br><span class="line"><span class="built_in">print</span>(girth(<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;C:\Users\mengma\Desktop\1.py&quot;</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(girth(<span class="number">3</span>))</span><br><span class="line">TypeError: girth() missing <span class="number">1</span> required positional argument: <span class="string">&#x27;height&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">girth</span>(<span class="params">width , height</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * (width + height)</span><br><span class="line"><span class="comment">#调用函数时，必须传递 2 个参数，否则会引发错误</span></span><br><span class="line"><span class="built_in">print</span>(girth(<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>))</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;C:\Users\mengma\Desktop\1.py&quot;</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(girth(<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>))</span><br><span class="line">TypeError: girth() takes <span class="number">2</span> positional arguments but <span class="number">3</span> were given</span><br></pre></td></tr></table></figure>
<h4 id="实参和形参位置必须一致"><a href="#实参和形参位置必须一致" class="headerlink" title="实参和形参位置必须一致"></a>实参和形参位置必须一致</h4><p>在调用函数时，传入实际参数的位置必须和形式参数的位置一一对应，否则就会产生以下2中结果：</p>
<h5 id="抛出-TypeError-异常"><a href="#抛出-TypeError-异常" class="headerlink" title="抛出 TypeError 异常"></a>抛出 TypeError 异常</h5><p>当实际参数类型和形式参数类型不一致，并且在函数种，这两种类型之间不能正常转换，此时就会抛出 TypeError 异常。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">height,width</span>):</span><br><span class="line">    <span class="keyword">return</span> height*width/<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(area(<span class="string">&quot;hhhh&quot;</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;C:\Users\mengma\Desktop\1.py&quot;</span>, line <span class="number">3</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(area(<span class="string">&quot;hhh&quot;</span>,<span class="number">3</span>))</span><br><span class="line">  File <span class="string">&quot;C:\Users\mengma\Desktop\1.py&quot;</span>, line <span class="number">2</span>, <span class="keyword">in</span> area</span><br><span class="line">    <span class="keyword">return</span> height*width/<span class="number">2</span></span><br><span class="line">TypeError: unsupported operand <span class="built_in">type</span>(s) <span class="keyword">for</span> /: <span class="string">&#x27;str&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;int&#x27;</span></span><br></pre></td></tr></table></figure>
<p>以上显示的异常信息，就是因为字符串类型和整形数值做除法运算。</p>
<h5 id="产生的结果和预期不符"><a href="#产生的结果和预期不符" class="headerlink" title="产生的结果和预期不符"></a>产生的结果和预期不符</h5><p>调用函数时，如果指定的实际参数和形式参数的位置不一致，但是他们的数据类型相同，那么程序并不会抛出异常，只不过导致运行结果和预期不符。</p>
<p>例如，设计一个求梯形面积的函数，并利用此函数求上底为 4cm，下底为 3cm，高为 5cm 的梯形的面积。但如果交互高和下低参数的传入位置，计算结果将导致错误：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">area</span>(<span class="params">upper_base,lower_bottom,height</span>):</span><br><span class="line">    <span class="keyword">return</span> (upper_base+lower_bottom)*height/<span class="number">2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;正确结果为：&quot;</span>,area(<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;错误结果为：&quot;</span>,area(<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">正确结果为： <span class="number">17.5</span></span><br><span class="line">错误结果为： <span class="number">13.5</span></span><br></pre></td></tr></table></figure>
<h3 id="Python函数关键字参数及用法"><a href="#Python函数关键字参数及用法" class="headerlink" title="Python函数关键字参数及用法"></a>Python函数关键字参数及用法</h3><p>之前我们学习的一直是位置参数，即实参和形参位置要一一对应，顺序不能出现错误。但是当参数过多时，使用位置参数就较为复杂，因此我们可以使用关键字参数。<code>关键字参数</code>是指使用形式参数的名字来确定输入的参数值，通过此方式来指定函数实参时，不再需要与形参的位置完全一致，只需要将参数名写正确即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">dis_str</span>(<span class="params">str1,str2</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str1:&quot;</span>,str1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str2:&quot;</span>,str2)</span><br><span class="line"><span class="comment">#位置参数</span></span><br><span class="line">dis_str(<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>,<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br><span class="line"><span class="comment">#关键字参数</span></span><br><span class="line">dis_str(<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>,str2=<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br><span class="line">dis_str(str2=<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>,str1=<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">str1: http://c.biancheng.net/python/</span><br><span class="line">str2: http://c.biancheng.net/shell/</span><br><span class="line">str1: http://c.biancheng.net/python/</span><br><span class="line">str2: http://c.biancheng.net/shell/</span><br><span class="line">str1: http://c.biancheng.net/shell/</span><br><span class="line">str2: http://c.biancheng.net/python/</span><br></pre></td></tr></table></figure>
<p>我们发现函数在传参时，可以单独使用位置参数，也可以单独使用关键字参数传参，甚至还可以混用传参的参数方法。</p>
<div class="tag-plugin note" color="yellow"><div class="body"><p>但是一定要注意，混用两者时，所有关键字参数必须位于所有的位置参数之后。</p></div></div>
<p>如下的写法就是错误的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 位置参数必须放在关键字参数之前，下面代码错误</span></span><br><span class="line">dis_str(str1=<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>,<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>Python解释器会报如下错误：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SyntaxError: positional argument follows keyword argument</span><br></pre></td></tr></table></figure>
<h3 id="Python函数默认参数设置"><a href="#Python函数默认参数设置" class="headerlink" title="Python函数默认参数设置"></a>Python函数默认参数设置</h3><p>我们可以为Python中的函数设置默认值，这样的话，即使调用函数时没有给拥有默认值的形参传递参数，该参数可以直接使用定义函数时设置的默认值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">...，形参名，形参名=默认值</span>)：</span><br><span class="line">    代码块</span><br></pre></td></tr></table></figure>
<div class="tag-plugin note" color="yellow"><div class="body"><p>要注意，在使用此格式定义函数时，指定有默认值的形式参数必须在所有没有默认参数的后面，否则会产生语法错误。<strong>同时要注意默认参数必须指向不变对象。</strong></p></div></div>
<p>如下写法就是错误的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#语法错误</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dis_str</span>(<span class="params">str1=<span class="string">&quot;http://c.biancheng.net/python/&quot;</span>,str2,str3</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>显然，str1 设有默认值，而 str2 和 str3 没有默认值，因此 str1 必须位于 str2 和 str3 之后。</p>
<p>接下来我们看一个正确使用函数默认值的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#str1没有默认参数，str2有默认参数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">dis_str</span>(<span class="params">str1,str2 = <span class="string">&quot;http://c.biancheng.net/python/&quot;</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str1:&quot;</span>,str1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;str2:&quot;</span>,str2)</span><br><span class="line">dis_str(<span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br><span class="line">dis_str(<span class="string">&quot;http://c.biancheng.net/java/&quot;</span>,<span class="string">&quot;http://c.biancheng.net/golang/&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str1: http://c.biancheng.net/shell/</span><br><span class="line">str2: http://c.biancheng.net/python/</span><br><span class="line">str1: http://c.biancheng.net/java/</span><br><span class="line">str2: http://c.biancheng.net/golang/</span><br></pre></td></tr></table></figure>
<p>上面程序中，dis_str() 函数有 2 个参数，其中第 2 个设有默认参数。这意味着，在调用 dis_str() 函数时，我们可以仅传入 1 个参数，此时该参数会传给 str1 参数，而 str2 会使用默认的参数，如程序中第 6 行代码所示。当然在调用 dis_str() 函数时，也可以给所有的参数传值（如第 7 行代码所示），这时即便 str2 有默认值，它也会优先使用传递给它的新值。</p>
<p>同时，结合关键字参数，以下 3 种调用 dis_str() 函数的方式也是可以的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dis_str(str1 = <span class="string">&quot;http://c.biancheng.net/shell/&quot;</span>)</span><br><span class="line">dis_str(<span class="string">&quot;http://c.biancheng.net/java/&quot;</span>,str2 = <span class="string">&quot;http://c.biancheng.net/golang/&quot;</span>)</span><br><span class="line">dis_str(str1 = <span class="string">&quot;http://c.biancheng.net/java/&quot;</span>,str2 = <span class="string">&quot;http://c.biancheng.net/golang/&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>你可能会疑惑，对于自己自定义的函数，我们可以轻易知道那个参数有默认值，但是如果使用Python提供的内置函数，又或者其他第三方提供的函数，我们怎么知道那些参数有默认值呢？</p>
<p>在Python中，我们可以使用<code>函数名.__defaults__</code>查看函数的默认参数的当前值，其返回值是一个元组，以本节中的 dis_str() 函数为例，在其基础上，执行如下代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(dis_str.__defaults__)</span><br></pre></td></tr></table></figure>
<p>程序执行结果为</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&#x27;http://c.biancheng.net/python/&#x27;</span>,)</span><br></pre></td></tr></table></figure>
<h3 id="Python函数传入任意个参数-进阶"><a href="#Python函数传入任意个参数-进阶" class="headerlink" title="Python函数传入任意个参数(进阶)"></a>Python函数传入任意个参数(进阶)</h3><h4 id="args接收任意个位置参数"><a href="#args接收任意个位置参数" class="headerlink" title="*args接收任意个位置参数"></a>*args接收任意个位置参数</h4><p><code>*args</code>是可变参数，args接收的是一个元组tuple,可变参数允许传入0个或者任意个参数，这些可变参数在函数调用时被组装为一个元组，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">calc</span>(<span class="params">*numbers</span>):</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> numbers:</span><br><span class="line">        <span class="built_in">sum</span> = <span class="built_in">sum</span> + n * n</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>例如我们要传入0个或者多个不可变参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">calc（）可传入<span class="number">0</span>到多个参数值</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc()</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>但是如果此时我们要传递一个列表中的所有元素或者元组中的所有元组又该怎么写呢？我们可以如下书写：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(nums[<span class="number">0</span>], nums[<span class="number">1</span>], nums[<span class="number">2</span>])</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>
<p>但是如果列表或者元组的元素过多时，操作就会过于繁琐，此时Python允许我们在list或者tuple前面加一个<code>*</code>号，把list或者tuple传入：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calc(*nums)</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>
<h4 id="kw接收任意个关键字参数"><a href="#kw接收任意个关键字参数" class="headerlink" title="**kw接收任意个关键字参数"></a>**kw接收任意个关键字参数</h4><p><code>**kw</code>是关键字参数，kw接收的是一个字典，关键字参数允许你传入0个或者任意个含参数名的参数，这些关键字参数会在函数内部自动组装成一个字典。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, **kw</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;name:&#x27;</span>, name, <span class="string">&#x27;age:&#x27;</span>, age, <span class="string">&#x27;other:&#x27;</span>, kw)</span><br></pre></td></tr></table></figure>
<p>假设现在我们传入任意个关键字参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Michael&#x27;</span>, <span class="number">30</span>)</span><br><span class="line">name: Michael age: <span class="number">30</span> other: &#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Bob&#x27;</span>, <span class="number">35</span>, city=<span class="string">&#x27;Beijing&#x27;</span>)</span><br><span class="line">name: Bob age: <span class="number">35</span> other: &#123;<span class="string">&#x27;city&#x27;</span>: <span class="string">&#x27;Beijing&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Adam&#x27;</span>, <span class="number">45</span>, gender=<span class="string">&#x27;M&#x27;</span>, job=<span class="string">&#x27;Engineer&#x27;</span>)</span><br><span class="line">name: Adam age: <span class="number">45</span> other: &#123;<span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Engineer&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>但是如果此时需要传递许多个关键字参数，操作也会很繁琐，因此Python允许我们传递一个字典，只需要在字典dict前加上<code>**</code>符号，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dict</span>=&#123;<span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Engineer&#x27;</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Adam&#x27;</span>, <span class="number">45</span>, **<span class="built_in">dict</span>)</span><br><span class="line">name Adam age <span class="number">45</span> other &#123;<span class="string">&#x27;gender&#x27;</span>: <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Engineer&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<div class="tag-plugin note" color="yellow"><div class="body"><p>我们要注意由于*args和**kw都是可以吸收任意个参数，因此一般置于后面，同时根据关键字参数总是要位于位置参数后面，如果同时有<em>args和\</em>*kw存在，**kw要置于后面。</p></div></div>
<h4 id="命名关键字参数"><a href="#命名关键字参数" class="headerlink" title="命名关键字参数"></a>命名关键字参数</h4><p>我们还可以进一步限制传入的关键字参数的名字，并且一旦声明了命名关键字参数，那么就必须出现否则会报错。</p>
<p>如下所示，如果我们使用**kw来接收任意个关键字参数，那么传入的参数名字可以是任意的，我们可以在函数内部对kw进行校验寻找我们要求出现的关键字参数，但是这样的话仍然会造成传入了许多不需要的关键字参数如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, **kw</span>):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;city&#x27;</span> <span class="keyword">in</span> kw:</span><br><span class="line">        <span class="comment"># 有city参数</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;job&#x27;</span> <span class="keyword">in</span> kw:</span><br><span class="line">        <span class="comment"># 有job参数</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;name:&#x27;</span>, name, <span class="string">&#x27;age:&#x27;</span>, age, <span class="string">&#x27;other:&#x27;</span>, kw)</span><br><span class="line">但是调用者仍可以传入不受限制的关键字参数：</span><br><span class="line"></span><br><span class="line"><span class="comment"># addr,zipcode完全不需要，但是也传进来了</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;Beijing&#x27;</span>, addr=<span class="string">&#x27;Chaoyang&#x27;</span>, zipcode=<span class="number">123456</span>)</span><br><span class="line">name: Jack age: <span class="number">24</span> other: &#123;<span class="string">&#x27;city&#x27;</span>: <span class="string">&#x27;Beijing&#x27;</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;Chaoyang&#x27;</span>, <span class="string">&#x27;zipcode&#x27;</span>: <span class="number">123456</span>&#125;</span><br></pre></td></tr></table></figure>
<p>我们发现上面的代码中我们只是需要两个关键字参数即<code>city</code>和<code>job</code>，但是此时使用kw却接收了许多没用的关键字参数。那么我们如何实现只接收指定的关键字参数呢？这时就要使用命名关键字参数，他的写法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job)</span><br></pre></td></tr></table></figure>
<p>此时我们指定接收4个参数，name和age都是位置参数，而特殊分隔符<code>*</code>表示后面的所有参数都是指定命名关键字参数（<strong>注意此时city和job不再是位置参数了</strong>）。那么我们在为person函数传递参数时就必须传递两个关键字参数<code>city</code>和<code>job</code>了。此时指定了两个必须传进的指定名称的关键字参数，多了或者少了都不行</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;chengdu&#x27;</span>, job=<span class="string">&#x27;auditor&#x27;</span>)</span><br><span class="line">Jack <span class="number">24</span> chengdu auditor</span><br><span class="line"><span class="comment"># 少job报错</span></span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;chengdu&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;d:/Pythoncode/Algrithm/test.py&quot;</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;chengdu&#x27;</span>)</span><br><span class="line">TypeError: person() missing <span class="number">1</span> required keyword-only argument: <span class="string">&#x27;job&#x27;</span></span><br><span class="line"><span class="comment"># 多sex也报错</span></span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;chengdu&#x27;</span>, job=<span class="string">&#x27;auditor&#x27;</span>,sex=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;d:/Pythoncode/Algrithm/test.py&quot;</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&#x27;chengdu&#x27;</span>, job=<span class="string">&#x27;auditor&#x27;</span>,sex=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">TypeError: person() got an unexpected keyword argument <span class="string">&#x27;sex&#x27;</span></span><br><span class="line"><span class="comment"># 使用位置参数来传递city和job肯定也是不行的</span></span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;chengdu&#x27;</span>,<span class="string">&#x27;auditor&#x27;</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;d:/Pythoncode/Algrithm/test.py&quot;</span>, line <span class="number">4</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, <span class="string">&#x27;chengdu&#x27;</span>,<span class="string">&#x27;auditor&#x27;</span>)</span><br><span class="line">TypeError: person() takes <span class="number">2</span> positional arguments but <span class="number">4</span> were given</span><br></pre></td></tr></table></figure>
<div class="tag-plugin note" color="yellow"><div class="body"><p>命名关键字参数可以简单地理解为必须使用关键字参数的形式传进来的键名必须一致的参数。</p></div></div>
<p>但是如果我们已经为命名关键字参数设置了默认值，那么此时可以选择不传：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city=<span class="string">&#x27;chengdu&#x27;</span>, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job)</span><br><span class="line">由于命名关键字参数city具有默认值，调用时，可不传入city参数：</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, job=<span class="string">&#x27;tester&#x27;</span>)</span><br><span class="line">Jack <span class="number">24</span> chengdu tester</span><br></pre></td></tr></table></figure>
<h5 id="思考：下面这样的写法错在了哪里？"><a href="#思考：下面这样的写法错在了哪里？" class="headerlink" title="思考：下面这样的写法错在了哪里？"></a>思考：下面这样的写法错在了哪里？</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, **kw, *，city, job</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age,kw, city, job)</span><br></pre></td></tr></table></figure>
<p>我们发现此时**kw这个可以接收任意个关键字参数的形参写在了city和job这两个命名关键字参数前面，那么很显然无论我们传入多少个关键字参数都会被kw吸收，甚至是<code>city</code>换入<code>job</code>命名关键字参数也会被kw吸收，因此形参city和job永远不可能被赋值，因此上面的写法错误，我们可以如下改写即为正确：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *, city, job, **kw,</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age, city, job, kw)</span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>, city=<span class="string">&quot;beijing&quot;</span>, job=<span class="string">&quot;auditor&quot;</span>, sex=<span class="string">&#x27;male&#x27;</span>, addr=<span class="string">&#x27;big house&#x27;</span>)</span><br><span class="line">Jack <span class="number">24</span> beijing auditor &#123;<span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;big house&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<p><strong>也就是说**kw永远不能写到命名关键字形参前面</strong></p>
<h5 id="思考：如果可变位置参数-args写在关键字命名参数前面会怎样？"><a href="#思考：如果可变位置参数-args写在关键字命名参数前面会怎样？" class="headerlink" title="思考：如果可变位置参数*args写在关键字命名参数前面会怎样？"></a>思考：如果可变位置参数*args写在关键字命名参数前面会怎样？</h5><p>虽然**kw不能写到命名关键字参数前面，但是*args是可以写到前面的，并且此时命名关键字参数前面就无需在加上特殊分隔符<code>*</code>了，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age, *args, city, job, **kw,</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age,args, city, job, kw)</span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>,<span class="string">&quot;a cool boy&quot;</span>,<span class="string">&quot;500&quot;</span>,city=<span class="string">&quot;beijing&quot;</span>, job=<span class="string">&quot;auditor&quot;</span>, sex=<span class="string">&#x27;male&#x27;</span>, addr=<span class="string">&#x27;big house&#x27;</span>)</span><br><span class="line">Jack <span class="number">24</span> (<span class="string">&#x27;a cool boy&#x27;</span>, <span class="string">&#x27;500&#x27;</span>) beijing auditor &#123;<span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;male&#x27;</span>, <span class="string">&#x27;addr&#x27;</span>: <span class="string">&#x27;big house&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<p>此时person函数先通过位置参数的方法获取了<code>name</code>和<code>age</code>变量，然后又通过args获取了2个位置参数，紧接着就是两个命名关键字参数<code>city</code>和<code>job</code>，然后最后面又使用了kw接收剩余的关键字参数<code>sex</code>和<code>addr</code>。<strong>因此总体上来看，函数接收参数的顺序总是先接收所有的位置参数，然后再接收所有的关键字参数。</strong></p>
<h5 id="思考：为什么-args在命名关键字前面时就无需再使用-特殊分隔符号了？"><a href="#思考：为什么-args在命名关键字前面时就无需再使用-特殊分隔符号了？" class="headerlink" title="思考：为什么*args在命名关键字前面时就无需再使用*特殊分隔符号了？"></a>思考：为什么*args在命名关键字前面时就无需再使用*特殊分隔符号了？</h5><p>原因很简单，之前我们之所要在命名关键字参数前加上特殊分隔符<code>*</code>是为了区分位置参数和命名关键字参数，但是当我们使用了*args那么所有的位置参数都已经吸收了，后面紧跟着的形参很明显一定是关键字参数了，因此此时我们就无需再使用<code>*</code>进行区分了。</p>
<h5 id="思考：下面这样的写法错在了哪里？-1"><a href="#思考：下面这样的写法错在了哪里？-1" class="headerlink" title="思考：下面这样的写法错在了哪里？"></a>思考：下面这样的写法错在了哪里？</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">*, city, job,name, age, *args, **kw,</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age,args, city, job, kw)</span><br></pre></td></tr></table></figure>
<p>我们发现此时city和name命名关键字反而写到了位置关键字的前面，很明显违背了<code>所有关键字参数要位于所有位置参数后面</code>的原则，那么为什么此时命名关键字参数不能写到前面呢？原因很简单，此时<code>name</code>和<code>age</code>语义就不明确了，我们无法区分他们到底是位置参数还是命名关键字参数了。</p>
<div class="tag-plugin note" color="yellow"><div class="title">因此一定要记住再复杂的函数传参也一定要保证所有的位置参数在所有关键字参数的前面，顺序可以总结为：</div><div class="body"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">位置参数，默认参数，*args，命名关键字参数，默认参数，**kw</span>)</span><br></pre></td></tr></table></figure></div></div>
<p>例如如下就是一些包含了所有传参形式的例子，如果你可以理解那么恭喜你进阶成功！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">person</span>(<span class="params">name, age=<span class="number">18</span>, *args, city=<span class="string">&quot;chengdu&quot;</span>, job, **kw,</span>):</span><br><span class="line">    <span class="built_in">print</span>(name, age,args, city, job, kw)</span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>,<span class="string">&quot;a cool boy&quot;</span>,<span class="string">&quot;500&quot;</span>, job=<span class="string">&quot;auditor&quot;</span>, sex=<span class="string">&quot;male&quot;</span>)</span><br><span class="line">Jack <span class="number">24</span> (<span class="string">&#x27;a cool boy&#x27;</span>, <span class="string">&#x27;500&#x27;</span>) chengdu auditor &#123;<span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;male&#x27;</span>&#125;</span><br><span class="line">&gt;&gt;&gt;person(<span class="string">&#x27;Jack&#x27;</span>, <span class="number">24</span>,*(<span class="string">&quot;a cool boy&quot;</span>,<span class="string">&quot;500&quot;</span>), job=<span class="string">&quot;auditor&quot;</span>, **&#123;<span class="string">&quot;sex&quot;</span>:<span class="string">&quot;male&quot;</span>&#125;)</span><br><span class="line">Jack <span class="number">24</span> (<span class="string">&#x27;a cool boy&#x27;</span>, <span class="string">&#x27;500&#x27;</span>) chengdu auditor &#123;<span class="string">&#x27;sex&#x27;</span>: <span class="string">&#x27;male&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Python-None-空值"><a href="#Python-None-空值" class="headerlink" title="Python None(空值)"></a>Python None(空值)</h3><p>在Python中，有一个特殊的常量None(N必须大写)。他和False,0,[],(),{},””等都不同，None有自己的数据类型，我们可以在IDLE中使用type()函数查看它的类型：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="literal">None</span>)</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;NoneType&#x27;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>可以看到，它属于NoneType类型，None是NoneType数据类型的唯一值（其他变成语言可能将这个值称为null,nll或者undifined）。也就是说None表示为初始化赋值的一个状态。对于任何函数，如果没有return返回值，或者return关键字后面不带任何值，那么Python默认函数都返回None，比如print()函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>spam = <span class="built_in">print</span>(<span class="string">&#x27;Hello!&#x27;</span>)</span><br><span class="line">Hello!</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="literal">None</span> == spam</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="Python函数返回多个值"><a href="#Python函数返回多个值" class="headerlink" title="Python函数返回多个值"></a>Python函数返回多个值</h3><p>实际上Python就是只能反会有一个值，只不过我们可以使用列表，元组，字典甚至对象将多个返回值进行封装，然后一次性返回封装结果即可实现返回多个值的效果。</p>
<h4 id="使用对象返回"><a href="#使用对象返回" class="headerlink" title="使用对象返回"></a>使用对象返回</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.<span class="built_in">str</span> = <span class="string">&quot;hello world!&quot;</span></span><br><span class="line">        self.x = <span class="number">20</span>  </span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回一个对象</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="keyword">return</span> Test()</span><br><span class="line"></span><br><span class="line">t = fun() </span><br><span class="line"><span class="built_in">print</span>(t.<span class="built_in">str</span>)</span><br><span class="line"><span class="built_in">print</span>(t.x)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello world!</span><br><span class="line"><span class="number">20</span></span><br></pre></td></tr></table></figure>
<h4 id="使用列表返回"><a href="#使用列表返回" class="headerlink" title="使用列表返回"></a>使用列表返回</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回一个列表</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;hello&quot;</span></span><br><span class="line">    x = <span class="number">20</span>  </span><br><span class="line">    <span class="keyword">return</span> [<span class="built_in">str</span>, x];  </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="built_in">list</span> = fun() </span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">&#x27;hello&#x27;</span>, <span class="number">20</span>]</span><br></pre></td></tr></table></figure>
<h4 id="使用元组返回"><a href="#使用元组返回" class="headerlink" title="使用元组返回"></a>使用元组返回</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回一个元组</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="built_in">str</span> = <span class="string">&quot;你好！&quot;</span></span><br><span class="line">    x   = <span class="number">2022</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>, x;</span><br><span class="line"></span><br><span class="line"><span class="built_in">str</span>, x = fun() <span class="comment"># Assign returned tuple</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">str</span>)</span><br><span class="line"><span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">你好！</span><br><span class="line"><span class="number">2022</span></span><br></pre></td></tr></table></figure>
<h4 id="使用字典返回"><a href="#使用字典返回" class="headerlink" title="使用字典返回"></a>使用字典返回</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 返回一个字典</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    d = <span class="built_in">dict</span>(); </span><br><span class="line">    d[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&quot;欧阳克&quot;</span></span><br><span class="line">    d[<span class="string">&#x27;age&#x27;</span>]   = <span class="number">25</span></span><br><span class="line">    <span class="keyword">return</span> d</span><br><span class="line"></span><br><span class="line">d = fun() </span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;欧阳克&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">25</span>&#125;</span><br></pre></td></tr></table></figure>

  


  </article>
  
<div class="related-wrap reveal" id="read-next"><section class="body"><div class="item" id="prev"><div class="note">回顾上一篇</div><a href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/index.html">流程控制</a></div><div class="item" id="next"><div class="note">接下来阅读</div><a href="/wiki/Python%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%87%BD%E6%95%B0%E8%BF%9B%E9%98%B6/index.html">函数进阶</a></div></section></div>

  

  <div class='related-wrap md-text reveal' id="comments">
    <section class='header cmt-title cap theme'>
      快来参与讨论吧
    </section>
    <section class='body cmt-body waline'>
      

<div id="waline_container" class="waline_thread" comment_id="Python"><svg class="loading" style="vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2709"><path d="M832 512c0-176-144-320-320-320V128c211.2 0 384 172.8 384 384h-64zM192 512c0 176 144 320 320 320v64C300.8 896 128 723.2 128 512h64z" p-id="2710"></path></svg></div>

    </section>
  </div>




      
<footer class="page-footer reveal fs12"><hr><div class="sitemap"><div class="sitemap-group"><span class="fs14">博客</span><a href="/">随想录</a><a href="/intro">言堂序</a><a href="/archives">归档册</a></div><div class="sitemap-group"><span class="fs14">笔记</span><a href="/wiki/tags/%E7%AC%AC%E4%B9%9D%E8%89%BA%E6%9C%AF">第九艺术</a><a href="/wiki/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80">计算基础</a><a href="/wiki/tags/%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80">语言基础</a><a href="/wiki/tags/%E8%BF%9B%E9%98%B6%E6%8A%80%E8%83%BD">进阶技能</a></div><div class="sitemap-group"><span class="fs14">便笺</span><a href="/notes/%E7%A7%91%E7%A0%94%E5%AD%A6%E4%B9%A0">科研学习</a><a href="/notes/%E5%BB%BA%E7%AB%99%E5%BF%85%E5%A4%87">建站必备</a><a href="/notes/%E5%A4%84%E7%90%86%E5%B7%A5%E5%85%B7">建站必备</a></div><div class="sitemap-group"><span class="fs14">更多</span><a target="_blank" rel="noopener" href="https://coolchong.cn">个人主页</a><a target="_blank" rel="noopener" href="https://blog.coolchong.cn/friends.html">友情链接</a></div></div><div class="text"><div class="github-badge">
  <a style="color: #fff"  href="https://coolchong.cn/" target="_blank" title="由 Langwenchong 搭建运营">
    <span class="badge-subject">Built</span><span class="badge-value bg-blue">雨中 @2022-2023</span>
  </a>
  <a style="color: #fff" href="https://www.qiniu.com//" target="_blank" title="静态资源托管于 七牛云" >
    <span class="badge-subject">Powered</span><span class="badge-value bg-orange">七牛云</span>
  </a>
  <a style="color: #fff" href="https://xaoxuu.com/wiki/stellar/" target="_blank" title="站点使用 Stellar 主题" >
    <span class="badge-subject">Theme</span><span class="badge-value bg-brightgreen">Stellar</span>
  </a>
  <a style="color: #fff" href="https://beian.miit.gov.cn/)" target="_blank" title="网站已备案授权开放">
    <span class="badge-subject">Record</span><span class="badge-value bg-red">津ICP备2021009044</span>
  </a>
</div>
</div></footer>

      <div class='float-panel mobile-only blur' style='display:none'>
  <button type='button' class='sidebar-toggle mobile' onclick='sidebar.toggle()'>
    <svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="15301"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15302"></path><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z" p-id="15303"></path></svg>
  </button>
</div>

    </div>
  </div>
  <div class='scripts'>
    <script type="text/javascript">
  const stellar = {
    // 懒加载 css https://github.com/filamentgroup/loadCSS
    loadCSS: (href, before, media, attributes) => {
      var doc = window.document;
      var ss = doc.createElement("link");
      var ref;
      if (before) {
        ref = before;
      } else {
        var refs = (doc.body || doc.getElementsByTagName("head")[0]).childNodes;
        ref = refs[refs.length - 1];
      }
      var sheets = doc.styleSheets;
      if (attributes) {
        for (var attributeName in attributes) {
          if (attributes.hasOwnProperty(attributeName)) {
            ss.setAttribute(attributeName, attributes[attributeName]);
          }
        }
      }
      ss.rel = "stylesheet";
      ss.href = href;
      ss.media = "only x";
      function ready(cb) {
        if (doc.body) {
          return cb();
        }
        setTimeout(function () {
          ready(cb);
        });
      }
      ready(function () {
        ref.parentNode.insertBefore(ss, before ? ref : ref.nextSibling);
      });
      var onloadcssdefined = function (cb) {
        var resolvedHref = ss.href;
        var i = sheets.length;
        while (i--) {
          if (sheets[i].href === resolvedHref) {
            return cb();
          }
        }
        setTimeout(function () {
          onloadcssdefined(cb);
        });
      };
      function loadCB() {
        if (ss.addEventListener) {
          ss.removeEventListener("load", loadCB);
        }
        ss.media = media || "all";
      }
      if (ss.addEventListener) {
        ss.addEventListener("load", loadCB);
      }
      ss.onloadcssdefined = onloadcssdefined;
      onloadcssdefined(loadCB);
      return ss;
    },

    // 从 butterfly 和 volantis 获得灵感
    loadScript: (src, opt) => new Promise((resolve, reject) => {
      var script = document.createElement('script');
      script.src = src;
      if (opt) {
        for (let key of Object.keys(opt)) {
          script[key] = opt[key]
        }
      } else {
        // 默认异步，如果需要同步，第二个参数传入 {} 即可
        script.async = true
      }
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    }),

    // https://github.com/jerryc127/hexo-theme-butterfly
    jQuery: (fn) => {
      if (typeof jQuery === 'undefined') {
        stellar.loadScript(stellar.plugins.jQuery).then(fn)
      } else {
        fn()
      }
    }
  };
  stellar.version = '1.18.5';
  stellar.github = 'https://github.com/xaoxuu/hexo-theme-stellar/tree/1.18.5';
  stellar.config = {
    date_suffix: {
      just: '刚刚',
      min: '分钟前',
      hour: '小时前',
      day: '天前',
      month: '个月前',
    },
  };

  // required plugins (only load if needs)
  stellar.plugins = {
    jQuery: 'https://gcore.jsdelivr.net/npm/jquery@3.6.2/dist/jquery.min.js'
  };

  if ('local_search') {
    stellar.search = {};
    stellar.search.service = 'local_search';
    if (stellar.search.service == 'local_search') {
      let service_obj = Object.assign({}, {"field":"all","path":"/search.json","content":true,"sort":"-date"});
      stellar.search[stellar.search.service] = service_obj;
    }
  }

  // stellar js
  stellar.plugins.stellar = Object.assign({"sites":"/js/plugins/sites.js","friends":"/js/plugins/friends.js","ghinfo":"/js/plugins/ghinfo.js","timeline":"/js/plugins/timeline.js","linkcard":"/js/plugins/linkcard.js","fcircle":"/js/plugins/fcircle.js","weibo":"/js/plugins/weibo.js"});

  stellar.plugins.marked = Object.assign("https://cdn.bootcdn.net/ajax/libs/marked/4.0.18/marked.min.js");
  // optional plugins
  if ('true' == 'true') {
    stellar.plugins.lazyload = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/vanilla-lazyload@17.8.3/dist/lazyload.min.js","transition":"blur"});
  }
  if ('true' == 'true') {
    stellar.plugins.swiper = Object.assign({"enable":true,"css":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.css","js":"https://unpkg.com/swiper@8.4.5/swiper-bundle.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.scrollreveal = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/scrollreveal@4.0.9/dist/scrollreveal.min.js","distance":"8px","duration":500,"interval":100,"scale":1});
  }
  if ('true' == 'true') {
    stellar.plugins.preload = Object.assign({"enable":true,"service":"flying_pages","instant_page":"https://gcore.jsdelivr.net/gh/volantis-x/cdn-volantis@4.1.2/js/instant_page.js","flying_pages":"https://gcore.jsdelivr.net/gh/gijo-varghese/flying-pages@2.1.2/flying-pages.min.js"});
  }
  if ('true' == 'true') {
    stellar.plugins.fancybox = Object.assign({"enable":true,"js":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js","css":"https://gcore.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css","selector":".swiper-slide img"});
  }
  if ('false' == 'true') {
    stellar.plugins.heti = Object.assign({"enable":false,"css":"https://unpkg.com/heti@0.9.2/umd/heti.min.css","js":"https://unpkg.com/heti@0.9.2/umd/heti-addon.min.js"});
  }
</script>

<!-- required -->

  
<script src="/js/main.js" async></script>



<!-- optional -->

  <script>
  function load_comment(){
    if(!document.getElementById("waline_container"))return;
    stellar.loadCSS('https://unpkg.com/@waline/client@2.14.1/dist/waline.css');
    stellar.loadScript('https://unpkg.com/@waline/client@2.14.1/dist/waline.js', {defer:true}).then(function () {
      const el = document.getElementById("waline_container");
      var path = el.getAttribute('comment_id');
      if (!path) {
        path = decodeURI(window.location.pathname);
      }
      Waline.init(Object.assign({"js":"https://unpkg.com/@waline/client@2.14.1/dist/waline.js","css":"https://unpkg.com/@waline/client@2.14.1/dist/waline.css","serverURL":"https://waline.coolchong.cn","commentCount":true,"pageview":false,"emoji":["https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/","https://unpkg.com/@waline/emojis@1.1.0/tw-emoji","https://unpkg.com/@waline/emojis@1.1.0/bilibili","https://unpkg.com/@waline/emojis@1.1.0/alus","https://unpkg.com/@waline/emojis@1.1.0/bmoji"],"locale":{"reactionTitle":null,"placeholder":"任何想法畅所欲言，记得填写邮箱方便及时收到回复哦~"},"reaction":["https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatheart.png","https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatattentionreverse.png","https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatrainbow.png","https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/ablobcatwave.png","https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/blobcatalt.png","https://gcore.jsdelivr.net/gh/norevi/waline-blobcatemojis@1.0/blobs/blobcatscared.png"]}, {
        el: '#waline_container',
        path: path,
      }));
    });
  }
  window.addEventListener('DOMContentLoaded', (event) => {
    console.log('DOM fully loaded and parsed');
    load_comment();
  });

</script>




<!-- inject -->


  </div>
</body>
</html>
