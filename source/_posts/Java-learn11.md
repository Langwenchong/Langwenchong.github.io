---
title: Javaå­¦ä¹ ç¬”è®°-ç¬¬åä¸€è®²
comments: false
top: false
date: 2021-04-01 16:26:39
tags: [note,Java]
categories: 
	- [å­¦ä¹ ç¬”è®°]
	- [ç¼–ç¨‹è¯­è¨€,Java]
---

è®°å½•ç¿€ç¿€ğŸ§å­¦ä¹ Javaé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„æ ¸å¿ƒç¬”è®°ä¸æ€è€ƒï¼ŒåŠªåŠ›å­¦ä¹ çš„è¿‡ç¨‹ï¼Œå°±åƒåœ¨é»‘å±‹å­é‡Œæ´—è¡£æœï¼Œä½ ä¸çŸ¥é“æ´—å¹²å‡€æ²¡æœ‰ï¼Œåªèƒ½ä¸€éä¸€éå°½åŠ›å»æ´—ï¼Œç­‰åˆ°äº†è€ƒåœºä¸Šé‚£ä¸€åˆ»ï¼Œç¯å…‰äº®äº†ï¼Œä½ ä¼šå‘ç°ï¼Œåªè¦è®¤çœŸæ´—è¿‡ï¼Œé‚£ä»¶è¡£æœå°±ä¼šå…‰äº®å¦‚æ–°ï¼Œæ„¿ä½ æˆ‘éƒ½èƒ½å¤ŸåšæŒå­¦ä¹ ã€‚

<!-- more -->

#### Fileç±»

åœ¨javaä¸­æä¾›äº†æ–‡ä»¶ç®¡ç†çš„ç±»ï¼Œæ¯”å¦‚javaç±»ï¼Œä»–æä¾›äº†è‹¥å¹²ä¸ªå¤„ç†æ–‡ä»¶ï¼Œç›®å½•å’Œä»–ä»¬åŸºæœ¬ä¿¡æ¯çš„æ–¹æ³•ã€‚æ³¨æ„javaä¸­ç›®å½•ä¹Ÿæ˜¯æ–‡ä»¶ï¼ˆfileï¼‰,javaä¸­æ²¡æœ‰Directoryç±»ã€‚Fileç±»çš„æ„é€ æ–¹æ³•æœ‰ä¸‰ç§å½¢å¼ï¼š

```java
//ç›´æ¥ç»™å‡ºä¸€ä¸ªæ‰“å¼€çš„æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„
//æ³¨æ„è¿™ä¸ªè·¯å¾„çš„æœ€åä¸€çº§åº”ä¸ºæ‰“å¼€çš„æ–‡ä»¶åï¼ˆéœ€è¦åç¼€ï¼‰
File(String pathName);
//çˆ¶æ–‡ä»¶çš„åå­—(ä¸€èˆ¬æ˜¯è·¯å¾„å½¢å¼ï¼‰å’Œå­æ–‡ä»¶ï¼ˆå³è¦æ‰“å¼€çš„æ–‡ä»¶åå­—ï¼‰
File(String parent,String child);
//æˆ–è€…çˆ¶æ–‡ä»¶objå’Œå­æ–‡ä»¶çš„åå­—
File(File paraent,String child);
```

ç°åœ¨ï¼Œæˆ‘ä»¬çœ‹å‡ ä¸ªå®ä¾‹ï¼š

```java
//å…ˆå®šä¹‰ä¸€ä¸ªFileç±»çš„å®ä¾‹obj
//æ³¨æ„å¦‚æœæ˜¯å±€éƒ¨å˜é‡ï¼Œä¸€å®šè¦å…ˆåˆå§‹åŒ–
File f=NULL;
//æ‰“å¼€å¯»æ‰¾åˆ°çš„Test.javaæ–‡ä»¶
f=new File("Test.java");
//çˆ¶æ–‡ä»¶ä¸ºexï¼Œç„¶ååœ¨ä»–çš„å±‚çº§ä¸‹æ‰“å¼€Test.java
//æ³¨æ„çˆ¶æ–‡ä»¶è·¯å¾„çš„åé¢çš„\\è¦å†™
f=new File("E:\\ex\\","Test.java");
//å½“ç„¶ä¹Ÿå¯ä»¥è¿™æ ·å†™ï¼š
//å…ˆæ‰“å¼€exæ–‡ä»¶å¤¹
//ç„¶åå†æ‰“å¼€Test.java
File path=new File("E:\\ex\\");
File f=new File(path,"Test.java")
```

{% note info, 

æ³¨æ„new File()æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„Fileç±»çš„å®ä¾‹æ¥æŒ‡å‘å½“å‰æ‰€è¦è®¿é—®çš„æ–‡ä»¶ï¼Œå¹¶ä¸æ˜¯åˆ›å»ºæ–°æ–‡ä»¶ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæŒ‡å‘è¦è®¿é—®æ–‡ä»¶çš„æŒ‡å‘å¯¹è±¡ã€‚åˆ›å»ºæ–°æ–‡ä»¶æ˜¯createNewFile()ï¼Œåˆ›å»ºæ–°æ–‡ä»¶å¤¹æ˜¯mkdirs()ã€‚

%} 

#### Fileç±»æ–¹æ³•ä»‹ç»

å…³äºæ–‡ä»¶/ç›®å½•åæ“ä½œ

|            æ–¹æ³•åç§°            |                           æ–¹æ³•ä½œç”¨                           |
| :----------------------------: | :----------------------------------------------------------: |
|        String getName()        |                        è·å–æ–‡ä»¶çš„åç§°                        |
|        String getPath()        |                      è¿”å›å®šä¹‰æ—¶çš„è·¯å¾„å                      |
|    String getAbsolutePath()    |                        è¿”å›ç»å¯¹è·¯å¾„å                        |
|       String getParent()       | è¿”å›çˆ¶æ–‡ä»¶å¤¹çš„è·¯å¾„åï¼Œå¦‚æœæ­¤è·¯å¾„åæœªå‘½åä¸ºçˆ¶ç›®å½•ï¼Œåˆ™è¿”å›nullã€‚ |
| boolean renameTo(File newName) |           é‡å‘½åï¼Œå½“å¤±è´¥æ—¶è¿”å›falseï¼ŒæˆåŠŸè¿”å›true            |

å…³äºFileæµ‹è¯•æ“ä½œ

|       æ–¹æ³•åç§°        |                           æ–¹æ³•ä½œç”¨                           |
| :-------------------: | :----------------------------------------------------------: |
|   boolean exists()    |                       è¿”å›æ–‡ä»¶æ˜¯å¦å­˜åœ¨                       |
|  boolean canWrite()   |                         æ–‡ä»¶æ˜¯å¦å¯å†™                         |
|   boolean canRead()   |                         æ–‡ä»¶æ˜¯å¦å¯è¯»                         |
|   boolean isFile()    | å½“ä¸”ä»…å½“æ­¤æŠ½è±¡è·¯å¾„åè¡¨ç¤ºçš„æ–‡ä»¶å­˜åœ¨ä¸”æ˜¯ä¸€ä¸ªæ ‡å‡†æ–‡ä»¶æ—¶,è¿”å›true;å¦åˆ™è¿”å›false |
| boolean isDirectory() |                         æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹                         |
| boolean isAbsolute()  |                 æ£€æŸ¥æ­¤æŠ½è±¡è·¯å¾„åæ˜¯å¦æ˜¯ç»å¯¹çš„                 |

å…³äºå¸¸è§„çš„æ–‡ä»¶ä¿¡æ¯æ“ä½œ

|      æ–¹æ³•åç§°       |        æ–¹æ³•ä½œç”¨        |
| :-----------------: | :--------------------: |
| long lastModified() | è¿”å›ä¸Šæ¬¡ä¿®æ”¹æ–‡ä»¶çš„æ—¶é—´ |
|    long length()    |      è·å–æ–‡ä»¶å¤§å°      |
|  boolean delete()   |        åˆ é™¤æ–‡ä»¶        |

å…³äºç›®å½•æ“ä½œ

|    æ–¹æ³•åç§°     |                           æ–¹æ³•ä½œç”¨                           |
| :-------------: | :----------------------------------------------------------: |
| boolean mkdir() |                          åˆ›å»ºæ–‡ä»¶å¤¹                          |
| String[] list() | ä»¥å­—ç¬¦ä¸²æ•°ç»„çš„å½¢å¼è¿”å›æ‰€æœ‰æ–‡ä»¶çš„åç§°ï¼Œè¿™äº›å­—ç¬¦ä¸²ä»¥æ–‡ä»¶è·¯å¾„è¡¨ç¤º |

æˆ‘ä»¬ç”¨ä¸€ä¸ªä¾‹é¢˜æ¥ç†Ÿæ‚‰ä¸€ä¸‹ä¸Šé¢çš„å‡ ä¸ªå¸¸ç”¨å‡½æ•°çš„ä½¿ç”¨æ–¹æ³•ï¼š

```java
public class UseFile {
	public static void main(String args[]) throws Exception {
		// åˆ›å»ºç›®å½•
		File dir1 = new File("D:/dir1");
		if (!dir1.exists()) {

			dir1.mkdirs();
		}

		// åœ¨æŸä¸ªç›®å½•ä¸‹ åˆ›å»ºç›®å½•
		File dir2 = new File(dir1, "dir2");
		if (!dir2.exists()) {
			dir2.mkdirs();
		}

		// åœ¨æŸä¸ªç›®å½•ä¸‹ åˆ›å»ºå¤šå±‚ç›®å½•
		File dir4 = new File(dir1, "dir3\\dir4");
		if (!dir4.exists())
			dir4.mkdirs();

		// åœ¨æŸä¸ªç›®å½•ä¸‹ åˆ›å»ºæ–‡ä»¶
		File file = new File(dir2, "test.txt");
		if (!file.exists()) {
			file.createNewFile();
		}

		file = new File("D:/dir1/mytest.txt");
		if (!file.exists()) {
			file.createNewFile();
		}
		listDir(dir1);

		deleteDir(dir1);
	}

	/**
	 * å¯Ÿçœ‹ç›®å½•ä¿¡æ¯
	 * 
	 * @throws IOException
	 */
	public static void listDir(File dir) throws IOException {
		if (dir.isFile()) {
			System.out.println(
					"æ–‡ä»¶:" + dir.getCanonicalPath() + "  ä¿®æ”¹æ—¥æœŸ:" + new Date(dir.lastModified()) + " å¤§å°:" + dir.length());
			return;
		}
		File[] lists = dir.listFiles();
		// æ‰“å°å½“å‰ç›®å½•ä¸‹åŒ…å«çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯
		for (int i = 0; i < lists.length; i++) {
			File f = lists[i];
			// å¦‚æœä¸ºç›®å½•ï¼Œå°±é€’å½’è°ƒç”¨listDir()æ–¹æ³•
			System.out.println("ç›®å½•:" + f.getCanonicalPath() + "  ä¿®æ”¹æ—¥æœŸ:" + new Date(f.lastModified()));
			listDir(f);

		}
	}

	/** åˆ é™¤ç›®å½•æˆ–æ–‡ä»¶ï¼Œå¦‚æœå‚æ•°fileä»£è¡¨ç›®å½•ï¼Œä¼šåˆ é™¤å½“å‰ç›®å½•ä»¥åŠç›®å½•ä¸‹çš„æ‰€æœ‰å†…å®¹ */
	public static void deleteDir(File file) {
		// å¦‚æœfileä»£è¡¨æ–‡ä»¶ï¼Œå°±åˆ é™¤è¯¥æ–‡ä»¶
		if (file.isFile()) {
			file.delete();
			return;
		}
		// å¦‚æœfileä»£è¡¨ç›®å½•ï¼Œå…ˆåˆ é™¤ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶
		File[] lists = file.listFiles();
		for (int i = 0; i < lists.length; i++) {
			deleteDir(lists[i]); // é€’å½’åˆ é™¤å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶
		}
		// æœ€ååˆ é™¤å½“å‰ç›®å½•
		file.delete();
	}
}
```

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºäº†å‡ ä¸ªæ–‡ä»¶å±‚çº§å…³ç³»å¦‚ä¸‹ï¼š

```
---dir1--dir2--test.txt
	  |--dir3--dir4
	  |--mytext.txt
```

åˆ›å»ºå®Œæˆåæˆ‘ä»¬è¿›è¡Œäº†æ‰“å°æ–‡ä»¶å’Œåˆ é™¤æ–‡ä»¶çš„æ“ä½œï¼Œæœ€ç»ˆçš„ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

![](https://gitee.com/Langwenchong/figure-bed/raw/master/20210404135731.png)

ç”±äºåˆ›å»ºæ–‡ä»¶æ—¶ï¼Œæˆ‘ä»¬éƒ½æ˜¯å…ˆåˆ›å»ºäº†æ–‡ä»¶å®ä¾‹fï¼Œç„¶åæ£€éªŒfæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±åˆ›å»ºè¿™ä¸ªfå®ä¾‹ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“new File(String Filename)åªæ˜¯åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å®ä¾‹ï¼Œæ— è®ºå…¶æ˜¯å¦å­˜åœ¨éƒ½æ˜¯å¯ä»¥åˆ›å»ºçš„ï¼Œåªæ˜¯å¦‚æœè¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆæ˜¯æ— æ³•è¾“å‡ºä¿¡æ¯çš„ï¼Œæ‰€ä»¥åé¢æˆ‘ä»¬ä¼šå…ˆæ£€éªŒæ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨é‚£ä¹ˆåœ¨å°†è¿™ä¸ªæ–‡ä»¶fåˆ›å»ºï¼Œå› æ­¤new File()ä¸€å®šä¼šæˆåŠŸåˆ›å»ºä¸€ä¸ªFileå¯¹è±¡ï¼Œåªæ˜¯å¦‚æœè¿™ä¸ªå¯¹è±¡è®¿é—®çš„æ–‡ä»¶å­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ä¸ªfå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦åˆ™æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œæˆ‘ä»¬éœ€è¦å…ˆé€šè¿‡createFile()åˆ›å»ºè¿™ä¸ªæ–‡ä»¶ã€‚å…¶æ¬¡æˆ‘ä»¬å‘ç°æ‰“å°æ–‡ä»¶æ—¶ï¼Œåªä¼ è¿›å»äº†dir1ï¼Œä½†æ˜¯æœ€ç»ˆæ‰€æœ‰çš„dir1æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰å­æ–‡ä»¶éƒ½è¢«æ‰“å°å‡ºæ¥äº†ï¼Œè¿™é‡Œå°±æ˜¯ä½¿ç”¨çš„é€’å½’æ¥å®ç°çš„ï¼Œè¿™æ˜¯è¾“å‡ºæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶çš„ä¸€ä¸ªå¸¸ç”¨æ–¹æ³•ã€‚æˆ‘ä»¬å†™äº†ä¸¤ä¸ªè¾“å‡ºä¿¡æ¯çš„è¯­å¥ï¼Œå¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œé‚£ä¹ˆå°±ä¸æ‰“å°å¤§å°ï¼Œå¦‚æœæ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿˜éœ€è¦æ‰“å°è¿™ä¸ªæ–‡ä»¶çš„å¤§å°ã€‚æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ˜¯ä½¿ç”¨isFile()å‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªæ–‡ä»¶æ˜¯ä¸æ˜¯æ–‡ä»¶å¤¹çš„ï¼Œå½“isFile()ä¸ºfalseæ—¶è¯´æ˜æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ŒåŒæ ·çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨isDirectory()å‡½æ•°æ¥å®ç°ã€‚å¹¶ä¸”æˆ‘ä»¬ä»ä¸Šé¢çš„è¾“å‡ºä¿¡æ¯è¿˜å¯ä»¥ç†è§£é€’å½’çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä¸æ–­æ·±å…¥ï¼Œå¤–å±‚å‡½æ•°ç­‰å¾…å†…å±‚å‡½æ•°æ‰§è¡Œå¹¶è¿”å›åæ‰ä¼šç»§ç»­æ‰§è¡Œã€‚æ¯”å¦‚ä¸Šé¢æˆ‘ä»¬é¦–å…ˆæ‰“å°äº†dir1çš„ä¿¡æ¯ï¼Œç„¶ådir1ä¸‹æœ‰dir2å’Œdir3ä»¥åŠmytest.txtï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€’å½’è°ƒç”¨äº†list(dir2)ï¼Œç„¶åæ‰“å°dir2ä¸‹çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å‘ç°dir2ä¸‹çš„test.txtæ‰“å°äº†ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ²¡æœ‰è¾“å‡ºå¤§å°ä¸€æ¬¡è¾“å‡ºäº†å¤§å°ï¼Œè¿™æ˜¯å› ä¸ºç¬¬ä¸€æ¬¡è¾“å‡ºæ˜¯è°ƒç”¨çš„forå¾ªç¯è¯­å¥æ‰“å°dir2çš„æ‰€æœ‰æ–‡ä»¶list[i]ï¼Œå› æ­¤æ²¡æœ‰è¾“å‡ºå¤§å°ï¼Œç„¶åå†æ¬¡é€’å½’è°ƒç”¨list(test.txt)ï¼Œå‘ç°test.txtä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œå› æ­¤ç¬¬äºŒæ¬¡çš„æ‰“å°ä¿¡æ¯æ˜¯é€šè¿‡isFile()ä¸‹çš„æ‰“å°è¯­å¥è¾“å‡ºçš„test.txt,æ‰€ä»¥ç¬¬äºŒæ¬¡æ‰“å°åŒ…å«äº†å¤§å°ä¿¡æ¯ï¼Œä¹‹åè¿™ä¸ªlist(test.txt)ç»“æŸï¼Œè¿”å›åˆ°list(dir2)ä¸‹ï¼Œå‘ç°list(dir2)ä¹Ÿæ‰“å°å®Œäº†ï¼Œç„¶åå†è¿”å›åˆ°list(dir1)é€’å½’æ‰§è¡Œdir(3)ã€‚æ‰€ä»¥æˆ‘ä»¬å‘ç°é€’å½’è°ƒç”¨å¯ä»¥åªæ¥å—ä¸€ä¸ªå‚æ•°å°±å¯ä»¥æ‰“å°å…¶å±‚çº§ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¹¶è‡ªåŠ¨ç»“æŸã€‚åŒæ ·çš„ï¼Œåœ¨åˆ é™¤æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦æ³¨æ„ï¼Œéœ€è¦é€’å½’è°ƒç”¨ç”±ä½å±‚çº§é€æ¸å‘é«˜å±‚çº§åˆ é™¤æ–‡ä»¶ï¼Œå³dir2æƒ³è¦åˆ é™¤ï¼Œé¦–å…ˆéœ€è¦åˆ é™¤dir2ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåªæœ‰dir2,dir3,mytestå…¨éƒ¨è¢«åˆ é™¤ä»¥åå†åˆ é™¤dir1ï¼Œå¾ˆæ˜¾ç„¶ï¼Œåˆ é™¤åŒæ ·æ˜¯é€’å½’å®ç°çš„ã€‚

#### è¾“å…¥æµ/è¾“å‡ºæµ

å¤§éƒ¨åˆ†ç¨‹åºéƒ½éœ€è¦è¾“å…¥/è¾“å‡ºå¤„ç†ï¼Œæ¯”å¦‚ä»é”®ç›˜è¯»å–æ•°æ®ã€å‘å±å¹•ä¸­è¾“å‡ºæ•°æ®ä»æ–‡ä»¶ä¸­è¯»æˆ–è€…å†™æ•°æ®ã€åœ¨ä¸€ä¸ªç½‘ç»œè¿æ¥ä¸Šè¿›è¡Œè¯»å†™æ“ä½œç­‰ã€‚åœ¨javaä¸­ï¼ŒæŠŠè¿™äº›ä¸åŒç±»å‹çš„è¾“å…¥ï¼Œè¾“å‡ºæºæŠ½è±¡ä¸ºæµstreamã€‚æŒ‰ç…§æµçš„æ–¹å‘ï¼Œæˆ‘ä»¬å°†å…¶åˆ†ä¸ºäº†è¾“å…¥æµå’Œè¾“å‡ºæµï¼š

![](https://gitee.com/Langwenchong/figure-bed/raw/master/20210404141313.png)

æˆ‘ä»¬ä¸éš¾çœ‹å‡ºè¾“å…¥è¾“å‡ºæµæ˜¯é€šè¿‡æ•°æ®æµå®ç°çš„ï¼Œè¿™é‡Œçš„æ•°æ®æµæµæœ‰ä¸¤ç§å½¢å¼ï¼š

|      | å­—èŠ‚æµï¼ˆByte) | å­—ç¬¦æµï¼ˆChar) |
| :--: | :-----------: | :-----------: |
| è¾“å…¥ |  InputStream  |    Reader     |
| è¾“å‡º | OutputStream  |    Writer     |

{% note info, 

ä¸€å®šè¦æ³¨æ„åœ¨javaä¸­å­—ç¬¦æ˜¯å ä¸¤ä¸ªå­—èŠ‚ï¼Œå› æ­¤å­—èŠ‚æµå’Œå­—ç¬¦æµæ˜¯æœ‰åŒºåˆ«çš„

%} 

æ‰€ä»¥å¯¹äºå­—èŠ‚æµä½¿ç”¨çš„æ˜¯InputStreamè¾“å…¥ç±»å’ŒOutputStreamè¾“å‡ºæµæ¥å®ç°çš„ï¼Œè€Œå­—ç¬¦æµæ˜¯é€šè¿‡Readerå’ŒWriteæ¥å®ç°çš„ã€‚

{% note info, 

æ³¨æ„è¦é€å½»ç†è§£è¾“å…¥å’Œè¾“å‡ºæµæ˜¯ä»€ä¹ˆï¼Œå®é™…ä¸Šè¾“å…¥æµå’Œè¾“å‡ºæµæ˜¯å¯¹ä¸¤ä¸ªæºå¤´æ–‡ä»¶çš„æŠ½è±¡å®šä¹‰ï¼Œè¾“å…¥æµå®é™…ä¸Šå°±æ˜¯è¦å°†è‡ªå·±çš„æ•°æ®ä¼ é€’å‡ºå»çš„æ–‡ä»¶ï¼Œä»–è¦å°†è‡ªå·±çš„æ•°æ®è¾“å‡ºåˆ°æ•°æ®æµç¼“å†²åŒºä¸­ï¼Œç„¶åæ•°æ®æµæ»´æŠµè¾¾è¾“å‡ºæµä½ç½®è¿›è¡Œè¾“å‡ºï¼Œæ‰€ä»¥è¾“å‡ºæµå®é™…ä¸Šæ˜¯æ¥å—æ•°æ®çš„æ–‡ä»¶ï¼Œæ•°æ®æµè¦å°†è‡ªå·±ç¼“å†²åŒºå­˜å‚¨çš„æ•°æ®è¾“å‡ºåˆ°è¾“å‡ºæµæ–‡ä»¶ä¸­ã€‚å› æ­¤è¾“å…¥æµå’Œè¾“å‡ºæµçš„å®šä¹‰å®é™…ä¸Šéƒ½æ˜¯ä»¥å¿«é€’å‘˜--â€œæ•°æ®æµâ€çš„è§†è§’æ¥å®šä¹‰çš„ã€‚è‡ªå§‹è‡³ç»ˆåªæœ‰æ•°æ®æµåœ¨å®ç°ä¼ é€’ï¼Œè¾“å…¥æµåªæ˜¯ä¸€ç›´åœ¨å°†è‡ªå·±çš„æ•°æ®è¾“å…¥åˆ°æ•°æ®æµï¼Œè€Œè¾“å‡ºæµä¹Ÿä¸€ç›´åªæ˜¯åœ¨æ¥å—æ•°æ®æµè¾“å‡ºçš„æ•°æ®ã€‚

%} 

#### InputStreamç±»

InputStreamç±»æœ€é‡è¦çš„æ–¹æ³•æ˜¯è¯»æ•°æ®çš„read()æ–¹æ³•ã€‚read()æ–¹æ³•æ˜¯é€å­—èŠ‚åœ°ä»¥äºŒè¿›åˆ¶çš„åŸå§‹æ–¹å¼è¯»å–æ•°æ®ï¼Œä»–æœ‰ä¸‰ç§å½¢å¼ï¼š

```java
public int read();//å°†è¾“å…¥æµä¸­æ•°æ®ä¸€ä¸ªä¸€ä¸ªå­—èŠ‚è¯»å…¥
public int read(byte b[]);//å°†è¾“å…¥æµçš„æ‰€æœ‰æ•°æ®å…¨éƒ¨è¯»å…¥åˆ°å­—èŠ‚æ•°ç»„bä¸­
/*å°†è¾“å…¥æµä¸­æœ€å¤š len ä¸ªæ•°æ®å­—èŠ‚è¯»å…¥å­—èŠ‚æ•°ç»„ã€‚å°è¯•è¯»å–å¤šè¾¾ len å­—èŠ‚ï¼Œä½†å¯èƒ½è¯»å–è¾ƒå°‘æ•°é‡ã€‚ä»¥æ•´æ•°å½¢å¼è¿”å›å®é™…è¯»å–çš„å­—èŠ‚æ•°ã€‚*/
public int read(byte[b],int off,int len);
```

æœ€åä¸€ä¸ªå¯èƒ½ä¸å¥½ç†è§£ï¼Œå…¶å®å°±æ˜¯å¦‚æœæˆ‘ä»¬å®šä¹‰äº†ä¸€æ¬¡è¯»lenä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆå°½å¯èƒ½è¯»lenä¸ªå­—èŠ‚ç„¶åå­˜æ”¾åˆ°ä»offå¤„å¼€å§‹çš„ä½ç½®ï¼Œä½†æ˜¯å‡å¦‚æœ€åå‰©ä½™çš„å¯è¯»çš„æ•°æ®ä¸æ»¡è¶³lenä¸ªäº†ï¼Œåªå‰©ä¸‹kä¸ªäº†ï¼Œé‚£ä¹ˆå°±è¯»kä¸ªï¼Œå› æ­¤æœ€ç»ˆä¼šè¿”è¿˜ä¸€ä¸ªæ•°å€¼numè¡¨ç¤ºçœŸæ­£è¯»å–çš„æ•°æ®å¤§å°numã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å¯ä»¥å°†å­—èŠ‚æ•°ç»„bè§†ä¸ºä¸€ä¸ªæ•°æ®æµç¼“å†²åŒºï¼Œä»–æ¥è¿é€æ•°æ®ã€‚

#### OutputStreamç±»

OutputStreamç±»çš„é‡è¦æ–¹æ³•å°±æ˜¯write()ï¼Œä»–çš„åŠŸèƒ½æ˜¯å°†å­—èŠ‚å†™å…¥è¾“å‡ºæµä¸­ï¼ŒwriteåŒæ ·ä¹Ÿæœ‰ä¸‰ç§å½¢å¼:

```java
//æ³¨æ„æ²¡å†™é”™ï¼Œæ­¤æ—¶çš„ç¼“å†²åŒºç”¨intï¼Œå› ä¸ºintæ˜¯4å­—èŠ‚ï¼Œå› æ­¤åªå–æœ€ä½ä¸€ä¸ªå­—èŠ‚å³å¯
public void write(int b)//å°†å‚æ•°bçš„ä½ä½å­—èŠ‚å†™å…¥åˆ°è¾“å‡ºæµ
public void write(byte b[])//å°†å­—èŠ‚æ•°ç»„b[]ä¸­çš„å…¨éƒ¨å­—èŠ‚é¡ºåºå†™å…¥åˆ°è¾“å‡ºæµ
//å°†å­—èŠ‚æ•°ç»„b[]ä»offå¼€å§‹çš„lenä¸ªå­—èŠ‚å†™å…¥åˆ°æµä¸­
public void write(byte[] b,int off,int len)
```

å…¶å®å’Œä¸Šé¢çš„InputStreamæ˜¯å¯¹åº”ç€çš„ï¼ŒåŒæ—¶OutputStreamè¿˜æœ‰å¦å¤–ä¸¤ä¸ªé‡è¦çš„æ–¹æ³•ï¼š

```java
public void flush()//æ¸…ç©ºç¼“å†²åŒºçš„æ•°æ®
public void close()//å…³é—­è¾“å‡ºæµåœæ­¢å†™
```

flush()æ–¹æ³•å¾ˆé‡è¦ï¼Œä»–æ˜¯æŠŠè¿˜åœ¨ç¼“å†²åŒºçš„æ•°æ®å¼ºåˆ¶è¾“å‡ºè¿›è¡Œå†™æ“ä½œï¼Œè€Œcloseå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯å…³é—­è¾“å‡ºæµå¹¶æ¸…ç©ºæ•°æ®æµçš„ç¼“å†²åŒºï¼Œåœæ­¢å†™æ“ä½œã€‚æ¯ä¸€æ¬¡closeä¹‹å‰éƒ½éœ€è¦flush()ä»¥é¿å…å‡ºç°ç¼“å†²åŒºçš„æ•°æ®è¿˜æœªæ¥å¾—åŠè¾“å‡ºå†™åˆ°è¾“å‡ºæµå°±è¢«æ¸…ç©ºçš„Bugå‡ºç°ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ­¤ç¯‡æ–‡ç« [ã€ŠJavaä¸­flush()ä½œç”¨ã€‹](https://blog.csdn.net/lsx991947534/article/details/45065773)æ¥é€å½»ç†è§£flush()çš„ä½œç”¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ•°æ®æµæ˜¯ä¸€ä¸ªä¸­é—´ä¼ é€’è€…ï¼ŒInputStreamçš„readåªæ˜¯å°†ä½¿å¾—æ•°æ®æµä»è¾“å…¥æµä¸­è¯»å–æ•°æ®ï¼Œè€ŒOutputStreamçš„writeåªæ˜¯å°†æ•°æ®æµç¼“å†²åŒºçš„æ•°æ®è¾“å‡ºå†™åˆ°è¾“å‡ºæµä¸­ï¼Œä½†æ˜¯æ¯æ¬¡closeä¹‹å‰ï¼Œå¯èƒ½ç¼“å†²åŒºä¸­æœ‰ä¸€éƒ¨åˆ†æ•°æ®è¿˜æ²¡æœ‰è¢«è¾“å‡ºå†™è¿›è¾“å‡ºæµï¼Œå› æ­¤éœ€è¦å…ˆflushå°†å…¶è¾“å‡ºä¿è¯æ‰€æœ‰æ•°æ®å…¨éƒ¨è¾“å‡ºå†™è¿›äº†è¾“å‡ºæµä»¥åå†å…³é—­ã€‚ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­æ¥å­¦ä¹ ä¸€ä¸‹å­—èŠ‚æµçš„è¯»å…¥å†™å‡ºæ“ä½œï¼š

```java
public static void main(String[] args) {
		// TODO Auto-generated method stub
		try {
            //å°†
			copyFile("D:\\course\\course\\code_demo\\src\\ch08\\src.txt",
					"D:\\course\\course\\code_demo\\src\\ch08\\target.txt");
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}

/**
	 * å¤åˆ¶æ–‡ä»¶
	 * 
	 * @param fsrc
	 * @param fdest
	 * @throws IOException
	 */
public static void copyFile(String fsrc, String fdest) throws IOException {
		InputStream in = null;
		OutputStream out = null;
		try {
			in = new FileInputStream(fsrc);
			out = new FileOutputStream(fdest, true);
			copyIO(in, out);
		} finally {
            //ä¸€å®šä¸€å®šè¦è®°å¾—å…³é—­è¾“å…¥è¾“å‡ºæµ
			close(in);
			close(out);
		}
	}

/**
	 * å¤åˆ¶IOæµ
	 * 
	 * @param in
	 * @param out
	 * @throws IOException
	 */
	public static void copyIO(InputStream in, OutputStream out) throws IOException {
        public static int CHUNK_SIZE = 4096;
		byte[] buf = new byte[CHUNK_SIZE];
		/**
		 * ä»è¾“å…¥æµè¯»å–å†…å®¹å¹¶å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæµçš„å…¸å‹æ–¹æ³•
		 */
		int len = in.read(buf);
		while (len != -1) {
			out.write(buf, 0, len);
			len = in.read(buf);
		}
	}

/**
	 * å…³é—­ä¸€ä¸ªè¾“å…¥ è¾“å‡ºæµ
	 * 
	 * @param inout
	 */
	public static void close(Closeable inout) {
		if (inout != null) {
			try {
				inout.close();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}
```

ä¸Šé¢çš„ä»£ç å®é™…ä¸Šæ˜¯å®Œæˆäº†ä¸€ä¸ªcopyæ“ä½œï¼Œä»–æ˜¯å°†src.txtçš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°äº†target.txtä¸­ã€‚æˆ‘ä»¬æ¥å…·ä½“åˆ†æä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚é¦–å…ˆmainå‡½æ•°ä¸­è°ƒç”¨äº†copyFile()å‡½æ•°ï¼Œç„¶åè¿›å…¥copyFileå‡½æ•°ï¼ŒcopyFile()å‡½æ•°ä¸­å®šä¹‰äº†è¾“å…¥æµå’Œè¾“å‡ºæµçš„å¯¹è±¡ï¼Œå¹¶ä¸”è¦æ³¨æ„å› ä¸ºæ˜¯å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥å…ˆåˆå§‹åŒ–ä¸ºNull,ç„¶åè¾“å…¥æµæŒ‡å‘äº†src.txtï¼Œè¾“å‡ºæµæŒ‡å‘äº†target.txtï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å®Œæˆä¸¤ä¸ªæµæ–‡ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’äº†ï¼Œå› æ­¤è°ƒç”¨copyIO()å‡½æ•°ï¼Œè¿™é‡Œæ˜¯æ•°æ®ä¼ é€’çš„æ ¸æ–°ä»£ç ï¼Œé¦–å…ˆæˆ‘ä»¬çœ‹ä¸€ä¸‹Bufæ•°æ®æµç¼“å†²åŒºçš„å¤§å°ä¸º(4096ï¼Œæ³¨æ„ä¸€èˆ¬éƒ½æ˜¯1024çš„æ•´æ•°å€ï¼Œè¿™æ ·è¯»å…¥çš„å°±æ˜¯æ•´æ•°ä¸ªå­—èŠ‚äº†)ï¼Œæ‰€ä»¥bufä¸€æ¬¡æ€§æœ€å¤šåªèƒ½è¯»å…¥16ä¸ªå­—èŠ‚ã€‚ç„¶åæˆ‘ä»¬é€šè¿‡

```java
//inæŒ‡å‘äº†è¾“å…¥æµæ–‡ä»¶src.txt
//bufå°±æ˜¯æ•°æ®æµç¼“å†²åŒºï¼Œæ‰®æ¼”å¿«é€’å‘˜èº«ä»½
//lenæ˜¯æœ¬æ¬¡è¯»å…¥çš„æ•°æ®å¤§å°ï¼Œæœªå¿…æ˜¯4096
int len=in.read(buf);
```

æ¥è¿›è¡Œè¾“å…¥æµçš„æ•°æ®è¯»å–ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œèƒ½è¯»æ»¡å°±å°†bufå¡«å……æ»¡ï¼Œå› æ­¤ä¸€èˆ¬æƒ…å†µä¸‹ä¸€æ¬¡æ€§è¯»å…¥äº†16ä¸ªå­—èŠ‚ï¼Œç„¶åå½“len!=-1è¯´æ˜bufè¯»å–äº†æ–°çš„æ•°æ®ï¼Œç„¶åé€šè¿‡

```java
//å°†bufä»0ä½å¼€å§‹çš„é•¿åº¦ä¸ºlenæ•°æ®è¾“å‡ºå†™å…¥è¾“å‡ºæµæ–‡ä»¶ä¸­
out.write(buf,0,len)
```

æˆ‘ä¹ˆéœ€è¦æ³¨æ„ç”±äºbufæ€»æ˜¯ä»ä½ä½å¼€å§‹è¯»å…¥æ•°æ®ï¼Œæ‰€ä»¥æ¯ä¸€æ¬¡æ–°çš„æ•°æ®è‚¯å®šæ˜¯ä»ä½ä½åˆ°é«˜ä½æ’åˆ—çš„ï¼Œå› æ­¤è¾“å‡ºæ•°æ®è¿›è¡Œå†™æ–°æ•°æ®æ—¶æ€»æ˜¯ä»0ä½å¼€å§‹ä¸€ç›´è¾“å‡ºlené•¿åº¦ã€‚å½“æœ€åä¸€æ¬¡è¯»å–æ—¶ï¼Œå¯èƒ½æ•°æ®ä¸å¤Ÿ16ä¸ªå­—èŠ‚äº†ï¼Œä¹Ÿå°±æ˜¯256é•¿äº†ï¼Œé‚£ä¹ˆæ­¤æ—¶lenå°±æ˜¯256äº†ï¼Œæ­¤æ—¶out.write()å°±åªæ˜¯å°†0~255çš„æ•°æ®ï¼ˆå³æœ€åä¸€æ¬¡è¯»å…¥çš„æ–°æ•°æ®ï¼‰å†™è¿›è¾“å‡ºæµæ–‡ä»¶å³å¯ï¼Œç„¶åä¸‹ä¸€æ¬¡in.read()ç”±äºæ²¡æœ‰æ–°æ•°æ®äº†å› æ­¤è¿”è¿˜len=-1é€€å‡ºwhile()å¾ªç¯ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å…³é—­æµäº†ï¼Œè‡ªæ­¤æˆ‘ä»¬é€šè¿‡è¯»å…¥å†™å‡ºæ“ä½œå®Œæˆäº†å¤åˆ¶æ–‡ä»¶æ“ä½œã€‚

æˆ‘ä»¬æ³¨æ„åˆ°åœ¨å¯¹inå’Œoutèµ‹äºˆæ–‡ä»¶æŒ‡å‘æ—¶æ„é€ å‡½æ•°ä½¿ç”¨çš„ä¸æ˜¯InputStreamå’ŒOutputStreamè€Œæ˜¯FileInputStreamå’ŒFileOutStreamï¼Œè¿™é‡Œä¸€å®šè¦æ³¨æ„ï¼Œæ„é€ å‡½æ•°çš„åç§°æ˜¯æœ‰ä¸€ç‚¹ç‚¹ä¸åŒçš„ï¼Œå‰é¢éƒ½è¦åŠ ä¸ŠFileå‰ç¼€ï¼Œè¿˜æœ‰å°±æ˜¯FileOutStreamå¯ä»¥æ¥å—ä¸€ä¸ªbooleanå€¼ï¼Œtrueä»£è¡¨åœ¨æ–‡ä»¶çš„å°¾éƒ¨å†™å…¥æ–°çš„æ•°æ®ï¼Œè€Œfalseæ˜¯ç›´æ¥ç”¨æ–°æ•°æ®è¦†ç›–è¾“å‡ºæµæ–‡ä»¶çš„æ—§æ•°æ®ã€‚

##### æ€è€ƒï¼šå½“æœ€åä¸€æ¬¡è¯»æ•°æ®ä¸º0\~255æ—¶ï¼Œé‚£ä¹ˆbufçš„256~4095å­˜çš„æ˜¯ä»€ä¹ˆï¼Ÿ

åŠ å…¥ç¬¬kæ¬¡çº§æœ€åä¸€æ¬¡è¯»çš„æ•°æ®åªæœ‰256é•¿ï¼Œé‚£ä¹ˆbufçš„0\~255çš„æ—§æ•°æ®ä¼šè¢«æ–°çš„ç¬¬kæ¬¡è¯»å–çš„æ–°æ•°æ®è¦†ç›–ï¼Œå› æ­¤å­˜å‚¨çš„ç¬¬kæ¬¡è¯»å…¥çš„æ–°æ•°æ®ï¼Œè€Œ256\~4096ç”±äºæ²¡æœ‰è¢«è¦†ç›–ï¼Œå› æ­¤å­˜å‚¨çš„è¿˜æ˜¯ä¸Šä¸€æ¬¡ç¬¬k-1æ¬¡çº§å€’æ•°ç¬¬äºŒæ¬¡å†™å…¥çš„æ•°æ®ã€‚ä»ç¬¬kæ¬¡çš„è§†è§’æ¥çœ‹ï¼Œæ­¤æ—¶çš„256~4095å®é™…ä¸Šæ˜¯æ— ç”¨çš„æ•°æ®ï¼Œæ˜¯ä¸èƒ½è¾“å‡ºå†™çš„ï¼Œå› æ­¤å¦‚æœè¯»äº†è¿™éƒ¨åˆ†æ— æ•ˆå†…å®¹çš„æ“ä½œç§°ä¹‹ä¸ºè„è¯»ï¼Œä¸€èˆ¬æ˜¯ç¦æ­¢å‡ºç°çš„ã€‚æˆ‘ä»¬ä¸éš¾çœ‹å‡ºå®é™…ä¸Šbufå¾ˆåƒæ»šåŠ¨æ•°ç»„ï¼Œåªæ˜¯æ¯ä¸€æ¬¡éƒ½æ˜¯ä»æœ€ä½ä½0ä½å¼€å§‹é‡æ–°æ»šåŠ¨è€Œå·²ã€‚

##### ä»€ä¹ˆæ—¶å€™å¯èƒ½ä¼šè§¦å‘è„è¯»ï¼Ÿ

æœ€å…¸å‹çš„å°±æ˜¯å½“æœ€åä¸€æ¬¡bufåªè¯»å…¥äº†256è€Œæœªè¯»æ»¡ï¼Œé‚£ä¹ˆæ­¤æ—¶256~4095å°±æ˜¯è„æ•°æ®ï¼Œå¦‚æœæ­¤æ—¶æˆ‘ä»¬å†™å…¥è¾“å‡ºæµçš„æ–¹æ³•æ˜¯out.write(buf)è€Œä¸æ˜¯out.write(buf,0,len)ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬è„è¯»äº†ï¼Œä¼šå¯¼è‡´æ–‡ä»¶æ•°æ®é”™ä¹±ã€‚

#### Readerç±»

å‰é¢æˆ‘ä»¬è®²çš„éƒ½æ˜¯é’ˆå¯¹äºæ•°æ®æµä¸ºå­—èŠ‚æµçš„å½¢å¼ï¼Œé‚£ä¹ˆä¸‹é¢è¿™ä¸¤ä¸ªå°±æ˜¯ä»¥å­—ç¬¦æµä¸ºå•ä½çš„ã€‚Readerç±»ä¸InputStreamç±»ç›¸ä¼¼ï¼Œéƒ½æ˜¯è¾“å…¥æµï¼Œä½†æ˜¯å·®åˆ«åœ¨äºReaderç±»è¯»å–çš„æ˜¯å­—ç¬¦ï¼ˆchar),è€Œä¸æ˜¯å­—èŠ‚ï¼ˆå®é™…ä¸Šå°±æ˜¯ä¸¤ä¸ªå­—èŠ‚ä¸ºä¸ºå•ä½ï¼‰ã€‚

åŒæ ·çš„ä¹Ÿæœ‰ä¸‰ä¸ªå¸¸ç”¨çš„æ–¹æ³•ï¼š

```java
//æ¯æ¬¡å°±è¯»å…¥ä¸€ä¸ªå­—ç¬¦
public int read();
//æ¯æ¬¡è¯»å…¥ä¸€ä¸ªå­—ç¬¦æ•°ç»„
public int read(char b[]);
public int read(char[] b,int off,int len);
```

#### Writerç±»

Writerç±»å’ŒOutputStreamç±»ç›¸ä¼¼ï¼Œéƒ½æ˜¯è¾“å‡ºæµï¼Œä½†å·®åˆ«åœ¨äºWriterç±»å†™å…¥çš„æ˜¯å­—ç¬¦ï¼ˆchar)ï¼Œè€Œä¸æ˜¯å­—èŠ‚ã€‚Writerç±»çš„æ–¹æ³•æœ‰ç‚¹å¤šï¼š

```java
//å°†å‚æ•°bçš„ä½ä¸¤å­—èŠ‚å†™å…¥åˆ°è¾“å‡ºæµ
//æ³¨æ„æ²¡å†™é”™ï¼Œæ­¤æ—¶ç¼“å†²åŒºç”¨intå°±å¯ä»¥ï¼Œå› æ­¤charæ‰2ä¸ªå­—èŠ‚
//æ‰€ä»¥åªéœ€è¦å–bçš„ä½2å­—èŠ‚å³å¯
public void write(int b);
public void write(char b[]);
public void write(char b[],int off,int len);
//æ˜¾ç„¶å­—ç¬¦æ•°ç»„å¯ä»¥åŒæ ·ç”¨å­—ç¬¦ä¸²æ¥ä»£æ›¿
public void write(String s);
public void write(String s,int off,int len);
```

åŒæ ·çš„Writerç±»ä¹Ÿä¼šæœ‰åˆ·æ–°æ•°æ®æµå’Œå…³é—­æµçš„æ“ä½œï¼š

```java
public void flush();
public void close();
```

##### æ€è€ƒï¼šæ•°æ®æµçš„ç¼“å†²åŒºä¸€èˆ¬å¯ä»¥ç”¨ä»€ä¹ˆæ¥è¡¨ç¤ºï¼Ÿ

è¿™é‡Œæˆ‘ä»¬ä¸éš¾æ€»ç»“å‡ºï¼Œå½“æ¯ä¸€æ¬¡æ˜¯å•ä½å­—èŠ‚æˆ–å•ä½å­—ç¬¦ä¼ é€’æ—¶ä½¿ç”¨intæ˜¯æœ€å¥½çš„ï¼Œè€Œå¯¹äºä¸€æ¬¡ä¼ é€’å¤šä¸ªæ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨bufæ•°ç»„æ¥ä¼ é€’ï¼Œä½†æ˜¯è¦é€‚å½“çš„è°ƒç”¨æ–¹æ³•é¿å…è„è¯»ï¼Œè¿˜æœ‰å°±æ˜¯ç‰¹æ®Šåœ°å­—ç¬¦æ•°ç»„ä¹Ÿå¯ä»¥ä½¿ç”¨Stringã€‚

åŒæ ·æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä½¿ç”¨çš„ä¾‹å­ï¼š

```java
public static void main(String[] args) {
		String s = "";
		try {
            //è¿™é‡Œæˆ‘ä»¬å…ˆå…¨éƒ¨è¯»å…¥
			s = readFile("D:\\course\\course\\code_demo\\src\\ch08\\src.txt");
		} catch (IOException e) {
			e.printStackTrace();
		}

		System.out.println(s);
		try {
            //åœ¨å…¨éƒ¨å†™å‡º
			writeFile("D:\\course\\course\\code_demo\\src\\ch08\\target.txt", s);
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

/**
	 * æ³¨æ„readFileå’ŒreadFile2ç­‰æ•ˆ
	 * 
	 * @param fsrc
	 * @return
	 * @throws IOException
	 */
	public static String readFile(String fsrc) throws IOException {
		// è¿™å¥è¯æ˜¯å¦å¯ä»¥å†™æˆReader reader ;ä¸ºä»€ä¹ˆï¼Ÿ
        //ç­”æ¡ˆæ˜¯ä¸å¯ä»¥ï¼Œå› ä¸ºå±€éƒ¨å˜é‡éœ€è¦åˆå§‹åŒ–ä¸ºnull
		Reader reader = null;
		try {
			reader = new FileReader(fsrc);
			StringBuffer buf = new StringBuffer();
			char[] chars = new char[CHUNK_SIZE];
			int readed = reader.read(chars);
			// ä»ä¸€ä¸ªæµé‡Œé¢è¯»å–å†…å®¹çš„ç»å…¸å†™æ³•
			while (readed != -1) {
				// æ–‡ä»¶æ˜¯sizeä¸èƒ½è¢«CHUNK_SIZEæ•´é™¤ï¼Œæ‰€ä»¥è¦è®°å½•æ¯æ¬¡è¯»åˆ°çš„é•¿åº¦readed
				// å†™å…¥åˆ°bufçš„æ—¶å€™ï¼Œä¸æ˜¯ç”¨çš„ buf.append(chars);
				// è€Œæ˜¯ç”¨buf.append(chars, 0, readed);
                //åŸå› æ˜¯ä¸ºäº†é¿å…è„è¯»
				buf.append(chars, 0, readed);
				readed = reader.read(chars);
			}
            //ä¸€å®šè¦è®°ä½åœ¨è¿™é‡Œå…³é—­è¾“å…¥æµ
            close(reader)
			return buf.toString();
		} finally {
			// reader!=nullçš„åˆ¤æ–­æ˜¯å¦å¯ä»¥å–æ¶ˆï¼Œä¸ºä»€ä¹ˆï¼Ÿ
            //å®é™…ä¸Šè¿™é‡Œä¸èƒ½å®ç°æ­£å¸¸çš„è¾“å…¥æµå…³é—­
            //åŸå› æ˜¯å½“tryæ‰§è¡Œå®Œåå°±returnå‡½æ•°äº†ï¼Œä¸ä¼šæ‰§è¡Œè¿™é‡Œ
            //ä»£ç é€»è¾‘æœ‰Bugä¼šå¯¼è‡´æ— æ³•æ­£å¸¸å…³é—­readerè¾“å…¥æµ
			if (reader != null) {
				reader.close();
			}
		}
	}

/**
	 * ä»ä¸€ä¸ªæ–‡ä»¶ä¸­è¯»å–å­—ç¬¦ä¸²
	 * 
	 * @param fsrc
	 * @return
	 * @throws IOException
	 */
	//è¿™ç§å†™æ³•æ›´å¥½
	public static String readFile2(String fsrc) throws IOException {
        //æ²¡æœ‰Catchè¯­å¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¼‚å¸¸æŠ›ç»™å…¶ä»–å‡½æ•°æ¥å—å¤„ç†
		try (Reader reader = new FileReader(fsrc);) {
			StringBuffer buf = new StringBuffer();
			char[] chars = new char[CHUNK_SIZE];
			int readed = reader.read(chars);
			// ä»ä¸€ä¸ªæµé‡Œé¢è¯»å–å†…å®¹çš„ç»å…¸å†™æ³•
			while (readed != -1) {
				buf.append(chars, 0, readed);
				readed = reader.read(chars);
			}
            //ä¸€å®šè¦è®°ä½å…³é—­è¾“å…¥æµ
            close(reader);
			return buf.toString();
		}
	}


/**
	 * æŠŠå­—ç¬¦ä¸²å†™åˆ°æ–‡ä»¶ä¸­
	 * 
	 * @param fileName
	 * @param content
	 * @throws IOException
	 */
	public static void writeFile(String fileName, String content) throws IOException {
        //æ³¨æ„ï¼ŒåŒæ ·çš„æ„é€ å‡½æ•°æœ‰å‰ç¼€File
        //å¹¶ä¸”æ­¤æ—¶booleanå€¼æ˜¯falseè¯´æ˜æ˜¯è¦†ç›–é‡å†™è¾“å‡ºæµæ–‡ä»¶
		try (OutputStream out = new FileOutputStream(fileName, false)) {
			out.write(content.getBytes());
            //å¥½ä¹ æƒ¯
			out.flush();
            //ä¸€å®šè¦è®°ä½å…³é—­è¾“å‡ºæµ
            close(out);
		}

	}

	/**
	 * å…³é—­è¾“å…¥è¾“å…¥æµ
	 * 
	 * @param inout
	 */
	public static void close(Closeable inout) {
		if (inout != null) {
			try {
				inout.close();
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		}
	}
```

ä¸€å®šè¦æ³¨æ„å­—ç¬¦æµçš„å†™æ³•ä¸­Readerå’ŒWriterçš„æ„é€ å‡½æ•°å‰ç¼€ä¹Ÿè¦åŠ ä¸ŠFileã€‚å¹¶ä¸”è¿˜å‘ç°ç¼“å†²åŒºçš„ä¼ é€’å˜é‡è¿˜å¯ä»¥ä½¿ç”¨StringBufferä»è€Œåšåˆ°ä¸€æ¬¡å…¨éƒ¨è¯»å…¥å’Œä¸€æ¬¡å…¨éƒ¨è¯»å‡ºã€‚

#### å…³äºå…³é—­æµçš„æ—¶é—´èŠ‚ç‚¹

æˆ‘ä»¬è§‚å¯Ÿä¸Šé¢çš„ä¸¤ä¸ªä¾‹å­ï¼Œå‘ç°æ­£å¸¸å…³é—­è¾“å…¥å’Œè¾“å‡ºæµæ–‡ä»¶å¾ˆé‡è¦ï¼Œå½“åœ¨æŸäº›ä¸åˆé€‚çš„åœ°æ–¹å†™å…³é—­æµä¼šé€ æˆæ— æ³•æ­£å¸¸å…³é—­çš„æƒ…å†µï¼ˆæ¯”å¦‚ä¸Šé¢çš„finnalyè¯­å¥ä¸­çš„å…³é—­readeræ°¸è¿œæ‰§è¡Œä¸åˆ°ï¼‰ã€‚å› æ­¤æˆ‘ä»¬è¿™é‡Œè§„å®šï¼š

- è¾“å…¥å’Œè¾“å‡ºæµå¿…é¡»å®ç°Closableæ¥å£
- å¿…é¡»åœ¨tryé‡Œé¢ç”³è¯·è¾“å…¥å’Œè¾“å‡ºæµåŒæ—¶ç»“æŸåè¦è®°ä½å…³é—­æµ

#### èŠ‚ç‚¹æµå’Œå¤„ç†æµ

æŒ‰ç…§æµæ˜¯å¦ç›´æ¥ä¸ç‰¹å®šçš„åœ°æ–¹ï¼ˆå¦‚ç£ç›˜ï¼Œå†…å­˜ï¼Œè®¾å¤‡ç­‰ï¼‰ç›¸è¿ï¼Œåˆ†ä¸ºèŠ‚ç‚¹æµå’Œå¤„ç†æµä¸¤ç±»ã€‚

- èŠ‚ç‚¹æµï¼ˆNode Stream)ï¼šå¯ä»¥ä»æˆ–å‘ä¸€ä¸ªç‰¹å®šçš„åœ°æ–¹ï¼ˆèŠ‚ç‚¹ï¼‰è¯»å†™æ•°æ®ï¼Œå¦‚æ–‡ä»¶æµFIileReaderã€‚
- å¤„ç†æµï¼ˆProcessing Stream)ï¼šæ˜¯å¯¹ä¸€ä¸ªå·²å­˜åœ¨çš„æµçš„é“¾æ¥å’Œå°è£…ï¼Œé€šè¿‡æ‰€å°è£…çš„æµçš„åŠŸèƒ½è°ƒç”¨å®ç°æ•°æ®è¯»ã€å†™åŠŸèƒ½ã€‚å¤„ç†æµåˆç§°ä¸ºè¿‡æ»¤æµï¼Œå¦‚ç¼“å†²å¤„ç†æµBufferedReaderã€‚

æ‰€ä»¥æˆ‘ä»¬çŸ¥é“å¤„ç†æµå®é™…ä¸Šå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°å®šä¹‰çš„æµï¼Œåªæ˜¯å¯¹äºä¸€ä¸ªå·²ç»å­˜åœ¨çš„æµçš„å°è£…ã€‚èŠ‚ç‚¹æµå’Œå¤„ç†æµçš„å…³ç³»å¦‚ä¸‹ï¼š

![](https://gitee.com/Langwenchong/figure-bed/raw/master/20210404165634.png)

èŠ‚ç‚¹æµæ˜¯ç›´æ¥å¯ä»¥æ¥æ”¶æ•°æ®helloworld(ä¸Šå›¾ä¸­ä¸éš¾çœ‹å‡ºæ˜¯å­—ç¬¦æµ)ï¼Œä½†æ˜¯å¤„ç†æµï¼Œç¡®å®å°†è¿™ä¸ªèŠ‚ç‚¹æµå°è£…äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨æ—¶éœ€è¦è°ƒç”¨å°è£…å¥½çš„readLine()æ‰èƒ½ä½¿ç”¨è¿™ä¸ªèŠ‚ç‚¹æµçš„read()ã€‚æ‰€ä»¥èŠ‚ç‚¹æµä¸èŠ‚ç‚¹ï¼ˆæˆ–æ–‡ä»¶ï¼‰ç›´æ¥ç›¸è¿ï¼Œè€Œå¤„ç†æµå¯¹èŠ‚ç‚¹æµæˆ–å…¶ä»–å¤„ç†æµè¿›ä¸€æ­¥è¿›è¡Œå¤„ç†ï¼ˆå¦‚ç¼“å†²ä»¥å¹³è¡¡è¯»å†™é€Ÿåº¦ï¼Œå°è£…æˆå¯¹è±¡æ–¹ä¾¿ä½¿ç”¨ç­‰ç­‰ï¼‰ï¼Œæ€»ä¹‹å¤„ç†æµæ˜¯æœ‰å¿…è¦çš„ã€‚

æ‰€ä»¥å¤„ç†æµçš„æ„é€ æ–¹æ³•è‚¯å®šæ˜¯éœ€è¦ä¼ è¿›ä¸€ä¸ªå…¶ä»–çš„æµï¼ˆæ³¨æ„æ˜¯å…¶ä»–çš„æµï¼Œä¹Ÿå°±æ˜¯è¯´æ—¢å¯ä»¥æ˜¯èŠ‚ç‚¹æµï¼Œä¹Ÿå¯ä»¥æ˜¯å¤„ç†æµï¼‰ä½œä¸ºå‚æ•°ã€‚å¦‚ï¼š

```java
//ç›´æ¥å°è£…èŠ‚ç‚¹æµFileReader
BufferedReader in=new BufferedReader(new FileReader(file));
//å°è£…äº†ä¸€ä¸ªå¤„ç†æµInputstReadraeder
//å¤„ç†æµInputstReadraederæœ‰å°è£…äº†èŠ‚ç‚¹æµFileReader
BufferedReader in2=new BufferedReader(InputstReamreader(new FileInputStream(file)));
```

å½“ä¸€ä¸ªæµå¯¹è±¡ç»è¿‡å…¶ä»–æµçš„å¤šæ¬¡åŒ…è£…ï¼Œé‚£ä¹ˆå°±æˆä¸ºæµçš„é“¾æ¥ã€‚

å¸¸ç”¨çš„èŠ‚ç‚¹æµæœ‰ï¼š

![](https://gitee.com/Langwenchong/figure-bed/raw/master/20210404170331.png)

å¸¸ç”¨çš„å¤„ç†æµæœ‰ï¼š

![](https://gitee.com/Langwenchong/figure-bed/raw/master/20210404170359.png)

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹èŠ‚ç‚¹æµçš„æ„é€ æ–¹æ³•ï¼š

```java
public class NodeStreamVSProcessingStream {

	public static void main(String[] args) {
		try {
			// èŠ‚ç‚¹æµ å¯ä»¥ç›´æ¥æ ¹æ®ä¸€ä¸ªç›®æ ‡æ„é€  
			FileInputStream fin = new FileInputStream("D:/temp/1.txt");
			FileOutputStream fout = new FileOutputStream("D:/temp/1.txt");
			ByteArrayInputStream bin = new ByteArrayInputStream("hellow".getBytes());
			FileReader freader = new FileReader("D:/temp/1.txt");
			FileWriter fwriter = new FileWriter("D:/temp/1.txt");
			// å¤„ç†æµå¿…é¡»ä¾æ‰˜å·²ç»å­˜åœ¨çš„æµæ„é€ ï¼Œä¸€èˆ¬ä½œç”¨æ˜¯å¯¹å·²æœ‰æµåšä¸€äº›åŠŸèƒ½ä¸Šçš„å¢å¼º
			ObjectInputStream oin = new ObjectInputStream(fin);
			ObjectOutputStream oout = new ObjectOutputStream(fout);
			LineNumberReader lin=new LineNumberReader(freader);
			//è¿™é‡Œçš„ä»£ç ä¸è§„èŒƒï¼Œæµæ‰“å¼€äº†æ²¡æœ‰å…³é—­,è®°å¾—å…³é—­
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

}
```

å®é™…ä¸Šå°±å’Œå‰é¢å­¦ä¹ çš„å·®ä¸å¤šï¼Œå› ä¸ºä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬éƒ½æ˜¯ç›´æ¥å¯¹ä¸€ä¸ªæ–‡ä»¶èŠ‚ç‚¹è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥ä¸€èˆ¬æˆ‘ä»¬æ„é€ çš„éƒ½æ˜¯èŠ‚ç‚¹æµå¯¹è±¡ï¼Œå½“ç„¶å¤„ç†æµçš„ä½¿ç”¨ä¹Ÿå¾ˆé‡è¦ã€‚æ¯”å¦‚ï¼š

```java
public static void main(String[] args) {

		try {
            //åˆ—è¡¨çš„ä½¿ç”¨ï¼Œä½¿ç”¨æ³›å‹å¢å¼ºä»£ç å¥å£®æ€§
			List<String> lines = readLines("D:\\course\\course\\code_demo\\src\\ch08\\XiaoHe.ini");
            //è¿­ä»£å™¨ç®€å†™å½¢å¼
			for (String line : lines) {
				System.out.println(line);
			}
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	/**
	 * ä»ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œä¸€æ¬¡è¯»å–ä¸€è¡Œï¼Œæ”¾åˆ°listä¸­
	 * 
	 * @param fsrc
	 * @return
	 * @throws IOException
	 */
	public static List<String> readLines(String fsrc) throws IOException {
		try (Reader reader = new FileReader(fsrc); 
				//LineNumberReader å¿…é¡»åœ¨å…¶ä»–æµåŸºç¡€ä¸Šæ„å»º
             //è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„å®é™…ä¸Šæ˜¯LineNumberReader
             //ä½†æ˜¯é¦–å…ˆéœ€è¦æœ‰ä¸€ä¸ªèŠ‚ç‚¹æµ
				LineNumberReader lineReader = new LineNumberReader(reader);) {
			String line = "";
			List<String> lines = new ArrayList<String>();
			while (line != null) {
				lines.add(line);
				//æ¯æ¬¡è¯»å–ä¸€è¡Œ
				line = lineReader.readLine();
			}
            //è®°å¾—å…³é—­è¾“å…¥æµ
            reader.close();
			return lines;
		}
	}
```

ä¸Šé¢å°±æ˜¯ä¸€ä¸ªå¤„ç†æµçš„æŒ‰è¡Œè¯»å…¥çš„æ–¹æ³•ï¼Œä»–çš„åŠŸèƒ½æ˜¯æŒ‰txtæ–‡ä»¶çš„è¡Œè¯»å–æ•°æ®ï¼Œæ¯ä¸€æ¬¡åªè¯»ä¸€è¡Œæ•°æ®ï¼Œé€‚ç”¨è¯»å–å­˜å‚¨çš„æ˜¯åˆ—è¡¨å½¢å¼æ•°æ®çš„txtæ–‡ä»¶ã€‚æˆ‘ä»¬å½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©è¿˜æ˜¯ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ä½¿ç”¨StringBufferä¸€æ¬¡æ€§è¯»å…¥æ‰€æœ‰è¡Œçš„å†…å®¹ï¼Œç„¶åå†ä½¿ç”¨split()åˆ†å‰²è·å¾—æ¯ä¸€è¡Œçš„æ•°æ®ï¼Œä½†æ˜¯è¦æ³¨æ„æ­¤æ—¶çš„åˆ‡å‰²åº”è¯¥æ˜¯æŒ‰ç…§ä¸¤ä¸ªå­—ç¬¦åˆ‡å‰²ï¼šæ˜¯å›è½¦\rå’Œæ¢è¡Œ\nï¼Œå°ç»†èŠ‚è¦æ³¨æ„ï¼Œæ‰€ä»¥æœ€ç»ˆåº”è¯¥ä½¿ç”¨split("[\r,\n]")æ¥å®ç°ã€‚å› æ­¤æŒ‰è¡Œè¯»å…¥è¿˜æ˜¯ä½¿ç”¨å¤„ç†æµçš„readline()æ–¹æ³•æ›´å¥½ã€‚ä¾‹å¦‚ï¼š

```java
//è¿™æ˜¯ä¸€ä¸ªå·²ç»å°è£…äº†æŒ‰è¡Œè¯»å…¥çš„å¤„ç†æµï¼Œç›´æ¥ä½¿ç”¨å³å¯
BufferedReader in = new BufferedReader(new FileReader(fileName));
String line;
//ä¸€æ¬¡åªè¯»ä¸€è¡Œ
while ((line = in.readLine()) != null){
    //å¯¹æ¯ä¸€è¡Œè¯»å…¥çš„æ•°æ®çš„æ“ä½œ
}
```

#### Systemçš„æ ‡å‡†è¾“å…¥å’Œè¾“å‡º

æˆ‘ä»¬ç»å¸¸ç”¨çš„Systemçš„è¾“å…¥è¾“å‡ºæ–¹æ³•å®é™…ä¸Šä¹Ÿæ˜¯è¾“å…¥è¾“å‡ºæµçš„ä½¿ç”¨ï¼ŒSystem.outå®é™…ä¸Šæ˜¯PrintStreamç±»å‹ï¼Œè€ŒSystem.inæ˜¯InputStreamç±»å‹ï¼ŒSystem.errï¼ˆSystem.erræ˜¯æ ‡å‡†é”™è¯¯è¾“å‡º,ä¹Ÿæ˜¯è¾“å‡ºçš„ä¸€ç§ç±»å‹ï¼‰æ˜¯PrintStreamç±»å‹ã€‚å› æ­¤éƒ½æ˜¯å­—èŠ‚æµã€‚

System.out/System.errçš„println/printæ–¹æ³•ä¸­printlnæ˜¯å°†å‚æ•°è¾“å‡ºå¹¶æ¢è¡Œï¼Œè€Œprintæ˜¯å°†æ–¹æ³•å‚æ•°è¾“å‡ºä½†ä¸æ¢è¡Œã€‚printå’Œprintlnæ–¹æ³•é’ˆå¯¹å¤šæ•°æ•°æ®ç±»å‹éƒ½è¿›è¡Œäº†é‡å†™ï¼Œä¾‹å¦‚Boolean,char,int,long,float,doubleä»¥åŠchar[],Objectå’ŒStringç­‰ã€‚print(Object)å’Œprintln(Object)æ–¹æ³•ä¸­è°ƒç”¨äº†å‚æ•°çš„toString()æ–¹æ³•ï¼Œå†å°†ç”Ÿæˆçš„å­—ç¬¦ä¸²è¾“å‡ºã€‚

ä¸ºäº†ä½¿ç”¨æ–¹ä¾¿ï¼Œä¸€èˆ¬ä¼šå°†æ ‡å‡†è¯»å…¥æ•°æ®çš„System.inç”¨å„ç§å¤„ç†æµè¿›è¡Œå°è£…ï¼Œæ¯”å¦‚ï¼š

```java
BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
br.readLine();//å®ç°æŒ‰è¡Œè¯»å…¥
```

#### æ–‡ä»¶çš„éšæœºè®¿é—®RandomAccessFileç±»

RandomAccessFileï¼Œå¯ä»¥å®ç°å¯¹æ–‡ä»¶çš„éšæœºè¯»å†™æ“ä½œï¼Œæ¯”å¦‚ï¼š

```java
//å®ä¾‹åŒ–ä¸€ä¸ªéšæœºè®¿é—®å¯¹è±¡ï¼Œmodeæ˜¯å¯é€‰é€‰é¡¹
RandomAccessFile(String name,String mode);
RandomAccessFile(File f,String mode);
```

è€Œå¸¸ç”¨çš„è®¿é—®æ–¹å¼æœ‰ï¼š

|   æ–¹æ³•åå’Œè¿”å›ç±»å‹    |                  è¯´æ˜                   |
| :-------------------: | :-------------------------------------: |
| boolean readBoolean() |       ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ª boolean å€¼       |
|    byte readByte()    |     ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå¸¦ç¬¦å·ä½çš„å­—èŠ‚      |
|    char readChar()    |          ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦           |
|     int readlnt()     |     ä»æ–‡ä»¶ä¸­è¯»å–ä¸€ä¸ªå¸¦ç¬¦å·ä½çš„æ•´æ•°      |
|   String readLine()   |         ä»æ–‡ä»¶ä¸­è¯»å–ä¸‹ä¸€è¡Œæ–‡æœ¬          |
|  void seek(long pos)  |   æŒ‡å®šä»æ–‡ä»¶èµ·å§‹ä½ç½®å¼€å§‹çš„æŒ‡é’ˆåç§»é‡    |
| void writeByte(int v) | ä»¥å•å­—èŠ‚çš„å½¢å¼å‘æ–‡ä»¶ä¸­å†™å…¥ä¸€ä¸ª byte å€¼  |
| void writeChar(int v) | ä»¥åŒå­—èŠ‚çš„å½¢å¼å‘æ–‡ä»¶ä¸­å†™å…¥ä¸€ä¸ª char å€¼  |
| void skipBytes(int n) | ä»¥å½“å‰æ–‡ä»¶æŒ‡é’ˆä½ç½®ä¸ºèµ·å§‹ç‚¹ï¼Œè·³è¿‡ n å­—èŠ‚ |

#### å‘½ä»¤è¡Œå‚æ•°

æˆ‘ä»¬åœ¨å¯åŠ¨javaåº”ç”¨ç¨‹åºæ—¶å¯ä»¥ä¸€æ¬¡æ€§çš„é¡¹åº”ç”¨ç¨‹åºä¸­ä¼ é€’å¤šä¸ªå‚æ•°ï¼Œè¿™äº›å‚æ•°ç§°ä¸ºå‘½ä»¤å‚æ•°ã€‚å…¶æ ¼å¼å¦‚ä¸‹ï¼š

```java
java ClassName lis "bily" "Mr.Brown"
```

æœ€ç»ˆå‘½ä»¤è¡Œå‚æ•°ä¼šè¢«ç³»ç»Ÿä»¥Stringæ•°ç»„çš„æ–¹å¼ä¼ é€’ç»™åº”ç”¨ç¨‹åºä¸­çš„mainæ–¹æ³•ï¼Œç”±å‚æ•°argsæ¥æ¥æ”¶ã€‚æ‰€ä»¥mainå‡½æ•°çš„æ¥æ”¶å‚æ•°ç±»å‹æ˜¯ï¼š

```java
public static void main(String[] args);
```

å› æ­¤ä¸Šé¢çš„ä»£ç æ‰§è¡Œå®Œæˆåå°±ä¼šåœ¨mainçš„args[]ä¸­å­˜å‚¨äº†è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²åç§°ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è°ƒç”¨args[0]æˆ–è€…args[1]æ¥è·å–ä¼ è¿›æ¥çš„å‚æ•°ã€‚

#### æ­£åˆ™è¡¨è¾¾å¼

æ­£åˆ™è¡¨è¾¾å¼æ˜¯æ–‡æœ¬å¤„ç†çš„å¸¸ç”¨å·¥å…·ï¼Œä»–å¯ä»¥ç”¨æ¥åŒ¹é…ç¬¦åˆæ¡ä»¶çš„å­—ç¬¦ä¸²æ–‡æœ¬ã€‚è§„åˆ™æ˜¯ï¼š

| å­—ç¬¦  |         å«ä¹‰         |                             æè¿°                             |
| :---: | :------------------: | :----------------------------------------------------------: |
|   .   | ä»£è¡¨ä¸€ä¸ªå­—ç¬¦çš„é€šé…ç¬¦ |                èƒ½å’Œå›è½¦ç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ç›¸åŒ¹é…                |
|  []   |        å­—ç¬¦é›†        | èƒ½å’Œæ‹¬å·å†…çš„ä»»ä½•ä¸€ä¸ªå­—ç¬¦ç›¸åŒ¹é…ã€‚æ–¹æ‹¬å·å†…ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸€ä¸ªèŒƒå›´ï¼Œç”¨"-"ç¬¦å·å°†èµ·å§‹å’Œæœ«å°¾å­—ç¬¦åŒºåˆ†å¼€æ¥ï¼Œä¾‹å¦‚[0-9]åŒ¹é…çš„å°±æ˜¯ä»»æ„ä¸€ä¸ª0-9çš„å­—ç¬¦ |
| \[^\] |     æ’æ–¥æ€§å­—ç¬¦é›†     |                    å’Œé›†åˆå¤–çš„ä»»æ„å­—ç¬¦åŒ¹é…                    |
|   ^   |       èµ·å§‹ä½ç½®       |                 å®šä½åˆ°ä¸€è¡Œçš„èµ·å§‹å¤„å¹¶å‘ååŒ¹é…                 |
|   $   |       ç»“æŸä½ç½®       |                 å®šä½åˆ°ä¸€è¡Œçš„ç»“å°¾å¤„å¹¶å‘å‰åŒ¹é…                 |
|  ()   |          ç»„          |                     æŒ‰ç…§å­è¡¨è¾¾å¼è¿›è¡Œåˆ†ç»„                     |
|   â–   |          æˆ–          |                æˆ–å…³ç³»çš„é€»è¾‘ï¼Œé€šå¸¸å’Œç»„ç»“åˆä½¿ç”¨                |
|  \\   |         è½¬ä¹‰         | åŒ¹é…åæ–œçº¿ç¬¦å·ä¹‹åçš„å­—ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥åŒ¹é…ä¸€äº›ç‰¹æ®Šç¬¦å·ï¼Œä¾‹å¦‚$å’Œâ– |
|   *   |      é›¶ä¸ªæˆ–å¤šä¸ª      |              åŒ¹é…è¡¨è¾¾å¼é¦–é¡¹å­—ç¬¦çš„é›¶ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬              |
|   +   |      ä¸€ä¸ªæˆ–å¤šä¸ª      |              åŒ¹é…è¡¨è¾¾å¼é¦–ç›¸å­—ç¬¦çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬              |
|   ?   |      é›¶ä¸ªæˆ–ä¸€ä¸ª      |              åŒ¹é…è¡¨è¾¾å¼é¦–é¡¹å­—ç¬¦çš„ä¸€ä¸ªæˆ–é›¶ä¸ªå‰¯æœ¬              |
|   n   |         é‡å¤         |                 åŒ¹é…è¡¨è¾¾å¼é¦–ç›¸å­—ç¬¦çš„nä¸ªå‰¯æœ¬                  |

å…¶ä¸­è¿˜æœ‰å‡ ä¸ªç®€å†™å½¢å¼ï¼š

```
\dè¡¨ç¤ºæ•°å­—ï¼Œç›¸å½“äº[0-9]
\Dè¡¨ç¤ºéæ•°å­—ï¼Œç›¸å½“äº[^0-9]
\sè¡¨ç¤ºç©ºç™½ç¬¦ï¼Œç›¸å½“äº[\t\n\x0B\f\r]
\Sè¡¨ç¤ºéç©ºç™½ç¬¦ï¼Œç›¸å½“äº[^\s]
\wè¡¨ç¤ºå•è¯å­—ç¬¦ï¼Œç›¸å½“äº[a-zA-Z_0-9]
\Wè¡¨ç¤ºéå•è¯å­—ç¬¦ï¼Œç›¸å½“äº[^\w]
```

```java
public class RegExpDemo {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		
		findEmail( );
		testTels();
		splitContent();
	}

	public static void testTels( ) {
		testTel("13820477575");
		testTel("123456");
	}
	private static void testTel(String content) {
        //åŒ¹é…è§„åˆ™æ˜¯11ä¸ºçš„0-9æ•°å­—
		boolean match=content.matches("[0-9]{11}");
		System.out.println(content +(match?" ":" ä¸")+"æ˜¯åˆæ³•çš„ç”µè¯å·ç ");
	}

	public static void findEmail( ) {
		String content = "å¤©å¤–å¤©æŠ€æœ¯æ”¯æŒï¼šcs@tju.edu.cn  è”ç³»æˆ‘ä»¬ï¼š1234567890@qq.com åœ°å€ï¼šå¤©æ´¥å¸‚å—å¼€åŒº";
        //åŒ¹é…è§„åˆ™æ˜¯è‹¥å¹²ä¸ªå­—ç¬¦+@+è‹¥å¹²ä¸ªå­—ç¬¦+.+è‹¥å¹²ä¸ªå­—ç¬¦
		String telReg = "\\w+@\\w+.[\\w+]+";
		Pattern telPattern = Pattern.compile(telReg);

		Matcher m = telPattern.matcher(content);
		while (m.find()) {
			System.out.println(m.group(0));
		}
	}
	public static void splitContent() {
		String content=" ç¬¬ä¸€å› ç”„å£«éšæ¢¦å¹»è¯†é€šçµ è´¾é›¨æ‘é£å°˜æ€€é—ºç§€ ... ç¬¬äºŒå› è´¾å¤«äººä»™é€æ‰¬å·åŸ å†·å­å…´æ¼”è¯´è£å›½åºœ ... ç¬¬ä¸‰å› æ‰˜å†…å…„å¦‚æµ·é…¬è®­æ•™ æ¥å¤–å­™è´¾æ¯æƒœå­¤å¥³ ....";
        //åŒ¹é…è§„åˆ™æ˜¯ä»»æ„çš„æ•°ç»„å†…çš„1-3ä¸ªå­—ç¬¦çš„ç»„åˆå½¢æˆçš„ç« å›æ•°
		String contents[] = content.split("ç¬¬[ä¸€,äºŒ,ä¸‰,å››,äº”,å…­,ä¸ƒ,å…«,ä¹,å,é›¶]{1,3}å› ");
		for(String title:contents) {
			System.out.println(title);
		}
	}
}

```
