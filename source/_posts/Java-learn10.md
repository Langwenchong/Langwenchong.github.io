---
title: Javaå­¦ä¹ ç¬”è®°-ç¬¬åè®²
comments: false
top: false
date: 2021-03-31 16:25:11
tags: [java]
categories: 
	- [ä¸ªäººç¬”è®°,JavaåŸºç¡€]
---

è®°å½•ç¿€ç¿€ğŸ§å­¦ä¹ Javaé¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡çš„æ ¸å¿ƒç¬”è®°ä¸æ€è€ƒï¼ŒåŠªåŠ›å­¦ä¹ çš„è¿‡ç¨‹ï¼Œå°±åƒåœ¨é»‘å±‹å­é‡Œæ´—è¡£æœï¼Œä½ ä¸çŸ¥é“æ´—å¹²å‡€æ²¡æœ‰ï¼Œåªèƒ½ä¸€éä¸€éå°½åŠ›å»æ´—ï¼Œç­‰åˆ°äº†è€ƒåœºä¸Šé‚£ä¸€åˆ»ï¼Œç¯å…‰äº®äº†ï¼Œä½ ä¼šå‘ç°ï¼Œåªè¦è®¤çœŸæ´—è¿‡ï¼Œé‚£ä»¶è¡£æœå°±ä¼šå…‰äº®å¦‚æ–°ï¼Œæ„¿ä½ æˆ‘éƒ½èƒ½å¤ŸåšæŒå­¦ä¹ ã€‚

<!-- more -->

#### è‡ªå®šä¹‰Comparatorçš„ä½¿ç”¨

åœ¨Javaä¸­æœ‰ä¸€ä¸ªComparatorç±»å¯ä»¥ç”¨äºå¯¹set,listç­‰è¿›è¡Œæ’åºï¼Œä»–è°ƒç”¨compare(x,y)æ–¹æ³•æ¥å¯¹setå’Œlistä¸­çš„å…ƒç´ è¿›è¡Œå¤§å°æ¯”è¾ƒï¼Œæ¯”å¦‚ï¼š

![](https://langwenchong.gitee.io/figure-bed/20210403154156.png)

æˆ‘ä»¬è°ƒç”¨Collection.sortæ–¹æ³•å¯¹listè¿›è¡Œæ’åºï¼Œç”±äºlistæˆ‘ä»¬å­˜å‚¨çš„æ˜¯é”®å€¼å¯¹ï¼Œå› æ­¤ä¸æ˜¯é»˜è®¤å®ç°Comparableçš„å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±å®šä¹‰ä¸€ä¸ªé’ˆå¯¹äºé”®å€¼å¯¹çš„æ’åºæ–¹æ³•ï¼Œå› æ­¤å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„Comparatorç±»çš„å®ä¾‹å¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬é‡å†™è¿™ä¸ªå¯¹è±¡çš„æ¯”è¾ƒæ–¹æ³•compareï¼Œè¿™é‡Œæˆ‘ä»¬å®ç°çš„æ˜¯ä»å¤§åˆ°å°æ’åºã€‚

åœ¨java.util.Comparator\<Type\>æ¥å£æä¾›çš„å…·ä½“æ’åºæ–¹æ³•ï¼Œ\<Type\>æŒ‡å®šè¢«æ¯”è¾ƒå¯¹è±¡çš„ç±»å‹ï¼ŒComparatoræœ‰ä¸ªcompareï¼ˆType x,Type y)æ–¹æ³•ï¼Œç”¨äºæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¤§å°ã€‚

compare(x,y)çš„è¿”å›å€¼æœ‰ä¸‰ç§æƒ…å†µï¼š

- è¿”å›å€¼ä¸º0ï¼Œé‚£ä¹ˆå°±æ˜¯x=y
- è¿”å›å€¼ä¸º<0ï¼Œé‚£ä¹ˆx<y
- è¿”å›å€¼>0ï¼Œé‚£ä¹ˆx>y

åªæœ‰å½“è¿”è¿˜çš„æ˜¯>0çš„å€¼æ—¶æ‰ä¼šäº¤æ¢xå’Œyçš„ä½ç½®ã€‚

æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ä¸Šé¢çš„æ–¹æ³•æ˜¯å¦‚ä½•å®ç°ä»å¤§åˆ°å°é™åºæ’åºçš„ã€‚æ­£å¸¸æ¥è®²ï¼Œé»˜è®¤çš„é”®å€¼å¯¹æ¯”è¾ƒæ–¹æ³•åº”è¯¥æ˜¯

```java
Collections.sort(list, new Comparator<Map.Entry<Character, Integer>>() {
    //æ¯”è¾ƒarg0å’Œarg1
			public int compare(Map.Entry<Character, Integer> arg0, Map.Entry<Character, Integer> arg1) {
                //æ­¤æ—¶arg0-arg1çš„è¿”å›å€¼è¡¨ç¤ºarg0å’Œarg1çš„å¤§å°å…³ç³»
				return arg0.getValue() - arg1.getValue();
			}
		});
```

å¾ˆæ˜¾ç„¶ï¼Œæ­¤æ—¶æ˜¯é»˜è®¤çš„å‡åºï¼Œå½“arg0çš„å€¼å°äºarg1çš„å€¼æ—¶ï¼Œé‚£ä¹ˆè¿”è¿˜çš„arg0.getValue() - arg1.getValue()ç¡®å®æ˜¯<0çš„ï¼Œå½“arg0çš„å€¼å¤§äºarg1çš„å€¼æ—¶ï¼Œé‚£ä¹ˆè¿”è¿˜çš„rg0.getValue() - arg1.getValue()ç¡®å®æ˜¯>0çš„ã€‚å› æ­¤ä¼šå®ç°å‡åºçš„æ’åºæ–¹æ³•ï¼Œä½†æ˜¯å½“æˆ‘ä»¬é‡å†™compareæ–¹æ³•å¦‚ä¸‹ï¼š

```java
Collections.sort(list, new Comparator<Map.Entry<Character, Integer>>() {
    //æ¯”è¾ƒarg0å’Œarg1
			public int compare(Map.Entry<Character, Integer> arg0, Map.Entry<Character, Integer> arg1) {
                //æ­¤æ—¶arg1-arg0çš„è¿”å›å€¼è¡¨ç¤ºarg0å’Œarg1çš„å¤§å°å…³ç³»
				return arg0.getValue() - arg1.getValue();
			}
		});
```

é‚£ä¹ˆæ­¤æ—¶å°±æ˜¯é™åºçš„äº†ï¼Œå› ä¸ºæ­¤æ—¶å½“arg0<arg1æ—¶ï¼Œè¿”è¿˜çš„arg1.getValue() - arg0.getValue()æ˜¯>0ï¼Œå› æ­¤ä¼šäº¤æ¢arg0å’Œarg1çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´å¤§çš„å€¼ä¼šæ’åœ¨å‰é¢ï¼Œå› æ­¤æ­¤æ—¶å°±æ˜¯é™åºæ’åºäº†ï¼Œå·®ä¸€ç‚¹åªä¸è¿‡æ˜¯äº¤æ¢äº†ä¸€ä¸‹returnçš„è®¡ç®—å…¬å¼çš„å‚æ•°ã€‚

{% note info, 

æ³¨æ„Entryè¡¨ç¤ºçš„æ˜¯é”®å€¼å¯¹ç±»å‹ï¼Œé€šè¿‡é‡å†™compareå‡½æ•°å’ŒComparatoræ˜¯å¯¹å¯¹è±¡çš„æ’åºï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å®ç°å¯¹ä»»æ„ä¸€ä¸ªsetï¼Œæˆ–è€…listæˆ–è€…mapç­‰æ•°æ®ç»“æ„çš„æ’åºã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„æ­¤æ—¶æˆ‘ä»¬è¦å£°æ˜æ³›å‹æ¥å®šä¹‰ä¼ è¿›çš„å‚æ•°ç±»å‹ã€‚

%} 

å½“ç„¶å¦‚æœé›†åˆä¸‹çš„å…ƒç´ å®ç°äº†comparableæ¥å£ï¼Œé‚£ä¹ˆå¯ä»¥ç›´æ¥ä½¿ç”¨compareTo()æ¥è¿›è¡Œæ’åºï¼Œæˆ‘ä»¬å‡è®¾è¿™é‡Œçš„studentç±»è¿˜æ˜¯é‡å†™äº†equals(),hashCode()å’ŒcompareTo():

```java
//ä¸€å®šè¦è®°ä½æ­¤æ—¶çš„studentç±»é‡å†™äº†ä»¥ä¸‹æ–¹æ³•
@Override
	public int compareTo(Object o) {
		// TODO Auto-generated method stub
		if (o instanceof Student) {
			Student that = (Student) o;
            //é‡æ–°ä¿®æ”¹ä¸ºæ¯”è¾ƒå¯¹è±¡çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²æˆå‘˜å˜é‡çš„compareTo
			return this.id.compareTo(that.id);
		} else {
			return -1;
		}

	}

	@Override
	public int hashCode() {
		// TODO Auto-generated method stub
		//é‡å†™ä¸ºæ¯”è¾ƒidçš„hashCodeï¼Œå› æ­¤ç›¸åŒidçš„å¯¹è±¡hashcodeä¼šç›¸åŒ
		return id.hashCode();
		// return name.hashCode();
		//return 0;
	}

	@Override
	public boolean equals(Object obj) {
		// TODO Auto-generated method stub
		if (obj instanceof Student) {
			Student that = (Student) obj;
            //ä¿®æ”¹ä¸ºæ¯”è¾ƒç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡idçš„å¼•ç”¨
			return that.id == this.id;
		} else {
			return false;
		}

	}
```

![](https://langwenchong.gitee.io/figure-bed/20210403155715.png)

æ­¤æ—¶æˆ‘ä»¬è°ƒç”¨çš„å°±æ˜¯list.sortå‡½æ•°æ¥å®ç°æ’åºï¼Œç”±äºlist.sortæ˜¯ä½¿ç”¨compareTo()æ–¹æ³•å¯¹å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä¸”æˆ‘ä»¬é‡å†™äº†compareTo()æ˜¯æ¯”è¾ƒidçš„å¼•ç”¨å­˜å‚¨å•å…ƒæ˜¯å¦ç›¸åŒï¼Œå› æ­¤æ­¤æ—¶ä¼šæŒ‰ç…§idçš„å‡åºæ’åºå¦‚ä¸Šå›¾ç»“æœã€‚

å½“ç„¶å¯¹äºTreeSeté›†åˆç±»åœ¨æ’å…¥æ—¶å³å¯è‡ªåŠ¨ç›´æ¥ä½¿ç”¨compareTo()è¿›è¡Œæ’åºï¼š

![](https://langwenchong.gitee.io/figure-bed/20210403160358.png)

å®é™…ä¸Šä¸Šé¢çš„æ’åºæ–¹æ³•å°±æ˜¯é»˜è®¤è°ƒç”¨äº†comparableä¸‹çš„compareToæ–¹æ³•è¿›è¡Œäº†è‡ªç„¶æ’åºè§„åˆ™çš„æ’å…¥ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸€ä¸‹æ’åºçš„æ–¹æ³•ï¼š

1. å¦‚æœå¯¹è±¡å®ç°äº†comparableæ¥å£ï¼Œé‚£ä¹ˆå°±å¯ä»¥ç›´æ¥ä½¿ç”¨compareToæ–¹æ³•è¿›è¡Œæ’åº

   ```java
   public interface Comparable<T>{
   	public int compareTo(T obj);
   }
   ```

2. å¦‚æœæ’åºçš„å¯¹è±¡æœªå®ç°comparableæˆ–è€…æˆ‘ä»¬è¦é‡å†™æ’åºè§„åˆ™ï¼Œé‚£ä¹ˆéœ€è¦è‡ªå®šä¹‰comparatorçš„compareæ–¹æ³•è¿›è¡Œæ’åº

   ```java
   public interface Comparator<T>{
   	int compare(T obj1,Tobj2);
   }
   ```

{% note info, 

æ³¨æ„å¯¹äºä¸€èˆ¬æˆ‘ä»¬å¸¸è§çš„å…ƒç´ (æ•´å‹ï¼Œå­—ç¬¦ä¸²ç­‰ï¼‰éƒ½æ˜¯é»˜è®¤å®ç°äº†comparableçš„ï¼Œä½†æ˜¯objå’ŒEntryç­‰å«æœ‰å¤šä¸ªå˜é‡çš„ç±»å‹æ•°æ®éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å®ç°comparableæ¥å£å¹¶ä¸”æ˜¾ç¤ºé‡å®šä¹‰compareTo(),hashCode()å’Œequals()æ–¹æ³•ï¼Œé€šå¸¸æˆ‘ä»¬ä½¿ç”¨comparatoræ˜¯ä¸ºäº†é‡ç½®æ’åºè§„åˆ™ï¼ˆæ¯”å¦‚é™åºï¼Œæˆ–è€…æŒ‰ç…§æŸä¸ªç‰¹å®šçš„comparableå…ƒç´ è¿›è¡Œæ’åºç­‰ï¼‰ã€‚

%} 

##### æ€è€ƒï¼šCollectionså’ŒCollectionçš„åŒºåˆ«ï¼Ÿ

æˆ‘ä»¬æ³¨æ„åˆ°åœ¨ä½¿ç”¨è‡ªå®šä¹‰æ’åºè§„åˆ™ä»£ç è¯­å¥ä¸ºï¼š

```java
Collections.sort(obj.comparator);
```

ä½†æ˜¯æˆ‘ä»¬å­¦ä¹ çš„æ˜æ˜æ˜¯Collectionï¼Œé‚£ä¹ˆCollectionså’ŒCollectionæœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸCollectionsæ‰æ˜¯å‡ ä¸ªç±»ï¼Œè€ŒCollectionåªæ˜¯é›†åˆç±»çš„ä¸Šçº§æ¥å£ï¼Œç»§æ‰¿äº†Collectionæ¥å£çš„ä¸»è¦ç”±Listç±»å’ŒSetç±»ï¼ŒåŒæ—¶Listç±»å’ŒSetç±»è¿˜éƒ½æ˜¯Collectionsçš„å­ç±»ã€‚å› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨è‡ªå®šä¹‰comparatoræ—¶çš„è¯­å¥æ˜¯ï¼š

```java
//ä¼ è¿›ä¸€ä¸ªå¯¹è±¡å’Œä¸€ä¸ªæ’åºè§„åˆ™å¯¹è±¡
Collections.sort(list,comparator);
```

å³æ˜¯è°ƒç”¨äº†çˆ¶ç±»çš„æ–¹æ³•å¯¹å¯¹è±¡æœ¬èº«è¿›è¡Œæ’åºï¼ŒåŒæ—¶ä¼ è¿›å»äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„æ’åºè§„åˆ™å¯¹è±¡ã€‚è€Œå½“æˆ‘ä»¬è°ƒç”¨listè‡ªå·±çš„æ’åºæ–¹æ³•æ—¶å°±æ˜¯ä½¿ç”¨

```java
//è¿™é‡Œçš„objæ˜¯æ’åºè§„åˆ™å¯¹è±¡
list.sort(comparator);
```

#### å†è°ˆ==,equals(),hashCode()ï¼ŒcompareTo()å’Œcomparator()

==æ–¹æ³•æ°¸è¿œæ¯”è¾ƒçš„éƒ½æ˜¯ä¸¤ä¸ªå˜é‡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒå³æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå­˜å‚¨å•å…ƒã€‚

è€Œequals()åœ¨objectä¸­å’Œè¿ç­‰åŠŸèƒ½ç›¸åŒï¼Œæ˜¯æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨æ˜¯å¦ç›¸åŒï¼Œè€Œå¯¹äºInteger,Stringç­‰é‡å®šä¹‰ä¸ºäº†æ¯”è¾ƒå†…å®¹æ˜¯å¦ç›¸åŒã€‚

hashCode()æ˜¯æ ¹æ®ä¸€å®šçš„è§„åˆ™ç»™å‡ºæŸä¸ªå…ƒç´ çš„ä¸€ä¸ªå­˜å‚¨å…³ç³»ä»¥ä¾¿æ¬¾é€ŸæŸ¥æ‰¾ï¼ˆå…¸å‹çš„å°±æ˜¯HashSetçš„åº”ç”¨ï¼‰ï¼Œç”±äºhashCode()ä½¿ç”¨æ•´æ•°è¡¨ç¤ºï¼Œå› æ­¤ä¸€å®šä¼šå‡ºç°å…ƒç´ ä¸åŒä½†æ˜¯hashCode()ç›¸åŒçš„æƒ…å†µã€‚è¿˜æœ‰å°±æ˜¯å¿…é¡»ä¿è¯hashCode()æ»¡è¶³ä¸€ä¸ªæ¡ä»¶ï¼šå½“equals()è¿”è¿˜trueæ—¶ï¼ŒhashCode()è¿”è¿˜çš„å€¼å¿…é¡»ç›¸åŒï¼Œä½†æ˜¯hashCode()è¿”è¿˜å€¼ç›¸åŒæ—¶ï¼Œequals()å¯ä»¥æ˜¯trueä¹Ÿå¯ä»¥æ˜¯falseã€‚å½“ç„¶hashCodeè¦æ±‚ä¼ è¿›æ¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå•ä¸€å˜é‡ï¼Œå¯¹äºå«æœ‰å¤šä¸ªæˆå‘˜å˜é‡çš„objï¼Œéœ€è¦æ˜¾ç¤ºå£°æ˜æ ¹æ®å…·ä½“çš„å“ªä¸€ä¸ªæˆå‘˜å˜é‡æ¥è¿”è¿˜HashCodeã€‚

compareTo()å°±æ˜¯æŒ‰ç…§equals()è§„åˆ™æ¯”è¾ƒå…ƒç´ å¤§å°ï¼ŒåŒæ ·å¯¹äºobjï¼Œéœ€è¦æ˜¾ç¤ºå£°æ˜æ ¹æ®å…·ä½“çš„å“ªä¸€ä¸ªæˆå‘˜å˜é‡æ¥è¿›è¡Œå¤§å°æ¯”è¾ƒã€‚

comparator()å°±æ˜¯ç›´æ¥è¿›è¡Œæ•°å€¼è®¡ç®—æ¥è¿”è¿˜å¤§å°ï¼ŒåŒæ—¶è¿”è¿˜å€¼>0æ—¶äº¤æ¢ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ï¼Œå¯¹äºå¤æ‚çš„å«æœ‰å¤šä¸ªå˜é‡çš„objæ•°æ®ï¼ŒåŒæ ·éœ€è¦è‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™ã€‚

#### List/Set/Mapæ€»ç»“

æˆ‘ä»¬å­¦ä¹ å®Œæˆä»¥åçŸ¥é“äº†Listï¼ŒSetéƒ½æ˜¯Collectionsçš„å­ç±»ï¼ŒåŒæ—¶ä»–ä»¬éƒ½å®ç°äº†Collectionæ¥å£ï¼Œå› æ­¤Listå’ŒSetæœ‰è®¸å¤šç›¸åŒçš„æ¥è‡ªäºCollectionæ¥å£çš„æ–¹æ³•ï¼š

![](https://langwenchong.gitee.io/figure-bed/20210403162531.png)

åŒæ—¶Listè¿˜åˆå¢åŠ äº†ä¸€äº›ç‰¹æœ‰æ–¹æ³•ï¼š

![](https://langwenchong.gitee.io/figure-bed/20210403162559.png)

è€ŒMapä¹Ÿæ˜¯Collectionsçš„å­ç±»ï¼ˆå®é™…ä¸Šæ‰€æœ‰çš„å­˜å‚¨é›†åˆç±»éƒ½å±äºCollectionsï¼‰ï¼Œä»–çš„ç‰¹ç‚¹æ˜¯é”®å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªEntryé”®å€¼å¯¹ï¼Œå½“ç»™å‡ºé”®å¯¹è±¡æ—¶å³å¯è¿”è¿˜å€¼å¯¹è±¡ï¼Œæ’åºæ—¶é»˜è®¤æ˜¯æŒ‰ç…§é”®å¯¹è±¡è¿›è¡Œæ¯”è¾ƒæ’åºï¼Œæˆ‘ä»¬é€šå¸¸ç”¨mapæ¥è¿›è¡Œé¢‘ç‡ç»Ÿè®¡ã€‚

![](https://langwenchong.gitee.io/figure-bed/20210403162831.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å¿«é€Ÿæ‰¾åˆ°æœ€å¤§å€¼å¯¹è±¡æ‰€å¯¹åº”çš„é”®å¯¹è±¡ï¼š

```java
Collection<Integer> coll = map.values();
int max = Collections.max(coll);
//ä¸€ç§æ›´åŠ ç®€å•çš„è¿­ä»£å™¨è¿­ä»£æ–¹æ³•
for (Map.Entry<String, Integer> it : map.entrySet()) {
    if (it.getValue() == max) {
        return it.getKey();
    }
}
```

æˆ‘ä»¬å‘ç°ä¸Šé¢çš„ä»£ç é€»è¾‘å°±æ˜¯å…ˆå°†mapçš„valueå¯¹è±¡å­˜å‚¨åˆ°ä¸€ä¸ªcollectionä¸­ï¼Œç„¶åé€šè¿‡è°ƒç”¨collectionsçš„maxæ–¹æ³•å¯»æ‰¾æœ€å¤§å€¼ï¼Œæœ€ååœ¨çˆ†æœå¯»æ‰¾å¯¹åº”çš„é”®å¯¹è±¡ã€‚

- HashSet:å¦‚æœé›†åˆä¸­å¯¹è±¡æ‰€å±çš„ç±»é‡æ–°å®šä¹‰äº†equals()æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿå¿…é¡»é‡æ–°å®šä¹‰hashCode()æ–¹æ³•ï¼Œå¹¶ä¸”ä¿è¯å½“ä¸¤ä¸ªå¯¹è±¡ç”¨equals()æ–¹æ³•æ¯”è¾ƒçš„ç»“æœä¸ºtrueæ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()æ–¹æ³•çš„è¿”å›å€¼ç›¸ç­‰ã€‚
- HashMap:è¦æ±‚å…¶ä¸­çš„keyé”®å¯¹è±¡åˆæœ‰HashSetçš„ç‰¹ç‚¹
- TreeSet:å¦‚æœå¯¹é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œè‡ªç„¶æ’åºï¼Œåˆ™è¦æ±‚å¯¹è±¡æ‰€å±ç±»å®ç°Comparableæ¥å£ï¼Œå¹¶ä¸”ä¿è¯è¿™ä¸ªç±»çš„compareTo()å’Œquals()æ–¹æ³•é‡‡ç”¨ç›¸åŒçš„æ¯”è¾ƒè§„åˆ™æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚
- TreeMap:è¦æ±‚å…¶ä¸­çš„keyé”®å¯¹è±¡åˆæœ‰TreeSetçš„ç‰¹ç‚¹

#### ç¼–ç¨‹å»ºè®®

æ€»ä¹‹ä¸ºäº†å¢å¼ºç¨‹åºçš„å¥å£®æ€§ï¼Œåœ¨ç¼–å†™javaç¨‹åºæ—¶è¦å…»æˆä»¥ä¸‹çš„å¥½ä¹ æƒ¯ï¼š

1. å¦‚æœjavaç±»é‡æ–°å®šä¹‰äº†equals()æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¹Ÿå¿…é¡»é‡æ–°å®šä¹‰hashCode()æ–¹æ³•ï¼Œå¹¶ä¸”ä¿è¯å½“ä¸¤ä¸ªå¯¹è±¡ç”¨equals()æ–¹æ³•æ¯”è¾ƒçš„ç»“æœä¸ºtrueæ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()æ–¹æ³•çš„è¿”å›å€¼å¿…é¡»ç›¸ç­‰ã€‚ä½†æ˜¯å½“hashCode()è¿”è¿˜å€¼ç›¸åŒæ—¶ï¼Œequals()å¯ä»¥å¯èƒ½æ˜¯è¿”å›falseã€‚
2. å¦‚æœjavaç±»å®ç°äº†Comparableæ¥å£ï¼Œé‚£ä¹ˆå°±åº”è¯¥é‡æ–°å®šä¹‰compareTo()ã€equals()æ–¹æ³•å’ŒhashCode()æ–¹æ³•ï¼ˆæ¯•ç«Ÿobjçš„æ¯”è¾ƒè§„åˆ™æˆ‘ä»¬éœ€è¦è‡ªå·±å®šä¹‰ï¼‰ï¼Œä¿è¯compareTo()å’Œequals()é‡‡ç”¨ç›¸åŒçš„æ¯”è¾ƒè§„åˆ™æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå¹¶ä¸”ä¿è¯å½“ä¸¤ä¸ªå¯¹è±¡ä½¿ç”¨equals()æ–¹æ³•æ¯”è¾ƒç»“æœä¸ºtrueæ—¶ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡çš„hashCode()æ–¹æ³•è¿”è¿˜å€¼ç›¸ç­‰ã€‚
3. HashMapå’ŒHashSetå…·æœ‰è¾ƒå¥½çš„æ€§èƒ½ï¼Œæ˜¯Mapå’ŒSetçš„é¦–é€‰å®ç°ç±»ï¼Œåªæœ‰åœ¨æ’åºçš„åœºåˆï¼Œæ‰è€ƒè™‘ä½¿ç”¨TreeSetå’ŒTreeMapã€‚LinkedKistå’ŒArrayListå„æœ‰ä¼˜ç‚¹ï¼Œå¦‚æœç»å¸¸å¯¹å…ƒç´ è¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œé‚£ä¹ˆä½¿ç”¨LinkedListï¼Œå¦‚æœç»å¸¸éšæœºè®¿é—®å…ƒç´ ï¼Œé‚£ä¹ˆä½¿ç”¨ArrayListã€‚ä¸è¦å¿˜è®°LinkedHashSetå¯ä»¥æŒ‰ç…§æ’å…¥çš„å…ˆåé¡ºåºå¯¹å…ƒç´ è¿›è¡Œå­˜å‚¨ã€‚

#### æ€è€ƒå‡ ä¸ªå°é—®é¢˜

> å¦‚æœå®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œå…¶hashCode()æ–¹æ³•ç»Ÿä¸€è¿”å›0ï¼Œè¿™ä¸ªç±»åœ¨HashSet()ä¸­æˆ–è€…HashMapçš„keyä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ï¼Ÿ

é¦–å…ˆè‚¯å®šä¸ä¼šé€ æˆä»€ä¹ˆé”™è¯¯ï¼Œåªæ˜¯ä¼šå¯¼è‡´HashSetä¸­çš„æ‰€æœ‰è¿™ä¸ªç±»çš„å¯¹è±¡å…ƒç´ éƒ½å­˜å‚¨ä¸€ä¸ªçº¿æ€§è¡¨å†…ï¼ŒåŒæ ·çš„HashMapä¸­ä»¥è¿™ä¸ªç±»çš„å¯¹è±¡ä¸ºé”®çš„å…ƒç´ éƒ½ä¼šå­˜å‚¨åœ¨ä¸€ä¸ªçº¿æ€§è¡¨ä¸­ï¼Œåæœå°±æ˜¯å®Œå…¨æ²¡æœ‰å‘æŒ¥hashCode()çš„åˆ†æ•£å¿«é€ŸæŸ¥æ‰¾çš„ä¼˜ç‚¹ï¼Œä½¿å¾—æŸ¥æ‰¾æ–¹å¼åˆå˜å›äº†é¡ºåºæŸ¥æ‰¾ï¼ˆå’ŒLinkedListä¸€æ ·ï¼‰ï¼ŒæŸ¥æ‰¾æ•ˆç‡ä½ã€‚

> å¦‚æœå®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œå…¶hashCode()æ–¹æ³•ç»Ÿä¸€è¿”å›0ï¼Œè¿™ä¸ªç±»åœ¨TreeSet()æˆ–è€…TreeMapçš„keyï¼Œä¼šå‘ç”Ÿä»€ä¹ˆç°è±¡ï¼Ÿ

æ²¡æœ‰ä»»ä½•å½±å“ï¼Œå› ä¸ºæœ¬èº«TreeSetæˆ–è€…TreeMapå°±æ˜¯é¡ºåºæŸ¥æ‰¾ã€‚