---
title: Dockerå…¥é—¨ç¬”è®°(1)
comments: false
top: false
date: 2021-11-20 16:09:29
tags: [docker]
categories: 
	- [çŸ¥è¯†åˆ†äº«,å­¦ä¹ å¿ƒå¾—]
headimg: https://langwenchong.gitee.io/figure-bed/20211120222554.png
---

è®°å½•ç¿€ç¿€å…¥é—¨dockerçš„ç¬”è®°ï¼Œå¦‚æœä½ ä¹Ÿæ˜¯å°ç™½ï¼Œå¿«æ¥å’Œæˆ‘ä¸€èµ·å­¦ä¹ dockerå§ğŸ˜‰ï¼

<!-- more -->

{% note quote,

ä»æœ¬ç¯‡å¼€å§‹ï¼Œç¿€ç¿€å°†å¼€å§‹è®°å½•å­¦ä¹ dockeræ—¶çš„ç¬”è®°ï¼Œå‚è€ƒçš„æ•™ç¨‹æ˜¯[ã€Šç‹‚ç¥è¯´dockerã€‹](https://www.bilibili.com/video/BV1og4y1q7M4?p=1)ï¼Œè¿™é‡Œç”±è¡·æ„Ÿè°¢ç‹‚ç¥å¤§å¤§æ— å¾®ä¸è‡³çš„è®²è§£ï¼

%}

### Dockerçš„åŸºæœ¬ç»„æˆ

![](https://langwenchong.gitee.io/figure-bed/20211120161955.png)

é¦–å…ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»–ç”±å®¢æˆ·ç«¯ã€æœ¬åœ°æœåŠ¡å™¨ã€è¿œç¨‹ä»“åº“ä¸‰ä¸ªéƒ¨åˆ†å®Œæˆã€‚å…¶ä¸­æˆ‘ä»¬å®¢æˆ·ç«¯å¯ä»¥è¾“å…¥æŒ‡ä»¤ä»è¿œç¨‹ä»“åº“æ‹‰å–ä¸åŒçš„é•œåƒåˆ°æœ¬åœ°æœåŠ¡å™¨ã€‚æœ¬åœ°æœåŠ¡å™¨é€šè¿‡Dockerå®ˆå«è¿›ç¨‹é¦–å…ˆç®¡ç†é•œåƒï¼Œç„¶åé•œåƒå¯ä»¥å®ä¾‹åŒ–å‡ºè®¸å¤šç›¸äº’éš”ç¦»çš„å®¹å™¨æ¥è¿›è¡Œä¸åŒçš„å·¥ä½œã€‚

- é•œåƒï¼ˆimages)ï¼šdocekré•œåƒå°±å¥½æ¯”æ¨¡æ¿ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨æœåŠ¡ã€æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡run tomcaté•œåƒåˆ›å»ºä¸¤ä¸ªtomcatå®¹å™¨åˆ†åˆ«æ˜¯tomcat01å’Œtomcat02ï¼Œä¸¤ä¸ªå®¹å™¨ç›¸äº’éš”ç¦»ç‹¬ç«‹çš„è¿è¡ŒæœåŠ¡ã€‚ä¹Ÿå°±æ˜¯è¯´**ä¸€ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ã€æœ€ç»ˆçš„æœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œæ˜¯åœ¨å®¹å™¨ä¸­çš„**
- å®¹å™¨ï¼ˆContainer)ï¼šDockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯å¯ä»¥ç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ç»„å®¹å™¨ï¼Œ**é€šè¿‡é•œåƒæ¥åˆ›å»ºçš„**ã€‚å› æ­¤å®¹å™¨å¯ä»¥å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ç­‰ã€‚
- ä»“åº“ï¼ˆRepository)ï¼šä»“åº“å°±æ˜¯**å­˜æ”¾é•œåƒçš„åœ°æ–¹**ï¼Œåˆ†ä¸ºç§æœ‰ä»“åº“å’Œå…¬æœ‰ä»“åº“ï¼Œé»˜è®¤çš„æ˜¯docker  hub(ä½†æ˜¯ä¹Ÿæœ‰å›½å†…é˜¿é‡Œäº‘é•œåƒç­‰)ã€‚

{% note info,

æˆ‘ä»¬å¯ä»¥ç®€å•çš„ç†è§£ä¸ºä»“åº“å°±æ˜¯ç±»ä¼¼äºgithubçš„è¿œç¨‹ä»“åº“åœ°å€ï¼Œå¯ä»¥pull pushã€‚è€Œé•œåƒå’Œå®¹å™¨çš„å…³ç³»ç±»ä¼¼äºjavaä¸­ç±»å’Œå®ä¾‹çš„å…³ç³»ï¼Œé•œåƒæ¥å®šä¹‰å·¥ä½œçš„åŸç†å’Œè¿è¡Œçš„åŠŸèƒ½ã€‚å®¹å™¨å°±æ˜¯å…·ä½“çš„å·¥ä½œå®ä¾‹ï¼Œå› æ­¤ç”±åŒä¸€ä¸ªé•œåƒåˆ›å»ºçš„å®¹å™¨å·¥ä½œåŸç†æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯ä»–ä»¬ä¹‹é—´ç›¸äº’ç‹¬ç«‹å·¥ä½œã€‚

%}

### Dockerå®‰è£…

#### ç¯å¢ƒæŸ¥çœ‹

{% note info,

åšä¸»ä½¿ç”¨çš„æ˜¯centos8ï¼Œè…¾è®¯äº‘1æ ¸2Gçš„æœåŠ¡å™¨ï¼Œä½¿ç”¨xshellè¿œç¨‹è¿æ¥æœåŠ¡å™¨è¿›è¡Œå­¦ä¹ çš„

%}

é¦–å…ˆæŸ¥çœ‹é…ç½®å¦‚ä¸‹

```shell
#ç³»ç»Ÿç‰ˆæœ¬
[root@VM-0-7-centos ~]# cat /etc/os-release
NAME="CentOS Linux"
VERSION="8 (Core)"
ID="centos"
ID_LIKE="rhel fedora"
VERSION_ID="8"
PLATFORM_ID="platform:el8"
PRETTY_NAME="CentOS Linux 8 (Core)"
ANSI_COLOR="0;31"
CPE_NAME="cpe:/o:centos:centos:8"
HOME_URL="https://www.centos.org/"
BUG_REPORT_URL="https://bugs.centos.org/"

CENTOS_MANTISBT_PROJECT="CentOS-8"
CENTOS_MANTISBT_PROJECT_VERSION="8"
REDHAT_SUPPORT_PRODUCT="centos"
REDHAT_SUPPORT_PRODUCT_VERSION="8"
```

#### å®‰è£…æ­¥éª¤

é¦–å…ˆæˆ‘ä»¬æ‰“å¼€[å¸®åŠ©æ–‡æ¡£](https://docs.docker.com/engine/install/centos/)æŸ¥çœ‹å…·ä½“çš„å®‰è£…æ­¥éª¤

##### 1.å¸è½½æ—§çš„ç‰ˆæœ¬

```shell
sudo yum remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine
```

##### 2.éœ€è¦çš„ä¾èµ–å®‰è£…åŒ…

```shell
sudo yum install -y yum-utils
```

##### 3.è®¾ç½®é•œåƒä»“åº“

æ³¨æ„è¿™é‡Œå®˜æ–¹æ–‡æ¡£ç»™çš„é•œåƒä»“åº“åœ°å€æ˜¯å¤–ç½‘çš„ï¼Œæˆ‘ä»¬æ”¹ä¸ºé˜¿é‡Œäº‘å›½å†…é•œåƒ

```shell
sudo yum-config-manager \
    --add-repo \
    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
```

##### 4.å®‰è£…dockerç›¸å…³å‡½æ•°

```shell
sudo yum install docker-ce docker-ce-cli containerd.io
```

##### 5.å®‰è£…å®Œæˆå¯åŠ¨docker

```shell
sudo systemctl start docker
```

å¯åŠ¨æˆåŠŸä»¥åæˆ‘ä»¬å¯ä»¥è¿è¡Œ`docker version` æŸ¥çœ‹ç›¸å…³çš„dockerä¿¡æ¯

```shell
[root@VM-0-7-centos ~]# docker version
Client: Docker Engine - Community
 Version:           20.10.10
 API version:       1.41
 Go version:        go1.16.9
 Git commit:        b485636
 Built:             Mon Oct 25 07:42:56 2021
 OS/Arch:           linux/amd64
 Context:           default
 Experimental:      true

Server: Docker Engine - Community
 Engine:
  Version:          20.10.10
  API version:      1.41 (minimum version 1.12)
  Go version:       go1.16.9
  Git commit:       e2f740d
  Built:            Mon Oct 25 07:41:17 2021
  OS/Arch:          linux/amd64
  Experimental:     false
 containerd:
  Version:          1.4.11
  GitCommit:        5b46e404f6b9f661a205e28d59c982d3634148f8
 runc:
  Version:          1.0.2
  GitCommit:        v1.0.2-0-g52b36a2
 docker-init:
  Version:          0.19.0
  GitCommit:        de40ad0

```

##### 6.è¿è¡ŒHello World

```shell
sudo docker run hello-world
```

![](https://langwenchong.gitee.io/figure-bed/20211120164937.png)

å‡ºç°ä¸Šå›¾è¯´æ˜è¿è¡ŒæˆåŠŸäº†ï¼Œå®é™…ä¸Šä¸Šé¢å›¾å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„dockeré•œåƒæœç´¢->dockeræ‹‰å–é•œåƒ->dockerè¿è¡Œé•œåƒåˆ›å»ºå®¹å™¨->dockerå®¹å™¨å¯åŠ¨è¿è¡Œçš„å…¨æµç¨‹ã€‚

æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æŒ‡ä»¤æŸ¥çœ‹ä»è¿œç¨‹ä»“åº“æ‹‰å–åˆ°çš„é•œåƒ

```shell
docker images
```

![](https://langwenchong.gitee.io/figure-bed/20211120165330.png)

### Dockerè®²è§£

æˆ‘ä»¬å›é¡¾ä¸€ä¸‹åˆšåˆšçš„hello-worldé•œåƒè·å–ï¼Œåˆ›å»ºå®¹å™¨ï¼Œè¿è¡Œå®¹å™¨çš„å…¨æµç¨‹ï¼Œå¯ä»¥æ€»ç»“ä¸ºä¸‹å›¾

![](https://langwenchong.gitee.io/figure-bed/20211120170046.png)

{%note info,

è¦æ³¨æ„å‘½ä»¤docker run nameæ˜¯å°è¯•åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨nameï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªé•œåƒä¼šå»è¿œç¨‹ä»“åº“å¯»æ‰¾ï¼Œå¦åˆ™åœ¨æœ¬åœ°ç›´æ¥ä½¿ç”¨nameé•œåƒ**åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨**ï¼Œå› æ­¤nameæ˜¯é•œåƒåå­—ï¼Œé»˜è®¤å¦‚æœæ²¡æœ‰ç»™å®¹å™¨å‘½åä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåå­—ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®¹å™¨idã€‚

%}

#### æ€è€ƒï¼šdockeråˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿæ€ä¹ˆè¿è¡Œçš„ï¼Ÿ

![](https://langwenchong.gitee.io/figure-bed/20211120170714.png)

Dockeræ˜¯ä¸€ä¸ªC/Sç»“æ„çš„ç³»ç»Ÿï¼ŒDockerçš„å®ˆå«è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Šï¼Œé€šè¿‡socketä»å®¢æˆ·ç«¯è®¿é—®ã€‚DockerServeræ¥æ”¶åˆ°Docker-Clientçš„æŒ‡ä»¤ä»¥åå°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤ã€‚

ä¸Šå›¾å¾ˆæ¸…æ™°çš„æè¿°äº†dockerè¿è¡Œçš„åº•å±‚åŸç†ã€‚é¦–å…ˆæœ€å¤–é¢çš„æ¡†æ¶å°±æ˜¯ä¸€ä¸ªå¤§çš„LinuxæœåŠ¡å™¨å³æˆ‘ä»¬çš„äº‘æœåŠ¡å™¨ï¼Œè€Œå®¢æˆ·ç«¯å°±æ˜¯ä¸åŒçš„è´¦æˆ·ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ä¸€ä¸ªè´¦æˆ·è¾“å…¥æŒ‡ä»¤ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸æ˜¯ç›´æ¥æ“ä½œdockerå®¹å™¨çš„ï¼Œè€Œæ˜¯ç»Ÿä¸€å°†å‘½ä»¤äº¤ä»˜åˆ°å®ˆå«è¿›ç¨‹ï¼Œå®ˆå«è¿›ç¨‹æ¥æ ¹æ®æ‰§è¡Œå…·ä½“çš„æ“ä½œä¸åŒçš„å®¹å™¨ï¼Œå› æ­¤ä»dockerçš„è§†è§’æ¥çœ‹ï¼Œä»–å’Œå®ˆå«è¿›ç¨‹é€šä¿¡ï¼Œè€Œä¸èƒ½ç›´æ¥è¢«æˆ‘ä»¬æ‰€æ“çºµï¼Œæˆ‘ä»¬åªæ˜¯é€šè¿‡å®ˆå«é—´æ¥çš„æ“çºµã€‚

åŒæ—¶é‡Œé¢å­˜åœ¨è®¸å¤šä¸ªç›¸äº’éš”ç¦»çš„å®¹å™¨ï¼Œä»–ä»¬ç‹¬ç«‹çš„è¿è¡Œï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­å·¦ä¾§æ˜¯ä¸€ä¸ªcentoså®¹å™¨ï¼Œå³ä¾§æ˜¯ä¸€ä¸ªmysqlå®¹å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬è¦çŸ¥é“æ¯ä¸€ä¸ªå®¹å™¨éƒ½æ˜¯ä¸€ä¸ªå°çš„`å®Œæ•´ç³»ç»Ÿ`ï¼Œå³ä»–ä»¬è‡ªå·±éƒ½æœ‰ä¸€å¥—å®Œæ•´çš„æŒ‡ä»¤ã€ç«¯å£ç­‰ã€‚æ¯”å¦‚centoså®¹å™¨æ­£åœ¨è¿è¡Œï¼Œä»–è‡ªå·±å†…éƒ¨ç«¯å£æ˜¯8080ï¼Œmysqlå®¹å™¨ä¹Ÿåœ¨è¿è¡Œå¹¶ä¸”ä½¿ç”¨çš„ç«¯å£æ˜¯3306ï¼Œä¸¤è€…äº’ä¸å¹²æ‰°ï¼Œ**æ­¤æ—¶mysqlå®¹å™¨ä¹Ÿå¯ä»¥è¿è¡Œåœ¨8080ç«¯å£ä¹Ÿå¹¶ä¸ä¼šå¹²æ‰°åˆ°centoså®¹å™¨ï¼Œè¿™æ˜¯å› ä¸ºä¸¤ä¸ªå®¹å™¨éƒ½æ˜¯ç‹¬ç«‹çš„ç³»ç»Ÿï¼Œæœ‰è‡ªå·±çš„ä¸€å¥—å®Œæ•´çš„æ„ä»¶**ã€‚è€Œæˆ‘ä»¬å¤–éƒ¨ä¹Ÿå¯ä»¥ä½¿ç”¨8080ç«¯å£ï¼Œä»–å’Œä¸¤ä¸ªå®¹å™¨çš„ç«¯å£ä¹Ÿæ˜¯äº’ä¸å¹²æ‰°çš„ï¼Œä½†æ˜¯æ­¤æ—¶æˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥é€šè¿‡æœåŠ¡å™¨çš„8080æˆ–è€…3306ç«¯å£æŸ¥çœ‹åˆ°ä¸¤ä¸ªå®¹å™¨çš„è¿è¡Œï¼Œå› ä¸ºæˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥è®¿é—®æ“æ§å®¹å™¨ï¼Œåé¢æˆ‘ä»¬ä¼šå­¦åˆ°å¯ä»¥ä½¿ç”¨-p(port)æŒ‡ä»¤æ¥è®¾ç½®å®¹å™¨çš„ç«¯å£å‘å¤–æš´éœ²ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è®¿é—®äº†ğŸ˜‹ã€‚

#### Dockerå’Œè™šæ‹Ÿæœºçš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆDockeræ›´è½»é‡çº§ã€è¿è¡Œæ›´å¿«ï¼Ÿ

![](https://langwenchong.gitee.io/figure-bed/20211120171907.png)

çœ‹ä¸Šå›¾æˆ‘ä»¬å¯ä»¥å¾ˆæ˜æ˜¾çš„çœ‹å‡ºåŸå› ï¼ŒDockeræœ‰æ›´å°‘çš„æŠ½è±¡å±‚ã€‚å¯¹äºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œä»–éœ€è¦ç°åœ¨å®¿ä¸»æœºä¸Šè™šæ‹Ÿä¸€å¥—å®Œæ•´çš„ç¡¬ä»¶æ˜ å°„ç³»ç»Ÿï¼Œç„¶åå†åœ¨è¿™å±‚è™šæ‹Ÿçš„ç¡¬ä»¶ä¸Šæ­å»ºä¸€ä¸ªå®Œæ•´çš„è™šæ‹Ÿæ“ä½œç³»ç»Ÿå†…æ ¸Guest OSï¼Œç„¶åæ‰èƒ½å®‰è£…çœŸæ­£çš„é¡¹ç›®è¿è¡Œéœ€è¦çš„ä¾èµ–ç¯å¢ƒã€‚è€ŒDockerå®¹å™¨å¹¶æ²¡æœ‰è‡ªå·±çš„è™šæ‹Ÿç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä»–æ˜¯ç›´æ¥åœ¨å®¿ä¸»æœºä¸ŠæŠ½è±¡ä¸€å±‚Dockerå¼•æ“ï¼Œç„¶åå®¹å™¨ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œå› æ­¤æ›´è½»é‡çº§ã€åŒæ—¶è¿è¡Œä¹Ÿæ›´å¿«ã€‚ä¸€ä¸ªè™šæ‹Ÿæœºå¤§çº¦æ˜¯1-2Gï¼Œè€Œä¸€ä¸ªdocekrå®¹å™¨ä»…ä»…10-20Må°±å¯ä»¥å®Œæˆå’Œè™šæ‹Ÿæœºä¸€æ ·çš„å·¥ä½œã€‚å› æ­¤æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™ï¼Œdockerä¸éœ€è¦åƒè™šæ‹Ÿæœºä¸€æ ·åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ— éœ€å¼•å¯¼åŠ è½½ï¼Œå› æ­¤å¯åŠ¨åªéœ€è¦å‡ ç§’ç›¸è¾ƒäºè™šæ‹Ÿæœºå‡ åˆ†é’Ÿçš„å¯åŠ¨è¦å¿«ä¸Šè®¸å¤šï¼Œ

![](https://langwenchong.gitee.io/figure-bed/20211120172623.png)

{%note info,

ä¸€å®šè¦æ³¨æ„Dockerå®¹å™¨æ²¡æœ‰è‡ªå·±çš„è™šæ‹Ÿç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œä»–ä»¬ä½¿ç”¨çš„éƒ½æ˜¯å®¿ä¸»æœºçš„ï¼Œè€Œè™šæ‹Ÿæœºéœ€è¦å…ˆä½¿ç”¨å®¿ä¸»æœºè™šæ‹Ÿè‡ªå·±çš„ç¡¬ä»¶å’Œæ“ä½œç³»ç»Ÿå†…æ ¸Guest OSã€‚

%}

### Dockerçš„å¸¸ç”¨å‘½ä»¤

#### å¸®åŠ©å‘½ä»¤

```shell
docker version #æŸ¥çœ‹dockerç‰ˆæœ¬ä¿¡æ¯
docker info #è¯¦ç»†å±•ç¤ºdocekrå½“å‰çš„å…·ä½“ä¿¡æ¯
docker å‘½ä»¤ --help #é’ˆå¯¹æŸä¸€å‘½ä»¤å„ç§å‚æ•°çš„åŠŸèƒ½
```

{%link dockerå¸®åŠ©æ–‡æ¡£ , https://docs.docker.com/reference/ %}

#### é•œåƒå‘½ä»¤

##### docker imagesæŸ¥çœ‹æ‰€æœ‰æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ

```shell
[root@VM-0-7-centos ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
hello-world   latest    feb5d9fea6a5   8 weeks ago    13.3kB
centos        latest    5d0da3dc9764   2 months ago   231MB

#è§£é‡Š
REPOSITORY	#é•œåƒä»“åº“æº
TAG 		#ç‰ˆæœ¬æ ‡ç­¾
IMAGE ID 	#å”¯ä¸€åŒºåˆ†æ ‡è¯†ç¬¦
CREATED 	#åˆ›å»ºæ—¶é—´
SIZE 		#ä»£é”€

#å¯é€‰é¡¹
-a, --all		#åˆ—å‡ºæ‰€æœ‰çš„é•œåƒ
-q, --quiet     #åªæ˜¾ç¤ºé•œåƒçš„ID
-aq				#æ˜¾ç¤ºæ‰€æœ‰é•œåƒçš„ID
```

##### docker searchæœç´¢é•œåƒ

é¦–å…ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨docker hubä¸Šè¿›è¡Œæœç´¢ä¹Ÿæ˜¯å¯ä»¥å¾—ï¼Œä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨ç»ˆç«¯ä¸­å¿«é€Ÿæœç´¢å¹¶è¿›è¡Œç­›é€‰ã€‚

```shell
[root@VM-0-7-centos ~]# docker search mysql
NAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
mysql                             MySQL is a widely used, open-source relationâ€¦   11707     [OK]       
mariadb                           MariaDB Server is a high performing open souâ€¦   4458

#å¯é€‰é¡¹
--filter=STARTS=3000    #é€šè¿‡starè¿‡æ»¤å¤§äº3000çš„é•œåƒä»“åº“
```

##### docker pullä¸‹è½½é•œåƒ

```shell
#docker pull imageé»˜è®¤ä¸‹è½½æœ€æ–°ç‰ˆ
[root@VM-0-7-centos ~]# docker pull mysql
Using default tag: latest #é»˜è®¤ä¸‹è½½æœ€æ–°ç‰ˆ
latest: Pulling from library/mysql
a10c77af2613: Pull complete  #åˆ†å±‚ä¸‹è½½ï¼Œdocker imageçš„æ ¸å¿ƒï¼Œè”åˆæ–‡ä»¶ç³»ç»Ÿ
b76a7eb51ffd: Pull complete 
258223f927e4: Pull complete 
2d2c75386df9: Pull complete 
63e92e4046c9: Pull complete 
f5845c731544: Pull complete 
bd0401123a9b: Pull complete 
3ef07ec35f1a: Pull complete 
c93a31315089: Pull complete 
3349ed800d44: Pull complete 
6d01857ca4c1: Pull complete 
4cc13890eda8: Pull complete 
Digest: sha256:aeecae58035f3868bf4f00e5fc623630d8b438db9d05f4d8c6538deb14d4c31b
Status: Downloaded newer image for mysql:latest
docker.io/library/mysql:latest #çœŸå®åœ°å€


#ä¹Ÿå¯ä»¥ä½¿ç”¨docker pull image:[tag]ä¸‹è½½æŒ‡å®šç‰ˆæœ¬
#å¦‚ç°åœ¨ä¸‹è½½mysql5.7ç‰ˆæœ¬
[root@VM-0-7-centos ~]# docker pull mysql:5.7
5.7: Pulling from library/mysql
a10c77af2613: Already exists #dockerè”åˆæ–‡ä»¶æ ¸å¿ƒäº®ç‚¹ï¼Œæœ‰çš„å°±ä¸éœ€é‡å¤ä¸‹è½½äº†
b76a7eb51ffd: Already exists #ç›´æ¥å…±ç”¨ç›¸åŒçš„æ–‡ä»¶
258223f927e4: Already exists 
2d2c75386df9: Already exists 
63e92e4046c9: Already exists 
f5845c731544: Already exists 
bd0401123a9b: Already exists 
2724b2da64fd: Pull complete 
d10a7e9e325c: Pull complete #5.7ç‰ˆæœ¬ç‰¹æœ‰çš„
1c5fd9c3683d: Pull complete 
2e35f83a12e9: Pull complete 
Digest: sha256:7a3a7b7a29e6fbff433c339fc52245435fa2c308586481f2f92ab1df239d6a29
Status: Downloaded newer image for mysql:5.7
docker.io/library/mysql:5.7 #çœŸå®åœ°å€

#å®é™…ä¸Šä¹‹å‰çš„docker pull mysqlç­‰åŒäºdocker pull mysql:latestä¹Ÿæ˜¯æœ‰æ ‡ç­¾çš„

#å½“å‰æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼Œä½†æ˜¯ä¸¤è€…ä¹‹é—´éƒ¨åˆ†æ–‡ä»¶æ˜¯ç›¸åŒå…±ç”¨çš„
[root@VM-0-7-centos ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED        SIZE
mysql         5.7       8b43c6af2ad0   3 days ago     448MB
mysql         latest    b05128b000dd   3 days ago     516MB

```

##### docker rmiåˆ é™¤é•œåƒ

```shell
docker rmi é•œåƒid åˆ é™¤æŒ‡å®šé•œåƒ
docker rmi é•œåƒid1 é•œåƒid2 ...åˆ é™¤å¤šä¸ªé•œåƒ
```

![](https://langwenchong.gitee.io/figure-bed/20211120204856.png)

```shell
#å¼ºåˆ¶åˆ é™¤æ‰€æœ‰çš„é•œåƒ
#-fè¡¨ç¤ºå¼ºåˆ¶ï¼Œåé¢çš„$()æ˜¯è®¡ç®—å¼ä½¿ç”¨äº†æŸ¥è¯¢æ‰€æœ‰idçš„dockeræŒ‡ä»¤
docker rmi -f $(docker images -aq) 
```

![](https://langwenchong.gitee.io/figure-bed/20211120205145.png)

#### å®¹å™¨å‘½ä»¤

{% note info,

åªæœ‰æœ‰äº†é•œåƒï¼Œæ‰èƒ½åˆ›å»ºå®¹å™¨ï¼Œæˆ‘ä»¬è¿™é‡Œä¸‹è½½ä¸€ä¸ªcentosé•œåƒæ¥æµ‹è¯•å­¦ä¹ å®¹å™¨çš„å‘½ä»¤

%}

##### æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨

```shell
docker run [å¯é€‰å‚æ•°] image

#å‚æ•°è¯´æ˜
--name="Name" 	å®¹å™¨åå­— tomcat01 tomcat02ç”¨æ¥åŒºåˆ†å®¹å™¨
-d 				åå°æ–¹å¼è¿è¡Œ
-it 			äº¤äº’æ–¹å¼è¿è¡Œ
-p 				æŒ‡å®šå®¹å™¨ç«¯å£(ç”¨æ¥ä¸»æœºæ˜ å°„80:8080)
	-p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£
	-p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£ (å¸¸ç”¨ï¼Œç”¨æ¥ç«¯å£æ˜ å°„)
	-p å®¹å™¨ç«¯å£
	å®¹å™¨ç«¯å£
-P				éšæœºæŒ‡å®šç«¯å£

#æµ‹è¯•å¯åŠ¨å¹¶è¿›å…¥å®¹å™¨
#é¦–å…ˆç°åœ¨åœ¨å®¹å™¨å¤–éƒ¨æˆ‘ä»¬çš„@åé¢æ˜¯vm-0-0-centos
#ç„¶åæˆ‘ä»¬runåˆ›å»ºä¸€ä¸ªå®¹å™¨(æœªè®¾ç½®åå­—ï¼Œæ²¡å…³ç³»å¯ä»¥ä½¿ç”¨idå·)
#-itæ˜¯äº¤äº’æ–¹å¼è¿›å…¥
#/bin/bashæ˜¯å¯¹å®¹å™¨å†…éƒ¨æ“ä½œæ—¶ä½¿ç”¨æŒ‡ä»¤é›†ï¼Œä¸€èˆ¬éƒ½æ˜¯bash
[root@VM-0-7-centos /]# docker run -it centos /bin/bash
#è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œ@åé¢è·Ÿçš„æ˜¯å®¹å™¨id
#è¿™ä¸ªå®¹å™¨å°±æ˜¯ä¸€ä¸ªlinuxç³»ç»Ÿï¼Œæ‰€ä»¥lsä¼šå¾—åˆ°å’Œå¤–éƒ¨æœåŠ¡å™¨ä¸€æ ·çš„æ–‡ä»¶ç»“æ„
[root@6ee0cf9db211 /]# ls
bin  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var

docker exit é€€å‡ºå®¹å™¨åˆ°ä¸»æœº
#è¾“å…¥exité€€å‡ºå®¹å™¨åˆ°ä¸»æœºï¼Œå¹¶ä¸”ç”±äºè¿™ä¸ªå®¹å™¨æ²¡æœ‰è¿è¡Œä»»åŠ¡ï¼Œå› æ­¤ä¼šé»˜è®¤è‡ªåŠ¨å…³é—­ä¸å†è¿è¡Œ
[root@6ee0cf9db211 /]# exit
exit
#å¤–éƒ¨å³äº‘æœåŠ¡å™¨ä¹Ÿæ˜¯linuxæ–‡ä»¶ç»“æ„
[root@VM-0-7-centos /]# ls
bin  boot  data  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  run  sbin  srv  sys  tmp  usr  var
```

![](https://langwenchong.gitee.io/figure-bed/20211120210812.png)

##### æŸ¥çœ‹å®¹å™¨

```shell
docker ps æŸ¥çœ‹æ‰€æœ‰å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
[root@VM-0-7-centos /]# docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
#ç”±äºexitåæ²¡æœ‰è¿è¡Œä»»åŠ¡ï¼Œåˆšåˆšçš„centoså®¹å™¨å·²ç»å…³é—­å› æ­¤æŸ¥çœ‹ä¸åˆ°

docker ps -a æŸ¥çœ‹æ‰€æœ‰å­˜åœ¨çš„å®¹å™¨(å…³é—­çš„ä¹Ÿå¯ä»¥æŸ¥çœ‹åˆ°)
[root@VM-0-7-centos /]# docker ps -a
CONTAINER ID   IMAGE     COMMAND       CREATED         STATUS                     PORTS     NAMES
6ee0cf9db211   centos    "/bin/bash"   8 minutes ago   Exited (0) 6 minutes ago             romantic_lehmann
#å‘ç°åˆ›å»ºå®¹å™¨æ—¶è‹¥æ²¡æœ‰èµ‹åå­—ä¼šéšæœºç”Ÿæˆä¸€ä¸ª

docker -a -n=1 æ˜¾ç¤ºæœ€è¿‘è¿è¡Œçš„1ä¸ªå®¹å™¨
docker ps -q åªæ˜¾ç¤ºå®¹å™¨çš„id
docker ps -aq æ˜¾ç¤ºå½“å‰æ‰€æœ‰å®¹å™¨çš„id
```

##### é€€å‡ºå®¹å™¨

```shell
exit #é€€å‡ºå®¹å™¨ä¸”å¦‚æœæ²¡æœ‰è¿è¡Œä»»åŠ¡è‡ªåŠ¨å…³é—­
ctrl+p+q #é€€å‡ºå®¹å™¨ä¸”ä¸å…³é—­åå°è¿è¡Œ(å³ä½¿æ²¡æœ‰è¿è¡Œä»»åŠ¡)
```

![](https://langwenchong.gitee.io/figure-bed/20211120211849.png)

##### åˆ é™¤å®¹å™¨

```shell
docker rm å®¹å™¨id åˆ é™¤æŒ‡å®šå®¹å™¨
docker rm å®¹å™¨id1 å®¹å™¨id2 åˆ é™¤å¤šä¸ªå®¹å™¨
docker rm -f $(docker ps -aq) å¼ºåˆ¶åˆ é™¤æ‰€æœ‰å®¹å™¨ 
```

{% note info,

ä¹‹æ‰€ä»¥è¦åŠ `-f`å‚æ•°æ˜¯å› ä¸ºæ­£åœ¨è¿è¡Œçš„å®¹å™¨ä¸èƒ½åˆ é™¤ï¼Œå› æ­¤éœ€è¦å¼ºåˆ¶åˆ é™¤æˆ–è€…åœæ­¢åå†åˆ é™¤

%}

##### å¯åŠ¨å’Œåœæ­¢å®¹å™¨

```shell
docker start å®¹å™¨id 		å¯åŠ¨æŒ‡å®šå®¹å™¨
docker restart å®¹å™¨id		é‡å¯æŒ‡å®šå®¹å™¨
docker stop å®¹å™¨id		åœæ­¢æŒ‡å®šå½“å‰è¿è¡Œçš„å®¹å™¨
docker kill å®¹å™¨id		å¼ºåˆ¶åœæ­¢æŒ‡å®šå½“å‰è¿è¡Œçš„å®¹å™¨
```

#### å…¶ä»–å¸¸ç”¨æŒ‡ä»¤

##### åˆ›å»ºå¹¶åå°å¯åŠ¨å®¹å™¨

ä¹‹å‰æˆ‘ä»¬å­¦ä¹ çš„æ˜¯åˆ›å»ºå®¹å™¨å¹¶ç›´æ¥è¿›å…¥å®¹å™¨ï¼Œä½†æ˜¯æˆ‘ä»¬èƒ½ä¸èƒ½å¯åŠ¨å®¹å™¨åè®©ä»–ç›´æ¥åå°è¿è¡Œï¼Œè€Œæˆ‘ä»¬ä¸è¿›å…¥å®¹å™¨å‘¢ï¼Ÿæˆ‘ä»¬çŸ¥é“`-d`æ˜¯åå°è¿è¡Œçš„å‚æ•°ï¼Œé‚£ä¹ˆæƒ³å½“ç„¶å¦‚ä¸‹æŒ‡ä»¤å°±æ˜¯åˆ›å»ºå¹¶åå°å¯åŠ¨å®¹å™¨çš„æŒ‡ä»¤

```shell
docker run -it image /bin/bash #ä¹‹å‰çš„åˆ›å»ºå¹¶è¿›å…¥å®¹å™¨
docker run -d image #åˆ›å»ºå¹¶åå°å¯åŠ¨å®¹å™¨
```

![](https://langwenchong.gitee.io/figure-bed/20211120212904.png)

ä½†æ˜¯æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä»–å¹¶æ²¡æœ‰ç»´æŒåå°è¿è¡Œå¾…æœºçš„çŠ¶æ€ï¼Œè¿™æ˜¯å› ä¸ºä»–æ²¡æœ‰å‰å°è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´å®¹å™¨ä»–è™½ç„¶èƒ½åå°å¾…æœºï¼Œä½†æ˜¯æ²¡æœ‰æ¥æ”¶æ“æ§ä»–æŒ‡ä»¤çš„å‰å°ï¼Œå³ä»–ä¸èƒ½å’Œæ“çºµè€…é€šä¿¡ï¼Œå› æ­¤è‡ªæ€äº†ã€‚ç±»ä¼¼çš„è¿˜æœ‰nginx,å‡è®¾æˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªnginxå®¹å™¨ï¼Œä½†æ˜¯ä»–æ²¡æœ‰å‰å°å‘ˆç°é¡µé¢çš„ä»»åŠ¡ï¼Œå³æ„å‘³ç€ä»–ä»€ä¹ˆä»»åŠ¡ä¹Ÿæ²¡æœ‰ï¼Œé‚£ä¹ˆä¹Ÿä¼šå’Œcentosç±»ä¼¼è‡ªæ€å…³é—­å®¹å™¨å‡å°‘èµ„æºçš„æµªè´¹ã€‚å¹¶ä¸”æ­¤æ—¶å³ä½¿æˆ‘ä»¬å†è¾“å…¥`docker start`ä¹Ÿæ— æµäºäº‹ä»–å¹¶ä¸ä¼šæˆåŠŸå¯åŠ¨ï¼Œå› ä¸ºä»–åˆšå¯åŠ¨ååˆä¼šå› ä¸ºæ— å‰å°è¿›ç¨‹è‡ªåŠ¨å…³é—­ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å¹¶ä¸å¥½çš„ç­–ç•¥åˆ›å»ºå¹¶åå°å¯åŠ¨å®¹å™¨

```shell
docker run -dit image /bin/bash
#æ­¤æ—¶æˆ‘ä»¬æ·»åŠ äº†-då±æ€§ï¼Œå¹¶ä¸”ç»™ä»–åˆ†é…äº†å‰å°è¿›ç¨‹ï¼Œå› æ­¤ä¸ä¼šè‡ªåŠ¨å…³é—­äº†
```

{%note info,

å› æ­¤ä¸€èˆ¬æˆ‘ä»¬åˆ›å»ºå®¹å™¨æ—¶éƒ½æ˜¯é¦–æ¬¡è¦è¿›å…¥è¿™ä¸ªå®¹å™¨å¹¶åˆ†é…ä»»åŠ¡çš„ï¼Œç„¶åå†exitæˆ–è€…ctrl+p+qé€€å‡ºå®¹å™¨ï¼Œæ­¤æ—¶ç”±äºå·²åˆ†é…äº†ä»»åŠ¡å®¹å™¨ä¸ä¼šå†è‡ªåŠ¨å…³é—­ã€‚å¦‚æœåˆ›å»ºåè¿›å…¥å¹¶æœªåˆ†é…ä»»åŠ¡æˆ‘ä»¬ä¸ºäº†è®©ä»–ç»´æŒè¿è¡Œï¼Œéœ€è¦ctrl+p+qé€€å‡ºã€‚

%}

##### æŸ¥çœ‹æ—¥å¿—

```shel
docker logs -tf å®¹å™¨id         æŸ¥çœ‹å½“å‰å®¹å™¨çš„å…¨éƒ¨æ—¥å¿—
docker logs -tf --tail num å®¹å™¨id		æŸ¥çœ‹å½“å‰å®¹å™¨çš„æœ€æ–°numæ¡æ—¥å¿—(å®æ—¶åˆ·æ–°)
```

æˆ‘ä»¬è¦æ³¨æ„è¦æŸ¥çœ‹ä¸€ä¸ªå®¹å™¨çš„æ—¥å¿—ï¼Œ**é¦–å…ˆè¿™ä¸ªå®¹å™¨å¿…é¡»æ­£åœ¨è¿è¡Œï¼ŒåŒæ—¶ä»–ç¡®å®è¿è¡Œè¿‡ä»»åŠ¡æ‰èƒ½äº§ç”Ÿæ—¥å¿—**ï¼Œç”±äºæ—¥å¿—ä¼šå¾ˆå¤šï¼Œä¸€èˆ¬æˆ‘ä»¬éœ€è¦åŠ ä¸Š`--tail num`æ¥é™åˆ¶æ˜¾ç¤ºçš„æ—¥å¿—è¡Œæ•°ã€‚

##### æŸ¥çœ‹å®¹å™¨ä¸­è¿›ç¨‹çš„ä¿¡æ¯

```shell
docker top å®¹å™¨id     	æŸ¥çœ‹å½“å‰å®¹å™¨å†…éƒ¨çš„è¿›ç¨‹ä¿¡æ¯
```

**åŒæ ·çš„ï¼Œä»–ä¹Ÿéœ€è¦ä¿è¯å½“å‰æŸ¥çœ‹çš„å®¹å™¨æ­£åœ¨è¿è¡Œã€‚**

##### æŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯

```shell
docker inspect å®¹å™¨id		
```

![](https://langwenchong.gitee.io/figure-bed/20211120215437.png)

##### è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨

é€šå¸¸æˆ‘ä»¬çš„å®¹å™¨éƒ½æ˜¯åå°è¿è¡Œä»»åŠ¡çš„ï¼Œä½†æ˜¯æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦è¿›å…¥è¿™ä¸ªå®¹å™¨ä¿®æ”¹ä¸€äº›é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤

```shell
docker exec -it å®¹å™¨id /bin/bash 	è¿›å…¥å®¹å™¨å¹¶è¿›å…¥ä¸€ä¸ªæ–°çš„æŒ‡ä»¤ç»ˆç«¯
docker attach		è¿›å…¥å®¹å™¨å¹¶ä½¿ç”¨ä¹‹å‰çš„æŒ‡ä»¤ç»ˆç«¯
```

æˆ‘ä»¬æ³¨æ„ä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œå‡è®¾ç°åœ¨æ­£åœ¨è¿è¡Œçš„å®¹å™¨æ­£åœ¨ä¸æ–­çš„å ç”¨ä¹‹å‰çš„ç»ˆç«¯æ‰“å°ä¿¡æ¯ï¼Œé‚£ä¹ˆæ­¤æ—¶å¦‚æœæˆ‘ä»¬ä½¿ç”¨`docker attach`ä¼šå¯¼è‡´æˆ‘ä»¬æ— æ³•è¾“å…¥å‘½ä»¤ï¼Œå› ä¸ºå½“å‰å®¹å™¨çš„ä»»åŠ¡æ­£åœ¨ä½¿ç”¨è¿™ä¸ªç»ˆç«¯æ‰“å°ä¿¡æ¯ã€‚ä¸ºäº†ä»¥é˜²è¿™ç§å°´å°¬çš„æƒ…å†µå‡ºç°ï¼Œæˆ‘ä»¬æœ€å¥½ä½¿ç”¨å‰è€…æŒ‡ä»¤åˆ›å»ºä¸€ä¸ªæ–°ç»ˆç«¯è¿›å…¥å®¹å™¨ã€‚

##### ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š

```shell
docker cp å®¹å™¨id:å®¹å™¨å†…è·¯å¾„ ç›®çš„ä¸»æœºè·¯å¾„
```

![](https://langwenchong.gitee.io/figure-bed/20211120220639.png)

æˆ‘ä»¬è¦æ³¨æ„docker cpæ˜¯ç”¨æ¥å°†å®¹å™¨å†…éƒ¨çš„æ–‡ä»¶æ‹·è´åˆ°ä¸»æœºä¸Šçš„ï¼Œå¹¶ä¸”ä¸å—å®¹å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œçš„å½±å“ã€‚è€Œä¸»æœºæ–‡ä»¶åˆ°å®¹å™¨ä¸€èˆ¬ä¸ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œè€Œæ˜¯é€šè¿‡æŒ‚è½½å·å®Œæˆã€‚åŒæ—¶ä½¿ç”¨-vå·çš„æŠ€æœ¯å¯ä»¥å®ç°æ–‡ä»¶ç³»ç»Ÿçš„è‡ªåŠ¨åŒæ­¥ï¼Œç±»ä¼¼äºå…±äº«æ–‡ä»¶å¤¹çš„åŠŸèƒ½ğŸ˜ã€‚

#### å¸¸ç”¨å‘½ä»¤æ€»ç»“

![](https://langwenchong.gitee.io/figure-bed/20211120220939.png)

ä¸Šå›¾ç»™å‡ºäº†dockerç›¸å…³çš„å¤§éƒ¨åˆ†å‘½ä»¤ï¼Œæˆ‘ä»¬åˆšåˆšåªæ˜¯å­¦ä¹ äº†æœ€å¸¸ç”¨çš„é•œåƒå’Œå®¹å™¨ç›¸å…³çš„æŒ‡ä»¤ï¼Œå®é™…ä¸Šè¿˜æœ‰è®¸å¤šå’Œgitç›¸ç±»ä¼¼çš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬ä¼šåœ¨åé¢å­¦ä¹ åˆ°ã€‚dockerçš„å‘½ä»¤éå¸¸å¤šï¼Œæˆ‘ä»¬éœ€è¦ç»å¸¸ä½¿ç”¨å’Œå¤ä¹ æ‰èƒ½è®°ä½å“¦ï¼

### ä½œä¸šç»ƒä¹ 

æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ä¹‹å‰å­¦ä¹ åˆ°çš„æŒ‡ä»¤å°è¯•å®Œæˆnginxéƒ¨ç½²ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦ä¸‹è½½nginxé•œåƒ

```shell
[root@VM-0-7-centos ~]# docker pull nginx
Using default tag: latest
latest: Pulling from library/nginx
eff15d958d66: Pull complete 
1e5351450a59: Pull complete 
2df63e6ce2be: Pull complete 
9171c7ae368c: Pull complete 
020f975acd28: Pull complete 
266f639b35ad: Pull complete 
Digest: sha256:097c3a0913d7e3a5b01b6c685a60c03632fc7a2b50bc8e35bcaa3691d788226e
Status: Downloaded newer image for nginx:latest
docker.io/library/nginx:latest
[root@VM-0-7-centos ~]# docker images
REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
nginx        latest    ea335eea17ab   3 days ago     141MB

```

ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªnginxå®¹å™¨å¹¶å‘½åä¸ºnginx01ï¼Œå¦‚ä¸‹æ“ä½œè¿›è¡Œåå°è¿è¡Œå’Œç«¯å£é…ç½®

![](https://langwenchong.gitee.io/figure-bed/20211121110328.png)

æ­¤æ—¶æˆ‘ä»¬è¾“å…¥`http://äº‘æœåŠ¡ip:3344`å³å¯çœ‹åˆ°æˆåŠŸéƒ¨ç½²åçš„nginxæœåŠ¡é¡µé¢(å‰ææ˜¯æœåŠ¡å™¨çš„é˜²ç«å¢™å·²æ‰“å¼€)ï¼š

![](https://langwenchong.gitee.io/figure-bed/20211121110711.png)

å¹¶ä¸”æ­¤æ—¶æˆ‘ä»¬è¿›å…¥nginxå®¹å™¨å‘ç°å…¶å†…éƒ¨ä¹Ÿå­˜åœ¨ä¸€ä¸ªé…ç½®å®Œæ•´çš„nginxæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçš„nginx.confé…ç½®ç›¸å…³çš„è½¬å‘ã€‚

```shell
[root@VM-0-7-centos ~]# docker ps
CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS                                   NAMES
429fc0ba5ede   nginx     "/docker-entrypoint.â€¦"   3 minutes ago   Up 3 minutes   0.0.0.0:3344->80/tcp, :::3344->80/tcp   nginx01
[root@VM-0-7-centos ~]# docker exec -it nginx01 /bin/bash
root@429fc0ba5ede:/# whereis nginx
nginx: /usr/sbin/nginx /usr/lib/nginx /etc/nginx /usr/share/nginx
root@429fc0ba5ede:/# cd /etc/nginx
root@429fc0ba5ede:/etc/nginx# ls
conf.d	fastcgi_params	mime.types  modules  nginx.conf  scgi_params  uwsgi_params
```

è¿™æ ·ä½¿ç”¨å®¹å™¨é…ç½®nginxçš„å¥½å¤„æ—¶ï¼Œå½“æˆ‘ä»¬éœ€è¦åŠ¨æ€ä½¿ç”¨nginxåˆ‡æ¢éƒ¨ç½²çš„é¡¹ç›®æ—¶ï¼Œæ— éœ€å†é¢‘ç¹çš„å»ä¿®æ”¹nginx.confæ–‡ä»¶äº†ï¼Œè€Œåªéœ€è¦å°†ä¸åŒçš„é¡¹ç›®éƒ½éƒ¨ç½²åˆ°ä¸€ä¸ªnginxå®¹å™¨å†…ï¼Œå½“éœ€è¦åˆ‡æ¢æ—¶åªéœ€è¦åŠ¨æ€çš„å¯åŠ¨æˆ–è€…å…³é—­å¯¹åº”çš„nginxå®¹å™¨å³å¯äº†ã€‚